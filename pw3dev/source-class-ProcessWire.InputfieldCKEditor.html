<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="generator" content="ApiGen 2.8.0">
	<meta name="robots" content="noindex">

	<title>File modules/Inputfield/InputfieldCKEditor/InputfieldCKEditor.module | ProcessWire 3 API (dev branch)</title>

	<script type="text/javascript" src="resources/combined.js?3142683295"></script>
	<script type="text/javascript" src="elementlist.js?2176782422"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?2921310712">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview">
			<span>Overview version 3.0.122 dev</span>
		</a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li><a href="namespace-Michelf.html">Michelf</a>
						</li>
				<li><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
				<li class="active"><a href="namespace-ProcessWire.html">ProcessWire</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-ProcessWire.AdminTheme.html">AdminTheme</a></li>
				<li><a href="class-ProcessWire.AdminThemeDefault.html">AdminThemeDefault</a></li>
				<li><a href="class-ProcessWire.AdminThemeDefaultHelpers.html">AdminThemeDefaultHelpers</a></li>
				<li><a href="class-ProcessWire.AdminThemeFramework.html">AdminThemeFramework</a></li>
				<li><a href="class-ProcessWire.AdminThemeReno.html">AdminThemeReno</a></li>
				<li><a href="class-ProcessWire.AdminThemeRenoHelpers.html">AdminThemeRenoHelpers</a></li>
				<li><a href="class-ProcessWire.AdminThemeUikit.html">AdminThemeUikit</a></li>
				<li><a href="class-ProcessWire.AdminThemeUikitConfigHelper.html">AdminThemeUikitConfigHelper</a></li>
				<li><a href="class-ProcessWire.Breadcrumb.html">Breadcrumb</a></li>
				<li><a href="class-ProcessWire.Breadcrumbs.html">Breadcrumbs</a></li>
				<li><a href="class-ProcessWire.CacheFile.html">CacheFile</a></li>
				<li><a href="class-ProcessWire.Comment.html">Comment</a></li>
				<li><a href="class-ProcessWire.CommentArray.html">CommentArray</a></li>
				<li><a href="class-ProcessWire.CommentFilter.html">CommentFilter</a></li>
				<li><a href="class-ProcessWire.CommentFilterAkismet.html">CommentFilterAkismet</a></li>
				<li><a href="class-ProcessWire.CommentForm.html">CommentForm</a></li>
				<li><a href="class-ProcessWire.CommentList.html">CommentList</a></li>
				<li><a href="class-ProcessWire.CommentNotifications.html">CommentNotifications</a></li>
				<li><a href="class-ProcessWire.CommentStars.html">CommentStars</a></li>
				<li><a href="class-ProcessWire.Config.html">Config</a></li>
				<li><a href="class-ProcessWire.Database.html">Database</a></li>
				<li><a href="class-ProcessWire.DatabaseMysqli.html">DatabaseMysqli</a></li>
				<li><a href="class-ProcessWire.DatabaseQuery.html">DatabaseQuery</a></li>
				<li><a href="class-ProcessWire.DatabaseQuerySelect.html">DatabaseQuerySelect</a></li>
				<li><a href="class-ProcessWire.DatabaseQuerySelectFulltext.html">DatabaseQuerySelectFulltext</a></li>
				<li><a href="class-ProcessWire.DatabaseStopwords.html">DatabaseStopwords</a></li>
				<li><a href="class-ProcessWire.Debug.html">Debug</a></li>
				<li><a href="class-ProcessWire.Field.html">Field</a></li>
				<li><a href="class-ProcessWire.Fieldgroup.html">Fieldgroup</a></li>
				<li><a href="class-ProcessWire.Fieldgroups.html">Fieldgroups</a></li>
				<li><a href="class-ProcessWire.FieldgroupsArray.html">FieldgroupsArray</a></li>
				<li><a href="class-ProcessWire.Fields.html">Fields</a></li>
				<li><a href="class-ProcessWire.FieldsArray.html">FieldsArray</a></li>
				<li><a href="class-ProcessWire.FieldSelectorInfo.html">FieldSelectorInfo</a></li>
				<li><a href="class-ProcessWire.FieldsetPage.html">FieldsetPage</a></li>
				<li><a href="class-ProcessWire.Fieldtype.html">Fieldtype</a></li>
				<li><a href="class-ProcessWire.FieldtypeCache.html">FieldtypeCache</a></li>
				<li><a href="class-ProcessWire.FieldtypeCheckbox.html">FieldtypeCheckbox</a></li>
				<li><a href="class-ProcessWire.FieldtypeComments.html">FieldtypeComments</a></li>
				<li><a href="class-ProcessWire.FieldtypeDatetime.html">FieldtypeDatetime</a></li>
				<li><a href="class-ProcessWire.FieldtypeEmail.html">FieldtypeEmail</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetClose.html">FieldtypeFieldsetClose</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetOpen.html">FieldtypeFieldsetOpen</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetPage.html">FieldtypeFieldsetPage</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetTabOpen.html">FieldtypeFieldsetTabOpen</a></li>
				<li><a href="class-ProcessWire.FieldtypeFile.html">FieldtypeFile</a></li>
				<li><a href="class-ProcessWire.FieldtypeFloat.html">FieldtypeFloat</a></li>
				<li><a href="class-ProcessWire.FieldtypeImage.html">FieldtypeImage</a></li>
				<li><a href="class-ProcessWire.FieldtypeInteger.html">FieldtypeInteger</a></li>
				<li><a href="class-ProcessWire.FieldtypeModule.html">FieldtypeModule</a></li>
				<li><a href="class-ProcessWire.FieldtypeMulti.html">FieldtypeMulti</a></li>
				<li><a href="class-ProcessWire.FieldtypeNotifications.html">FieldtypeNotifications</a></li>
				<li><a href="class-ProcessWire.FieldtypeOptions.html">FieldtypeOptions</a></li>
				<li><a href="class-ProcessWire.FieldtypePage.html">FieldtypePage</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTable.html">FieldtypePageTable</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTitle.html">FieldtypePageTitle</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTitleLanguage.html">FieldtypePageTitleLanguage</a></li>
				<li><a href="class-ProcessWire.FieldtypePassword.html">FieldtypePassword</a></li>
				<li><a href="class-ProcessWire.FieldtypeRepeater.html">FieldtypeRepeater</a></li>
				<li><a href="class-ProcessWire.FieldtypeRepeaterConfigHelper.html">FieldtypeRepeaterConfigHelper</a></li>
				<li><a href="class-ProcessWire.Fieldtypes.html">Fieldtypes</a></li>
				<li><a href="class-ProcessWire.FieldtypeSelector.html">FieldtypeSelector</a></li>
				<li><a href="class-ProcessWire.FieldtypeText.html">FieldtypeText</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextarea.html">FieldtypeTextarea</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextareaHelper.html">FieldtypeTextareaHelper</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextareaLanguage.html">FieldtypeTextareaLanguage</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextLanguage.html">FieldtypeTextLanguage</a></li>
				<li><a href="class-ProcessWire.FieldtypeURL.html">FieldtypeURL</a></li>
				<li><a href="class-ProcessWire.FileCompiler.html">FileCompiler</a></li>
				<li><a href="class-ProcessWire.FileCompilerModule.html">FileCompilerModule</a></li>
				<li><a href="class-ProcessWire.FileCompilerTags.html">FileCompilerTags</a></li>
				<li><a href="class-ProcessWire.FileLog.html">FileLog</a></li>
				<li><a href="class-ProcessWire.FilenameArray.html">FilenameArray</a></li>
				<li><a href="class-ProcessWire.FileValidatorModule.html">FileValidatorModule</a></li>
				<li><a href="class-ProcessWire.Fuel.html">Fuel</a></li>
				<li><a href="class-ProcessWire.HookEvent.html">HookEvent</a></li>
				<li><a href="class-ProcessWire.ImageInspector.html">ImageInspector</a></li>
				<li><a href="class-ProcessWire.ImageSizer.html">ImageSizer</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngine.html">ImageSizerEngine</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngineAnimatedGif.html">ImageSizerEngineAnimatedGif</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngineGD.html">ImageSizerEngineGD</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngineIMagick.html">ImageSizerEngineIMagick</a></li>
				<li><a href="class-ProcessWire.Inputfield.html">Inputfield</a></li>
				<li><a href="class-ProcessWire.InputfieldAsmSelect.html">InputfieldAsmSelect</a></li>
				<li><a href="class-ProcessWire.InputfieldButton.html">InputfieldButton</a></li>
				<li><a href="class-ProcessWire.InputfieldCheckbox.html">InputfieldCheckbox</a></li>
				<li><a href="class-ProcessWire.InputfieldCheckboxes.html">InputfieldCheckboxes</a></li>
				<li class="active"><a href="class-ProcessWire.InputfieldCKEditor.html">InputfieldCKEditor</a></li>
				<li><a href="class-ProcessWire.InputfieldCommentsAdmin.html">InputfieldCommentsAdmin</a></li>
				<li><a href="class-ProcessWire.InputfieldDatetime.html">InputfieldDatetime</a></li>
				<li><a href="class-ProcessWire.InputfieldEmail.html">InputfieldEmail</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldset.html">InputfieldFieldset</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldsetClose.html">InputfieldFieldsetClose</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldsetOpen.html">InputfieldFieldsetOpen</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldsetTabOpen.html">InputfieldFieldsetTabOpen</a></li>
				<li><a href="class-ProcessWire.InputfieldFile.html">InputfieldFile</a></li>
				<li><a href="class-ProcessWire.InputfieldFloat.html">InputfieldFloat</a></li>
				<li><a href="class-ProcessWire.InputfieldForm.html">InputfieldForm</a></li>
				<li><a href="class-ProcessWire.InputfieldHidden.html">InputfieldHidden</a></li>
				<li><a href="class-ProcessWire.InputfieldIcon.html">InputfieldIcon</a></li>
				<li><a href="class-ProcessWire.InputfieldImage.html">InputfieldImage</a></li>
				<li><a href="class-ProcessWire.InputfieldInteger.html">InputfieldInteger</a></li>
				<li><a href="class-ProcessWire.InputfieldMarkup.html">InputfieldMarkup</a></li>
				<li><a href="class-ProcessWire.InputfieldName.html">InputfieldName</a></li>
				<li><a href="class-ProcessWire.InputfieldPage.html">InputfieldPage</a></li>
				<li><a href="class-ProcessWire.InputfieldPageAutocomplete.html">InputfieldPageAutocomplete</a></li>
				<li><a href="class-ProcessWire.InputfieldPageListSelect.html">InputfieldPageListSelect</a></li>
				<li><a href="class-ProcessWire.InputfieldPageListSelectMultiple.html">InputfieldPageListSelectMultiple</a></li>
				<li><a href="class-ProcessWire.InputfieldPageName.html">InputfieldPageName</a></li>
				<li><a href="class-ProcessWire.InputfieldPageTable.html">InputfieldPageTable</a></li>
				<li><a href="class-ProcessWire.InputfieldPageTableAjax.html">InputfieldPageTableAjax</a></li>
				<li><a href="class-ProcessWire.InputfieldPageTitle.html">InputfieldPageTitle</a></li>
				<li><a href="class-ProcessWire.InputfieldPassword.html">InputfieldPassword</a></li>
				<li><a href="class-ProcessWire.InputfieldRadios.html">InputfieldRadios</a></li>
				<li><a href="class-ProcessWire.InputfieldRepeater.html">InputfieldRepeater</a></li>
				<li><a href="class-ProcessWire.InputfieldsArray.html">InputfieldsArray</a></li>
				<li><a href="class-ProcessWire.InputfieldSelect.html">InputfieldSelect</a></li>
				<li><a href="class-ProcessWire.InputfieldSelectMultiple.html">InputfieldSelectMultiple</a></li>
				<li><a href="class-ProcessWire.InputfieldSelector.html">InputfieldSelector</a></li>
				<li><a href="class-ProcessWire.InputfieldSubmit.html">InputfieldSubmit</a></li>
				<li><a href="class-ProcessWire.InputfieldText.html">InputfieldText</a></li>
				<li><a href="class-ProcessWire.InputfieldTextarea.html">InputfieldTextarea</a></li>
				<li><a href="class-ProcessWire.InputfieldURL.html">InputfieldURL</a></li>
				<li><a href="class-ProcessWire.InputfieldWrapper.html">InputfieldWrapper</a></li>
				<li><a href="class-ProcessWire.ISEAG_GIFDecoder.html">ISEAG_GIFDecoder</a></li>
				<li><a href="class-ProcessWire.ISEAG_GIFEncoder.html">ISEAG_GIFEncoder</a></li>
				<li><a href="class-ProcessWire.JqueryCore.html">JqueryCore</a></li>
				<li><a href="class-ProcessWire.JqueryMagnific.html">JqueryMagnific</a></li>
				<li><a href="class-ProcessWire.JqueryTableSorter.html">JqueryTableSorter</a></li>
				<li><a href="class-ProcessWire.JqueryUI.html">JqueryUI</a></li>
				<li><a href="class-ProcessWire.JqueryWireTabs.html">JqueryWireTabs</a></li>
				<li><a href="class-ProcessWire.Language.html">Language</a></li>
				<li><a href="class-ProcessWire.LanguageParser.html">LanguageParser</a></li>
				<li><a href="class-ProcessWire.Languages.html">Languages</a></li>
				<li><a href="class-ProcessWire.LanguagesPageFieldValue.html">LanguagesPageFieldValue</a></li>
				<li><a href="class-ProcessWire.LanguageSupport.html">LanguageSupport</a></li>
				<li><a href="class-ProcessWire.LanguageSupportFields.html">LanguageSupportFields</a></li>
				<li><a href="class-ProcessWire.LanguageSupportInstall.html">LanguageSupportInstall</a></li>
				<li><a href="class-ProcessWire.LanguageSupportPageNames.html">LanguageSupportPageNames</a></li>
				<li><a href="class-ProcessWire.LanguageTabs.html">LanguageTabs</a></li>
				<li><a href="class-ProcessWire.LanguageTranslator.html">LanguageTranslator</a></li>
				<li><a href="class-ProcessWire.LazyCron.html">LazyCron</a></li>
				<li><a href="class-ProcessWire.LogEntriesArray.html">LogEntriesArray</a></li>
				<li><a href="class-ProcessWire.MarkupAdminDataTable.html">MarkupAdminDataTable</a></li>
				<li><a href="class-ProcessWire.MarkupCache.html">MarkupCache</a></li>
				<li><a href="class-ProcessWire.MarkupFieldtype.html">MarkupFieldtype</a></li>
				<li><a href="class-ProcessWire.MarkupHTMLPurifier.html">MarkupHTMLPurifier</a></li>
				<li><a href="class-ProcessWire.MarkupPageArray.html">MarkupPageArray</a></li>
				<li><a href="class-ProcessWire.MarkupPageFields.html">MarkupPageFields</a></li>
				<li><a href="class-ProcessWire.MarkupPagerNav.html">MarkupPagerNav</a></li>
				<li><a href="class-ProcessWire.MarkupQA.html">MarkupQA</a></li>
				<li><a href="class-ProcessWire.MarkupRSS.html">MarkupRSS</a></li>
				<li><a href="class-ProcessWire.ModuleConfig.html">ModuleConfig</a></li>
				<li><a href="class-ProcessWire.ModuleJS.html">ModuleJS</a></li>
				<li><a href="class-ProcessWire.ModulePlaceholder.html">ModulePlaceholder</a></li>
				<li><a href="class-ProcessWire.Modules.html">Modules</a></li>
				<li><a href="class-ProcessWire.ModulesDuplicates.html">ModulesDuplicates</a></li>
				<li><a href="class-ProcessWire.Notice.html">Notice</a></li>
				<li><a href="class-ProcessWire.NoticeError.html">NoticeError</a></li>
				<li><a href="class-ProcessWire.NoticeMessage.html">NoticeMessage</a></li>
				<li><a href="class-ProcessWire.Notices.html">Notices</a></li>
				<li><a href="class-ProcessWire.NoticeWarning.html">NoticeWarning</a></li>
				<li><a href="class-ProcessWire.Notification.html">Notification</a></li>
				<li><a href="class-ProcessWire.NotificationArray.html">NotificationArray</a></li>
				<li><a href="class-ProcessWire.NullField.html">NullField</a></li>
				<li><a href="class-ProcessWire.NullPage.html">NullPage</a></li>
				<li><a href="class-ProcessWire.Page.html">Page</a></li>
				<li><a href="class-ProcessWire.PageAccess.html">PageAccess</a></li>
				<li><a href="class-ProcessWire.PageAction.html">PageAction</a></li>
				<li><a href="class-ProcessWire.PageArray.html">PageArray</a></li>
				<li><a href="class-ProcessWire.PageArrayIterator.html">PageArrayIterator</a></li>
				<li><a href="class-ProcessWire.PageBookmarks.html">PageBookmarks</a></li>
				<li><a href="class-ProcessWire.PageComparison.html">PageComparison</a></li>
				<li><a href="class-ProcessWire.Pagefile.html">Pagefile</a></li>
				<li><a href="class-ProcessWire.Pagefiles.html">Pagefiles</a></li>
				<li><a href="class-ProcessWire.PagefilesManager.html">PagefilesManager</a></li>
				<li><a href="class-ProcessWire.PageFinder.html">PageFinder</a></li>
				<li><a href="class-ProcessWire.PageFrontEdit.html">PageFrontEdit</a></li>
				<li><a href="class-ProcessWire.PageFrontEditConfig.html">PageFrontEditConfig</a></li>
				<li><a href="class-ProcessWire.Pageimage.html">Pageimage</a></li>
				<li><a href="class-ProcessWire.Pageimages.html">Pageimages</a></li>
				<li><a href="class-ProcessWire.PagePathHistory.html">PagePathHistory</a></li>
				<li><a href="class-ProcessWire.PagePaths.html">PagePaths</a></li>
				<li><a href="class-ProcessWire.PagePermissions.html">PagePermissions</a></li>
				<li><a href="class-ProcessWire.PageRender.html">PageRender</a></li>
				<li><a href="class-ProcessWire.PagerNav.html">PagerNav</a></li>
				<li><a href="class-ProcessWire.PagerNavItem.html">PagerNavItem</a></li>
				<li><a href="class-ProcessWire.Pages.html">Pages</a></li>
				<li><a href="class-ProcessWire.PagesAccess.html">PagesAccess</a></li>
				<li><a href="class-ProcessWire.PagesEditor.html">PagesEditor</a></li>
				<li><a href="class-ProcessWire.PagesExportImport.html">PagesExportImport</a></li>
				<li><a href="class-ProcessWire.PagesLoader.html">PagesLoader</a></li>
				<li><a href="class-ProcessWire.PagesLoaderCache.html">PagesLoaderCache</a></li>
				<li><a href="class-ProcessWire.PagesNames.html">PagesNames</a></li>
				<li><a href="class-ProcessWire.PagesSortfields.html">PagesSortfields</a></li>
				<li><a href="class-ProcessWire.PagesTrash.html">PagesTrash</a></li>
				<li><a href="class-ProcessWire.PagesType.html">PagesType</a></li>
				<li><a href="class-ProcessWire.PageTraversal.html">PageTraversal</a></li>
				<li><a href="class-ProcessWire.PaginatedArray.html">PaginatedArray</a></li>
				<li><a href="class-ProcessWire.Password.html">Password</a></li>
				<li><a href="class-ProcessWire.Paths.html">Paths</a></li>
				<li><a href="class-ProcessWire.Permission.html">Permission</a></li>
				<li><a href="class-ProcessWire.Permissions.html">Permissions</a></li>
				<li><a href="class-ProcessWire.Process.html">Process</a></li>
				<li><a href="class-ProcessWire.ProcessCommentsManager.html">ProcessCommentsManager</a></li>
				<li><a href="class-ProcessWire.ProcessController.html">ProcessController</a></li>
				<li><a href="class-ProcessWire.ProcessField.html">ProcessField</a></li>
				<li><a href="class-ProcessWire.ProcessFieldExportImport.html">ProcessFieldExportImport</a></li>
				<li><a href="class-ProcessWire.ProcessForgotPassword.html">ProcessForgotPassword</a></li>
				<li><a href="class-ProcessWire.ProcessHome.html">ProcessHome</a></li>
				<li><a href="class-ProcessWire.ProcessLanguage.html">ProcessLanguage</a></li>
				<li><a href="class-ProcessWire.ProcessLanguageTranslator.html">ProcessLanguageTranslator</a></li>
				<li><a href="class-ProcessWire.ProcessList.html">ProcessList</a></li>
				<li><a href="class-ProcessWire.ProcessLogger.html">ProcessLogger</a></li>
				<li><a href="class-ProcessWire.ProcessLogin.html">ProcessLogin</a></li>
				<li><a href="class-ProcessWire.ProcessModule.html">ProcessModule</a></li>
				<li><a href="class-ProcessWire.ProcessModuleInstall.html">ProcessModuleInstall</a></li>
				<li><a href="class-ProcessWire.ProcessPageAdd.html">ProcessPageAdd</a></li>
				<li><a href="class-ProcessWire.ProcessPageClone.html">ProcessPageClone</a></li>
				<li><a href="class-ProcessWire.ProcessPageEdit.html">ProcessPageEdit</a></li>
				<li><a href="class-ProcessWire.ProcessPageEditImageSelect.html">ProcessPageEditImageSelect</a></li>
				<li><a href="class-ProcessWire.ProcessPageEditLink.html">ProcessPageEditLink</a></li>
				<li><a href="class-ProcessWire.ProcessPageList.html">ProcessPageList</a></li>
				<li><a href="class-ProcessWire.ProcessPageListActions.html">ProcessPageListActions</a></li>
				<li><a href="class-ProcessWire.ProcessPageLister.html">ProcessPageLister</a></li>
				<li><a href="class-ProcessWire.ProcessPageListerBookmarks.html">ProcessPageListerBookmarks</a></li>
				<li><a href="class-ProcessWire.ProcessPageListRender.html">ProcessPageListRender</a></li>
				<li><a href="class-ProcessWire.ProcessPageListRenderJSON.html">ProcessPageListRenderJSON</a></li>
				<li><a href="class-ProcessWire.ProcessPageSearch.html">ProcessPageSearch</a></li>
				<li><a href="class-ProcessWire.ProcessPageSearchLive.html">ProcessPageSearchLive</a></li>
				<li><a href="class-ProcessWire.ProcessPagesExportImport.html">ProcessPagesExportImport</a></li>
				<li><a href="class-ProcessWire.ProcessPageSort.html">ProcessPageSort</a></li>
				<li><a href="class-ProcessWire.ProcessPageTrash.html">ProcessPageTrash</a></li>
				<li><a href="class-ProcessWire.ProcessPageType.html">ProcessPageType</a></li>
				<li><a href="class-ProcessWire.ProcessPageView.html">ProcessPageView</a></li>
				<li><a href="class-ProcessWire.ProcessPermission.html">ProcessPermission</a></li>
				<li><a href="class-ProcessWire.ProcessProfile.html">ProcessProfile</a></li>
				<li><a href="class-ProcessWire.ProcessRecentPages.html">ProcessRecentPages</a></li>
				<li><a href="class-ProcessWire.ProcessRole.html">ProcessRole</a></li>
				<li><a href="class-ProcessWire.ProcessSessionDB.html">ProcessSessionDB</a></li>
				<li><a href="class-ProcessWire.ProcessTemplate.html">ProcessTemplate</a></li>
				<li><a href="class-ProcessWire.ProcessTemplateExportImport.html">ProcessTemplateExportImport</a></li>
				<li><a href="class-ProcessWire.ProcessUser.html">ProcessUser</a></li>
				<li><a href="class-ProcessWire.ProcessUserConfig.html">ProcessUserConfig</a></li>
				<li><a href="class-ProcessWire.ProcessWire.html">ProcessWire</a></li>
				<li><a href="class-ProcessWire.Punycode.html">Punycode</a></li>
				<li><a href="class-ProcessWire.PWGIF.html">PWGIF</a></li>
				<li><a href="class-ProcessWire.PWGIFCOLORTABLE.html">PWGIFCOLORTABLE</a></li>
				<li><a href="class-ProcessWire.PWGIFFILEHEADER.html">PWGIFFILEHEADER</a></li>
				<li><a href="class-ProcessWire.PWGIFIMAGE.html">PWGIFIMAGE</a></li>
				<li><a href="class-ProcessWire.PWGIFIMAGEHEADER.html">PWGIFIMAGEHEADER</a></li>
				<li><a href="class-ProcessWire.PWGIFLZW.html">PWGIFLZW</a></li>
				<li><a href="class-ProcessWire.PWPNG.html">PWPNG</a></li>
				<li><a href="class-ProcessWire.RepeaterPage.html">RepeaterPage</a></li>
				<li><a href="class-ProcessWire.RepeaterPageArray.html">RepeaterPageArray</a></li>
				<li><a href="class-ProcessWire.Role.html">Role</a></li>
				<li><a href="class-ProcessWire.Roles.html">Roles</a></li>
				<li><a href="class-ProcessWire.Sanitizer.html">Sanitizer</a></li>
				<li><a href="class-ProcessWire.SelectableOption.html">SelectableOption</a></li>
				<li><a href="class-ProcessWire.SelectableOptionArray.html">SelectableOptionArray</a></li>
				<li><a href="class-ProcessWire.SelectableOptionConfig.html">SelectableOptionConfig</a></li>
				<li><a href="class-ProcessWire.SelectableOptionManager.html">SelectableOptionManager</a></li>
				<li><a href="class-ProcessWire.Selector.html">Selector</a></li>
				<li><a href="class-ProcessWire.SelectorBitwiseAnd.html">SelectorBitwiseAnd</a></li>
				<li><a href="class-ProcessWire.SelectorContains.html">SelectorContains</a></li>
				<li><a href="class-ProcessWire.SelectorContainsLike.html">SelectorContainsLike</a></li>
				<li><a href="class-ProcessWire.SelectorContainsWords.html">SelectorContainsWords</a></li>
				<li><a href="class-ProcessWire.SelectorEnds.html">SelectorEnds</a></li>
				<li><a href="class-ProcessWire.SelectorEndsLike.html">SelectorEndsLike</a></li>
				<li><a href="class-ProcessWire.SelectorEqual.html">SelectorEqual</a></li>
				<li><a href="class-ProcessWire.SelectorGreaterThan.html">SelectorGreaterThan</a></li>
				<li><a href="class-ProcessWire.SelectorGreaterThanEqual.html">SelectorGreaterThanEqual</a></li>
				<li><a href="class-ProcessWire.SelectorLessThan.html">SelectorLessThan</a></li>
				<li><a href="class-ProcessWire.SelectorLessThanEqual.html">SelectorLessThanEqual</a></li>
				<li><a href="class-ProcessWire.SelectorNotEqual.html">SelectorNotEqual</a></li>
				<li><a href="class-ProcessWire.Selectors.html">Selectors</a></li>
				<li><a href="class-ProcessWire.SelectorStarts.html">SelectorStarts</a></li>
				<li><a href="class-ProcessWire.SelectorStartsLike.html">SelectorStartsLike</a></li>
				<li><a href="class-ProcessWire.Session.html">Session</a></li>
				<li><a href="class-ProcessWire.SessionCSRF.html">SessionCSRF</a></li>
				<li><a href="class-ProcessWire.SessionHandlerDB.html">SessionHandlerDB</a></li>
				<li><a href="class-ProcessWire.SessionLoginThrottle.html">SessionLoginThrottle</a></li>
				<li><a href="class-ProcessWire.SystemNotifications.html">SystemNotifications</a></li>
				<li><a href="class-ProcessWire.SystemNotificationsConfig.html">SystemNotificationsConfig</a></li>
				<li><a href="class-ProcessWire.SystemUpdate.html">SystemUpdate</a></li>
				<li><a href="class-ProcessWire.SystemUpdate1.html">SystemUpdate1</a></li>
				<li><a href="class-ProcessWire.SystemUpdate10.html">SystemUpdate10</a></li>
				<li><a href="class-ProcessWire.SystemUpdate11.html">SystemUpdate11</a></li>
				<li><a href="class-ProcessWire.SystemUpdate12.html">SystemUpdate12</a></li>
				<li><a href="class-ProcessWire.SystemUpdate13.html">SystemUpdate13</a></li>
				<li><a href="class-ProcessWire.SystemUpdate14.html">SystemUpdate14</a></li>
				<li><a href="class-ProcessWire.SystemUpdate15.html">SystemUpdate15</a></li>
				<li><a href="class-ProcessWire.SystemUpdate16.html">SystemUpdate16</a></li>
				<li><a href="class-ProcessWire.SystemUpdate4.html">SystemUpdate4</a></li>
				<li><a href="class-ProcessWire.SystemUpdate5.html">SystemUpdate5</a></li>
				<li><a href="class-ProcessWire.SystemUpdate6.html">SystemUpdate6</a></li>
				<li><a href="class-ProcessWire.SystemUpdate7.html">SystemUpdate7</a></li>
				<li><a href="class-ProcessWire.SystemUpdate9.html">SystemUpdate9</a></li>
				<li><a href="class-ProcessWire.SystemUpdater.html">SystemUpdater</a></li>
				<li><a href="class-ProcessWire.Template.html">Template</a></li>
				<li><a href="class-ProcessWire.TemplateFile.html">TemplateFile</a></li>
				<li><a href="class-ProcessWire.Templates.html">Templates</a></li>
				<li><a href="class-ProcessWire.TemplatesArray.html">TemplatesArray</a></li>
				<li><a href="class-ProcessWire.Textformatter.html">Textformatter</a></li>
				<li><a href="class-ProcessWire.TextformatterEntities.html">TextformatterEntities</a></li>
				<li><a href="class-ProcessWire.TextformatterMarkdownExtra.html">TextformatterMarkdownExtra</a></li>
				<li><a href="class-ProcessWire.TextformatterNewlineBR.html">TextformatterNewlineBR</a></li>
				<li><a href="class-ProcessWire.TextformatterNewlineUL.html">TextformatterNewlineUL</a></li>
				<li><a href="class-ProcessWire.TextformatterPstripper.html">TextformatterPstripper</a></li>
				<li><a href="class-ProcessWire.TextformatterSmartypants.html">TextformatterSmartypants</a></li>
				<li><a href="class-ProcessWire.TextformatterStripTags.html">TextformatterStripTags</a></li>
				<li><a href="class-ProcessWire.Tfa.html">Tfa</a></li>
				<li><a href="class-ProcessWire.User.html">User</a></li>
				<li><a href="class-ProcessWire.Users.html">Users</a></li>
				<li><a href="class-ProcessWire.Wire.html">Wire</a></li>
				<li><a href="class-ProcessWire.WireAction.html">WireAction</a></li>
				<li><a href="class-ProcessWire.WireArray.html">WireArray</a></li>
				<li><a href="class-ProcessWire.WireCache.html">WireCache</a></li>
				<li><a href="class-ProcessWire.WireClassLoader.html">WireClassLoader</a></li>
				<li><a href="class-ProcessWire.WireData.html">WireData</a></li>
				<li><a href="class-ProcessWire.WireDatabaseBackup.html">WireDatabaseBackup</a></li>
				<li><a href="class-ProcessWire.WireDatabasePDO.html">WireDatabasePDO</a></li>
				<li><a href="class-ProcessWire.WireDateTime.html">WireDateTime</a></li>
				<li><a href="class-ProcessWire.WireDebugInfo.html">WireDebugInfo</a></li>
				<li><a href="class-ProcessWire.WireFileTools.html">WireFileTools</a></li>
				<li><a href="class-ProcessWire.WireHooks.html">WireHooks</a></li>
				<li><a href="class-ProcessWire.WireHttp.html">WireHttp</a></li>
				<li><a href="class-ProcessWire.WireInput.html">WireInput</a></li>
				<li><a href="class-ProcessWire.WireInputData.html">WireInputData</a></li>
				<li><a href="class-ProcessWire.WireLog.html">WireLog</a></li>
				<li><a href="class-ProcessWire.WireMail.html">WireMail</a></li>
				<li><a href="class-ProcessWire.WireMailTools.html">WireMailTools</a></li>
				<li><a href="class-ProcessWire.WireMarkupRegions.html">WireMarkupRegions</a></li>
				<li><a href="class-ProcessWire.WireRandom.html">WireRandom</a></li>
				<li><a href="class-ProcessWire.WireSaveableItems.html">WireSaveableItems</a></li>
				<li><a href="class-ProcessWire.WireSaveableItemsLookup.html">WireSaveableItemsLookup</a></li>
				<li><a href="class-ProcessWire.WireSessionHandler.html">WireSessionHandler</a></li>
				<li><a href="class-ProcessWire.WireShutdown.html">WireShutdown</a></li>
				<li><a href="class-ProcessWire.WireTempDir.html">WireTempDir</a></li>
				<li><a href="class-ProcessWire.WireTextTools.html">WireTextTools</a></li>
				<li><a href="class-ProcessWire.WireUpload.html">WireUpload</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-ProcessWire._Module.html">_Module</a></li>
				<li><a href="class-ProcessWire.CommentFormInterface.html">CommentFormInterface</a></li>
				<li><a href="class-ProcessWire.CommentListInterface.html">CommentListInterface</a></li>
				<li><a href="class-ProcessWire.ConfigurableModule.html">ConfigurableModule</a></li>
				<li><a href="class-ProcessWire.Exportable.html">Exportable</a></li>
				<li><a href="class-ProcessWire.FieldtypeLanguageInterface.html">FieldtypeLanguageInterface</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTitleCompatible.html">FieldtypePageTitleCompatible</a></li>
				<li><a href="class-ProcessWire.HasLookupItems.html">HasLookupItems</a></li>
				<li><a href="class-ProcessWire.InputfieldHasArrayValue.html">InputfieldHasArrayValue</a></li>
				<li><a href="class-ProcessWire.InputfieldHasSortableValue.html">InputfieldHasSortableValue</a></li>
				<li><a href="class-ProcessWire.InputfieldItemList.html">InputfieldItemList</a></li>
				<li><a href="class-ProcessWire.InputfieldPageListSelection.html">InputfieldPageListSelection</a></li>
				<li><a href="class-ProcessWire.LanguagesValueInterface.html">LanguagesValueInterface</a></li>
				<li><a href="class-ProcessWire.Module.html">Module</a></li>
				<li><a href="class-ProcessWire.PageFieldValueInterface.html">PageFieldValueInterface</a></li>
				<li><a href="class-ProcessWire.Saveable.html">Saveable</a></li>
				<li><a href="class-ProcessWire.SearchableModule.html">SearchableModule</a></li>
				<li><a href="class-ProcessWire.WireDatabase.html">WireDatabase</a></li>
				<li><a href="class-ProcessWire.WireFuelable.html">WireFuelable</a></li>
				<li><a href="class-ProcessWire.WireMailInterface.html">WireMailInterface</a></li>
				<li><a href="class-ProcessWire.WireMatchable.html">WireMatchable</a></li>
				<li><a href="class-ProcessWire.WireNoticeable.html">WireNoticeable</a></li>
				<li><a href="class-ProcessWire.WirePageEditor.html">WirePageEditor</a></li>
				<li><a href="class-ProcessWire.WirePaginatable.html">WirePaginatable</a></li>
				<li><a href="class-ProcessWire.WireProfilerInterface.html">WireProfilerInterface</a></li>
				<li><a href="class-ProcessWire.WireTrackable.html">WireTrackable</a></li>
				<li><a href="class-ProcessWire.WireTranslatable.html">WireTranslatable</a></li>
			</ul>


			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-ProcessWire.PageFinderException.html">PageFinderException</a></li>
				<li><a href="class-ProcessWire.PageFinderSyntaxException.html">PageFinderSyntaxException</a></li>
				<li><a href="class-ProcessWire.ProcessController404Exception.html">ProcessController404Exception</a></li>
				<li><a href="class-ProcessWire.ProcessControllerPermissionException.html">ProcessControllerPermissionException</a></li>
				<li><a href="class-ProcessWire.Wire404Exception.html">Wire404Exception</a></li>
				<li><a href="class-ProcessWire.WireCSRFException.html">WireCSRFException</a></li>
				<li><a href="class-ProcessWire.WireDatabaseException.html">WireDatabaseException</a></li>
				<li><a href="class-ProcessWire.WireException.html">WireException</a></li>
				<li><a href="class-ProcessWire.WirePermissionException.html">WirePermissionException</a></li>
			</ul>


			<h3>Functions</h3>
			<ul>
				<li><a href="function-ProcessWire.__.html">__</a></li>
				<li><a href="function-ProcessWire._checkForHttpHostError.html">_checkForHttpHostError</a></li>
				<li><a href="function-ProcessWire._checkForTwoFactorAuth.html">_checkForTwoFactorAuth</a></li>
				<li><a href="function-ProcessWire._hookSessionRedirectModal.html">_hookSessionRedirectModal</a></li>
				<li><a href="function-ProcessWire._n.html">_n</a></li>
				<li><a href="function-ProcessWire._wireDataAPI.html">_wireDataAPI</a></li>
				<li><a href="function-ProcessWire._wirePagesAPI.html">_wirePagesAPI</a></li>
				<li><a href="function-ProcessWire._x.html">_x</a></li>
				<li><a href="function-ProcessWire.cache.html">cache</a></li>
				<li><a href="function-ProcessWire.config.html">config</a></li>
				<li><a href="function-ProcessWire.database.html">database</a></li>
				<li><a href="function-ProcessWire.datetime.html">datetime</a></li>
				<li><a href="function-ProcessWire.fields.html">fields</a></li>
				<li><a href="function-ProcessWire.FieldsetPageInstructions.html">FieldsetPageInstructions</a></li>
				<li><a href="function-ProcessWire.files.html">files</a></li>
				<li><a href="function-ProcessWire.hookMarkupPagerNavRender.html">hookMarkupPagerNavRender</a></li>
				<li><a href="function-ProcessWire.input.html">input</a></li>
				<li><a href="function-ProcessWire.inputCookie.html">inputCookie</a></li>
				<li><a href="function-ProcessWire.InputfieldPageName_saveModuleConfigData.html">InputfieldPageName_saveModuleConfigData</a></li>
				<li><a href="function-ProcessWire.inputGet.html">inputGet</a></li>
				<li><a href="function-ProcessWire.inputPost.html">inputPost</a></li>
				<li><a href="function-ProcessWire.languages.html">languages</a></li>
				<li><a href="function-ProcessWire.modules.html">modules</a></li>
				<li><a href="function-ProcessWire.page.html">page</a></li>
				<li><a href="function-ProcessWire.PageArray.html">PageArray</a></li>
				<li><a href="function-ProcessWire.pages.html">pages</a></li>
				<li><a href="function-ProcessWire.paths.html">paths</a></li>
				<li><a href="function-ProcessWire.permissions.html">permissions</a></li>
				<li><a href="function-ProcessWire.profiler.html">profiler</a></li>
				<li><a href="function-ProcessWire.region.html">region</a></li>
				<li><a href="function-ProcessWire.roles.html">roles</a></li>
				<li><a href="function-ProcessWire.sanitizer.html">sanitizer</a></li>
				<li><a href="function-ProcessWire.session.html">session</a></li>
				<li><a href="function-ProcessWire.setting.html">setting</a></li>
				<li><a href="function-ProcessWire.tabIndent.html">tabIndent</a></li>
				<li><a href="function-ProcessWire.templates.html">templates</a></li>
				<li><a href="function-ProcessWire.urls.html">urls</a></li>
				<li><a href="function-ProcessWire.user.html">user</a></li>
				<li><a href="function-ProcessWire.users.html">users</a></li>
				<li><a href="function-ProcessWire.wire.html">wire</a></li>
				<li><a href="function-ProcessWire.WireArray.html">WireArray</a></li>
				<li><a href="function-ProcessWire.wireBytesStr.html">wireBytesStr</a></li>
				<li><a href="function-ProcessWire.wireCache.html">wireCache</a></li>
				<li><a href="function-ProcessWire.wireChmod.html">wireChmod</a></li>
				<li><a href="function-ProcessWire.wireClassExists.html">wireClassExists</a></li>
				<li><a href="function-ProcessWire.wireClassImplements.html">wireClassImplements</a></li>
				<li><a href="function-ProcessWire.wireClassName.html">wireClassName</a></li>
				<li><a href="function-ProcessWire.wireClassParents.html">wireClassParents</a></li>
				<li><a href="function-ProcessWire.wireConfig.html">wireConfig</a></li>
				<li><a href="function-ProcessWire.wireCopy.html">wireCopy</a></li>
				<li><a href="function-ProcessWire.wireCount.html">wireCount</a></li>
				<li><a href="function-ProcessWire.wireDatabase.html">wireDatabase</a></li>
				<li><a href="function-ProcessWire.wireDate.html">wireDate</a></li>
				<li><a href="function-ProcessWire.wireDatetime.html">wireDatetime</a></li>
				<li><a href="function-ProcessWire.wireDecodeJSON.html">wireDecodeJSON</a></li>
				<li><a href="function-ProcessWire.wireEncodeJSON.html">wireEncodeJSON</a></li>
				<li><a href="function-ProcessWire.wireFields.html">wireFields</a></li>
				<li><a href="function-ProcessWire.wireFiles.html">wireFiles</a></li>
				<li><a href="function-ProcessWire.wireIconMarkup.html">wireIconMarkup</a></li>
				<li><a href="function-ProcessWire.wireIconMarkupFile.html">wireIconMarkupFile</a></li>
				<li><a href="function-ProcessWire.wireIncludeFile.html">wireIncludeFile</a></li>
				<li><a href="function-ProcessWire.wireInput.html">wireInput</a></li>
				<li><a href="function-ProcessWire.wireInputCookie.html">wireInputCookie</a></li>
				<li><a href="function-ProcessWire.wireInputGet.html">wireInputGet</a></li>
				<li><a href="function-ProcessWire.wireInputPost.html">wireInputPost</a></li>
				<li><a href="function-ProcessWire.wireInstanceOf.html">wireInstanceOf</a></li>
				<li><a href="function-ProcessWire.wireIsCallable.html">wireIsCallable</a></li>
				<li><a href="function-ProcessWire.wireLanguages.html">wireLanguages</a></li>
				<li><a href="function-ProcessWire.wireLog.html">wireLog</a></li>
				<li><a href="function-ProcessWire.wireMail.html">wireMail</a></li>
				<li><a href="function-ProcessWire.wireMethodExists.html">wireMethodExists</a></li>
				<li><a href="function-ProcessWire.wireMinArray.html">wireMinArray</a></li>
				<li><a href="function-ProcessWire.wireMkdir.html">wireMkdir</a></li>
				<li><a href="function-ProcessWire.wireModules.html">wireModules</a></li>
				<li><a href="function-ProcessWire.wirePage.html">wirePage</a></li>
				<li><a href="function-ProcessWire.wirePages.html">wirePages</a></li>
				<li><a href="function-ProcessWire.wirePaths.html">wirePaths</a></li>
				<li><a href="function-ProcessWire.wirePermissions.html">wirePermissions</a></li>
				<li><a href="function-ProcessWire.wirePopulateStringTags.html">wirePopulateStringTags</a></li>
				<li><a href="function-ProcessWire.wireProfiler.html">wireProfiler</a></li>
				<li><a href="function-ProcessWire.wireRegion.html">wireRegion</a></li>
				<li><a href="function-ProcessWire.wireRelativeTimeStr.html">wireRelativeTimeStr</a></li>
				<li><a href="function-ProcessWire.wireRenderFile.html">wireRenderFile</a></li>
				<li><a href="function-ProcessWire.wireRmdir.html">wireRmdir</a></li>
				<li><a href="function-ProcessWire.wireRoles.html">wireRoles</a></li>
				<li><a href="function-ProcessWire.wireSanitizer.html">wireSanitizer</a></li>
				<li><a href="function-ProcessWire.wireSendFile.html">wireSendFile</a></li>
				<li><a href="function-ProcessWire.wireSession.html">wireSession</a></li>
				<li><a href="function-ProcessWire.wireTempDir.html">wireTempDir</a></li>
				<li><a href="function-ProcessWire.wireTemplates.html">wireTemplates</a></li>
				<li><a href="function-ProcessWire.wireUnzipFile.html">wireUnzipFile</a></li>
				<li><a href="function-ProcessWire.wireUrls.html">wireUrls</a></li>
				<li><a href="function-ProcessWire.wireUser.html">wireUser</a></li>
				<li><a href="function-ProcessWire.wireUsers.html">wireUsers</a></li>
				<li><a href="function-ProcessWire.wireZipFile.html">wireZipFile</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">	
	<div id="switch">
	<span id="switch_sel">
		<a id="light" href="#" class="themes" title="Light theme"></a>
		<a id="dark" href="#" class="themes" title="Dark theme"></a>
	</span>
	</div>

	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text">
		<input type="submit" value="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-ProcessWire.html" title="Summary of ProcessWire"><span>Namespace</span></a>
			</li>
			<li>
				<a href="class-ProcessWire.InputfieldCKEditor.html" title="Summary of ProcessWire\InputfieldCKEditor"><span>Class</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
			<li>
				<a href="todo.html" title="Todo list"><span>Todo</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<pre><code><span id="1" class="l"><a class="l" href="#1">  1: </a><span class="xlang">&lt;?php</span> <span class="php-keyword1">namespace</span> ProcessWire;
</span><span id="2" class="l"><a class="l" href="#2">  2: </a>
</span><span id="3" class="l"><a class="l" href="#3">  3: </a><span class="php-comment">/**
</span></span><span id="4" class="l"><a class="l" href="#4">  4: </a><span class="php-comment"> * ProcessWire Inputfield for CKEditor
</span></span><span id="5" class="l"><a class="l" href="#5">  5: </a><span class="php-comment"> *
</span></span><span id="6" class="l"><a class="l" href="#6">  6: </a><span class="php-comment"> * CKEditor Copyright (C) 2003-2017, CKSource - Frederico Knabben
</span></span><span id="7" class="l"><a class="l" href="#7">  7: </a><span class="php-comment"> * http://ckeditor.com
</span></span><span id="8" class="l"><a class="l" href="#8">  8: </a><span class="php-comment"> *
</span></span><span id="9" class="l"><a class="l" href="#9">  9: </a><span class="php-comment"> * ProcessWire 3.x, Copyright 2018 by Ryan Cramer
</span></span><span id="10" class="l"><a class="l" href="#10"> 10: </a><span class="php-comment"> * https://processwire.com
</span></span><span id="11" class="l"><a class="l" href="#11"> 11: </a><span class="php-comment"> * 
</span></span><span id="12" class="l"><a class="l" href="#12"> 12: </a><span class="php-comment"> * @property bool|int $inlineMode ($default=0)
</span></span><span id="13" class="l"><a class="l" href="#13"> 13: </a><span class="php-comment"> * @property bool|int $usePurifier (default=0)
</span></span><span id="14" class="l"><a class="l" href="#14"> 14: </a><span class="php-comment"> * @property bool|int $useACF (default=1)
</span></span><span id="15" class="l"><a class="l" href="#15"> 15: </a><span class="php-comment"> * @property array $toggles
</span></span><span id="16" class="l"><a class="l" href="#16"> 16: </a><span class="php-comment"> * @property string $toolbar
</span></span><span id="17" class="l"><a class="l" href="#17"> 17: </a><span class="php-comment"> * @property string $contentsCss
</span></span><span id="18" class="l"><a class="l" href="#18"> 18: </a><span class="php-comment"> * @property string $contentsInlineCss
</span></span><span id="19" class="l"><a class="l" href="#19"> 19: </a><span class="php-comment"> * @property string $stylesSet
</span></span><span id="20" class="l"><a class="l" href="#20"> 20: </a><span class="php-comment"> * @property string|array $extraPlugins
</span></span><span id="21" class="l"><a class="l" href="#21"> 21: </a><span class="php-comment"> * @property string $removePlugins
</span></span><span id="22" class="l"><a class="l" href="#22"> 22: </a><span class="php-comment"> * @property string $extraAllowedContent
</span></span><span id="23" class="l"><a class="l" href="#23"> 23: </a><span class="php-comment"> * @property string $formatTags
</span></span><span id="24" class="l"><a class="l" href="#24"> 24: </a><span class="php-comment"> * @property string $customOptions
</span></span><span id="25" class="l"><a class="l" href="#25"> 25: </a><span class="php-comment"> * @property array $imageFields
</span></span><span id="26" class="l"><a class="l" href="#26"> 26: </a><span class="php-comment"> * @property int $assetPageID
</span></span><span id="27" class="l"><a class="l" href="#27"> 27: </a><span class="php-comment"> * 
</span></span><span id="28" class="l"><a class="l" href="#28"> 28: </a><span class="php-comment"> *
</span></span><span id="29" class="l"><a class="l" href="#29"> 29: </a><span class="php-comment"> */</span>
</span><span id="30" class="l"><a class="l" href="#30"> 30: </a>
</span><span id="31" class="l"><a class="l" href="#31"> 31: </a><span class="php-keyword1">class</span> <a id="InputfieldCKEditor" href="#InputfieldCKEditor">InputfieldCKEditor</a> <span class="php-keyword1">extends</span> InputfieldTextarea {
</span><span id="32" class="l"><a class="l" href="#32"> 32: </a>
</span><span id="33" class="l"><a class="l" href="#33"> 33: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_getModuleInfo" href="#_getModuleInfo">getModuleInfo</a>() {
</span><span id="34" class="l"><a class="l" href="#34"> 34: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(
</span><span id="35" class="l"><a class="l" href="#35"> 35: </a>            <span class="php-quote">'title'</span> =&gt; <span class="php-quote">'CKEditor'</span>,
</span><span id="36" class="l"><a class="l" href="#36"> 36: </a>            <span class="php-quote">'version'</span> =&gt; <span class="php-num">161</span>, 
</span><span id="37" class="l"><a class="l" href="#37"> 37: </a>            <span class="php-quote">'summary'</span> =&gt; __(<span class="php-quote">'CKEditor textarea rich text editor.'</span>, __FILE__),
</span><span id="38" class="l"><a class="l" href="#38"> 38: </a>            <span class="php-quote">'installs'</span> =&gt; <span class="php-keyword1">array</span>(<span class="php-quote">'MarkupHTMLPurifier'</span>), 
</span><span id="39" class="l"><a class="l" href="#39"> 39: </a>            );
</span><span id="40" class="l"><a class="l" href="#40"> 40: </a>    }
</span><span id="41" class="l"><a class="l" href="#41"> 41: </a>
</span><span id="42" class="l"><a class="l" href="#42"> 42: </a>    <span class="php-keyword1">const</span> toggleCleanDIV = <span class="php-num">2</span>;   <span class="php-comment">// remove &lt;div&gt;s</span>
</span><span id="43" class="l"><a class="l" href="#43"> 43: </a>    <span class="php-keyword1">const</span> toggleCleanP = <span class="php-num">4</span>;     <span class="php-comment">// remove empty &lt;p&gt; tags    </span>
</span><span id="44" class="l"><a class="l" href="#44"> 44: </a>    <span class="php-keyword1">const</span> toggleCleanNBSP = <span class="php-num">8</span>;  <span class="php-comment">// remove &amp;nbsp; entities</span>
</span><span id="45" class="l"><a class="l" href="#45"> 45: </a>    
</span><span id="46" class="l"><a class="l" href="#46"> 46: </a>
</span><span id="47" class="l"><a class="l" href="#47"> 47: </a>    <span class="php-comment">/**
</span></span><span id="48" class="l"><a class="l" href="#48"> 48: </a><span class="php-comment">     * Placeholder that appears as the value in the hidden input used by inline mode
</span></span><span id="49" class="l"><a class="l" href="#49"> 49: </a><span class="php-comment">     *
</span></span><span id="50" class="l"><a class="l" href="#50"> 50: </a><span class="php-comment">     */</span>
</span><span id="51" class="l"><a class="l" href="#51"> 51: </a>    <span class="php-keyword1">const</span> <a id="PLACEHOLDER_TEXT" href="#PLACEHOLDER_TEXT">PLACEHOLDER_TEXT</a> = <span class="php-quote">':IGNORE:'</span>;
</span><span id="52" class="l"><a class="l" href="#52"> 52: </a>
</span><span id="53" class="l"><a class="l" href="#53"> 53: </a>    <span class="php-comment">/**
</span></span><span id="54" class="l"><a class="l" href="#54"> 54: </a><span class="php-comment">     * Default value for CK Editor extraPlugins config option
</span></span><span id="55" class="l"><a class="l" href="#55"> 55: </a><span class="php-comment">     *
</span></span><span id="56" class="l"><a class="l" href="#56"> 56: </a><span class="php-comment">     */</span>
</span><span id="57" class="l"><a class="l" href="#57"> 57: </a>    <span class="php-keyword1">const</span> <a id="EXTRA_PLUGINS" href="#EXTRA_PLUGINS">EXTRA_PLUGINS</a> = <span class="php-quote">'pwimage,pwlink,sourcedialog'</span>;
</span><span id="58" class="l"><a class="l" href="#58"> 58: </a>    
</span><span id="59" class="l"><a class="l" href="#59"> 59: </a>    <span class="php-comment">/**
</span></span><span id="60" class="l"><a class="l" href="#60"> 60: </a><span class="php-comment">     * Default value for CK Editor removePlugins config option
</span></span><span id="61" class="l"><a class="l" href="#61"> 61: </a><span class="php-comment">     *
</span></span><span id="62" class="l"><a class="l" href="#62"> 62: </a><span class="php-comment">     */</span>
</span><span id="63" class="l"><a class="l" href="#63"> 63: </a>    <span class="php-keyword1">const</span> <a id="REMOVE_PLUGINS" href="#REMOVE_PLUGINS">REMOVE_PLUGINS</a> = <span class="php-quote">'image,magicline'</span>;
</span><span id="64" class="l"><a class="l" href="#64"> 64: </a>
</span><span id="65" class="l"><a class="l" href="#65"> 65: </a>    <span class="php-comment">/**
</span></span><span id="66" class="l"><a class="l" href="#66"> 66: </a><span class="php-comment">     * Default value for CK Editor extraAllowedContent option
</span></span><span id="67" class="l"><a class="l" href="#67"> 67: </a><span class="php-comment">     *
</span></span><span id="68" class="l"><a class="l" href="#68"> 68: </a><span class="php-comment">     */</span>
</span><span id="69" class="l"><a class="l" href="#69"> 69: </a>    <span class="php-keyword1">const</span> <a id="EXTRA_ALLOWED_CONTENT" href="#EXTRA_ALLOWED_CONTENT">EXTRA_ALLOWED_CONTENT</a> = <span class="php-quote">''</span>;
</span><span id="70" class="l"><a class="l" href="#70"> 70: </a>
</span><span id="71" class="l"><a class="l" href="#71"> 71: </a>    <span class="php-comment">/**
</span></span><span id="72" class="l"><a class="l" href="#72"> 72: </a><span class="php-comment">     * All possible options for format_tags
</span></span><span id="73" class="l"><a class="l" href="#73"> 73: </a><span class="php-comment">     *
</span></span><span id="74" class="l"><a class="l" href="#74"> 74: </a><span class="php-comment">     */</span>
</span><span id="75" class="l"><a class="l" href="#75"> 75: </a>    <span class="php-keyword1">const</span> <a id="ALL_FORMAT_TAGS" href="#ALL_FORMAT_TAGS">ALL_FORMAT_TAGS</a> = <span class="php-quote">'p;h1;h2;h3;h4;h5;h6;pre;address;div'</span>;
</span><span id="76" class="l"><a class="l" href="#76"> 76: </a>
</span><span id="77" class="l"><a class="l" href="#77"> 77: </a>    <span class="php-comment">/**
</span></span><span id="78" class="l"><a class="l" href="#78"> 78: </a><span class="php-comment">     * Default value for CK Editor format_tags option
</span></span><span id="79" class="l"><a class="l" href="#79"> 79: </a><span class="php-comment">     *
</span></span><span id="80" class="l"><a class="l" href="#80"> 80: </a><span class="php-comment">     */</span>
</span><span id="81" class="l"><a class="l" href="#81"> 81: </a>    <span class="php-keyword1">const</span> <a id="FORMAT_TAGS" href="#FORMAT_TAGS">FORMAT_TAGS</a> = <span class="php-quote">'p;h1;h2;h3;h4;h5;h6;pre;address'</span>;
</span><span id="82" class="l"><a class="l" href="#82"> 82: </a>
</span><span id="83" class="l"><a class="l" href="#83"> 83: </a>    <span class="php-comment">/**
</span></span><span id="84" class="l"><a class="l" href="#84"> 84: </a><span class="php-comment">     * Version number for CKEditor directory
</span></span><span id="85" class="l"><a class="l" href="#85"> 85: </a><span class="php-comment">     *
</span></span><span id="86" class="l"><a class="l" href="#86"> 86: </a><span class="php-comment">     */</span>
</span><span id="87" class="l"><a class="l" href="#87"> 87: </a>    <span class="php-keyword1">const</span> <a id="CKEDITOR_VERSION" href="#CKEDITOR_VERSION">CKEDITOR_VERSION</a> = <span class="php-quote">'4.10.1'</span>;
</span><span id="88" class="l"><a class="l" href="#88"> 88: </a>
</span><span id="89" class="l"><a class="l" href="#89"> 89: </a>    <span class="php-comment">/**
</span></span><span id="90" class="l"><a class="l" href="#90"> 90: </a><span class="php-comment">     * Instance of MarkupHTMLPurifier module
</span></span><span id="91" class="l"><a class="l" href="#91"> 91: </a><span class="php-comment">     *
</span></span><span id="92" class="l"><a class="l" href="#92"> 92: </a><span class="php-comment">     */</span>
</span><span id="93" class="l"><a class="l" href="#93"> 93: </a>    <span class="php-keyword1">static</span> <span class="php-var"><a id="$purifier" href="#$purifier">$purifier</a></span> = <span class="php-keyword1">null</span>;
</span><span id="94" class="l"><a class="l" href="#94"> 94: </a>
</span><span id="95" class="l"><a class="l" href="#95"> 95: </a>    <span class="php-comment">/**
</span></span><span id="96" class="l"><a class="l" href="#96"> 96: </a><span class="php-comment">     * Names of JS config keys to avoid redundancy
</span></span><span id="97" class="l"><a class="l" href="#97"> 97: </a><span class="php-comment">     *
</span></span><span id="98" class="l"><a class="l" href="#98"> 98: </a><span class="php-comment">     */</span>
</span><span id="99" class="l"><a class="l" href="#99"> 99: </a>    <span class="php-keyword1">static</span> <span class="php-var"><a id="$configNames" href="#$configNames">$configNames</a></span> = <span class="php-keyword1">array</span>();
</span><span id="100" class="l"><a class="l" href="#100">100: </a>
</span><span id="101" class="l"><a class="l" href="#101">101: </a>    <span class="php-comment">/**
</span></span><span id="102" class="l"><a class="l" href="#102">102: </a><span class="php-comment">     * Name of current JS config key
</span></span><span id="103" class="l"><a class="l" href="#103">103: </a><span class="php-comment">     *
</span></span><span id="104" class="l"><a class="l" href="#104">104: </a><span class="php-comment">     */</span>
</span><span id="105" class="l"><a class="l" href="#105">105: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$configName" href="#$configName">$configName</a></span> = <span class="php-quote">''</span>;
</span><span id="106" class="l"><a class="l" href="#106">106: </a>
</span><span id="107" class="l"><a class="l" href="#107">107: </a>    <span class="php-comment">/**
</span></span><span id="108" class="l"><a class="l" href="#108">108: </a><span class="php-comment">     * Whether or not the globalConfig has run. This ensures it only runs once per request.
</span></span><span id="109" class="l"><a class="l" href="#109">109: </a><span class="php-comment">     *
</span></span><span id="110" class="l"><a class="l" href="#110">110: </a><span class="php-comment">     */</span>
</span><span id="111" class="l"><a class="l" href="#111">111: </a>    <span class="php-keyword1">static</span> <span class="php-keyword1">protected</span> <span class="php-var"><a id="$isConfigured" href="#$isConfigured">$isConfigured</a></span> = <span class="php-keyword1">false</span>;
</span><span id="112" class="l"><a class="l" href="#112">112: </a>
</span><span id="113" class="l"><a class="l" href="#113">113: </a>    <span class="php-comment">/**
</span></span><span id="114" class="l"><a class="l" href="#114">114: </a><span class="php-comment">     * Construct and set default configuration
</span></span><span id="115" class="l"><a class="l" href="#115">115: </a><span class="php-comment">     *
</span></span><span id="116" class="l"><a class="l" href="#116">116: </a><span class="php-comment">     */</span>
</span><span id="117" class="l"><a class="l" href="#117">117: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>() {
</span><span id="118" class="l"><a class="l" href="#118">118: </a>        parent::__construct();
</span><span id="119" class="l"><a class="l" href="#119">119: </a>
</span><span id="120" class="l"><a class="l" href="#120">120: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'inlineMode'</span>, <span class="php-num">0</span>); 
</span><span id="121" class="l"><a class="l" href="#121">121: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'usePurifier'</span>, <span class="php-num">1</span>); 
</span><span id="122" class="l"><a class="l" href="#122">122: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'useACF'</span>, <span class="php-num">1</span>); 
</span><span id="123" class="l"><a class="l" href="#123">123: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'toggles'</span>, <span class="php-keyword1">array</span>());
</span><span id="124" class="l"><a class="l" href="#124">124: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'imageFields'</span>, <span class="php-keyword1">array</span>());
</span><span id="125" class="l"><a class="l" href="#125">125: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'assetPageID'</span>, <span class="php-num">0</span>); <span class="php-comment">// FUTURE USE</span>
</span><span id="126" class="l"><a class="l" href="#126">126: </a>
</span><span id="127" class="l"><a class="l" href="#127">127: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'toolbar'</span>, <span class="php-quote">''</span> . 
</span><span id="128" class="l"><a class="l" href="#128">128: </a>            <span class="php-quote">&quot;Format, Styles, -, Bold, Italic, -, RemoveFormat\n&quot;</span> . 
</span><span id="129" class="l"><a class="l" href="#129">129: </a>            <span class="php-quote">&quot;NumberedList, BulletedList, -, Blockquote\n&quot;</span> . 
</span><span id="130" class="l"><a class="l" href="#130">130: </a>            <span class="php-quote">&quot;PWLink, Unlink, Anchor\n&quot;</span> . 
</span><span id="131" class="l"><a class="l" href="#131">131: </a>            <span class="php-quote">&quot;PWImage, Table, HorizontalRule, SpecialChar\n&quot;</span> . 
</span><span id="132" class="l"><a class="l" href="#132">132: </a>            <span class="php-quote">&quot;PasteText, PasteFromWord\n&quot;</span> . 
</span><span id="133" class="l"><a class="l" href="#133">133: </a>            <span class="php-quote">&quot;Scayt, -, Sourcedialog&quot;</span>
</span><span id="134" class="l"><a class="l" href="#134">134: </a>            ); 
</span><span id="135" class="l"><a class="l" href="#135">135: </a>
</span><span id="136" class="l"><a class="l" href="#136">136: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'contentsCss'</span>, <span class="php-quote">''</span>); 
</span><span id="137" class="l"><a class="l" href="#137">137: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'contentsInlineCss'</span>, <span class="php-quote">''</span>); 
</span><span id="138" class="l"><a class="l" href="#138">138: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'stylesSet'</span>, <span class="php-quote">''</span>); 
</span><span id="139" class="l"><a class="l" href="#139">139: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'extraPlugins'</span>, <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, self::EXTRA_PLUGINS)); 
</span><span id="140" class="l"><a class="l" href="#140">140: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'removePlugins'</span>, self::REMOVE_PLUGINS); 
</span><span id="141" class="l"><a class="l" href="#141">141: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'extraAllowedContent'</span>, self::EXTRA_ALLOWED_CONTENT); 
</span><span id="142" class="l"><a class="l" href="#142">142: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'formatTags'</span>, self::FORMAT_TAGS); 
</span><span id="143" class="l"><a class="l" href="#143">143: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'customOptions'</span>, <span class="php-quote">''</span>); <span class="php-comment">// custom user-defined config options</span>
</span><span id="144" class="l"><a class="l" href="#144">144: </a>        
</span><span id="145" class="l"><a class="l" href="#145">145: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$this</span>-&gt;findPlugins() <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$file</span>) {
</span><span id="146" class="l"><a class="l" href="#146">146: </a>            <span class="php-var">$this</span>-&gt;set(<span class="php-quote">&quot;plugin_</span><span class="php-var">$name</span><span class="php-quote">&quot;</span>, <span class="php-quote">&quot;&quot;</span>); <span class="php-comment">// json string of each plugin config settings</span>
</span><span id="147" class="l"><a class="l" href="#147">147: </a>        }
</span><span id="148" class="l"><a class="l" href="#148">148: </a>    }
</span><span id="149" class="l"><a class="l" href="#149">149: </a>    
</span><span id="150" class="l"><a class="l" href="#150">150: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_set" href="#_set">set</a>(<span class="php-var">$key</span>, <span class="php-var">$value</span>) {
</span><span id="151" class="l"><a class="l" href="#151">151: </a>    
</span><span id="152" class="l"><a class="l" href="#152">152: </a>        <span class="php-comment">// convert extraPlugins string to array</span>
</span><span id="153" class="l"><a class="l" href="#153">153: </a>        <span class="php-comment">// used to be stored as a string in older versions</span>
</span><span id="154" class="l"><a class="l" href="#154">154: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$key</span> == <span class="php-quote">'extraPlugins'</span> &amp;&amp; <span class="php-keyword2">is_string</span>(<span class="php-var">$value</span>)) {
</span><span id="155" class="l"><a class="l" href="#155">155: </a>            <span class="php-var">$value</span> = <span class="php-keyword2">str_replace</span>(<span class="php-quote">' '</span>, <span class="php-quote">''</span>, <span class="php-var">$value</span>); 
</span><span id="156" class="l"><a class="l" href="#156">156: </a>            <span class="php-var">$value</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$value</span>); 
</span><span id="157" class="l"><a class="l" href="#157">157: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$key</span> == <span class="php-quote">'extraAllowedContent'</span>) {
</span><span id="158" class="l"><a class="l" href="#158">158: </a>            <span class="php-var">$value</span> = <span class="php-keyword2">str_replace</span>(<span class="php-keyword1">array</span>(<span class="php-quote">&quot;\r\n&quot;</span>, <span class="php-quote">&quot;\n&quot;</span>), <span class="php-quote">&quot;; &quot;</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$value</span>)); 
</span><span id="159" class="l"><a class="l" href="#159">159: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$key</span> == <span class="php-quote">'configName'</span>) {
</span><span id="160" class="l"><a class="l" href="#160">160: </a>            <span class="php-var">$this</span>-&gt;configName = <span class="php-var">$value</span>;
</span><span id="161" class="l"><a class="l" href="#161">161: </a>        }
</span><span id="162" class="l"><a class="l" href="#162">162: </a>        
</span><span id="163" class="l"><a class="l" href="#163">163: </a>        <span class="php-keyword1">return</span> parent::set(<span class="php-var">$key</span>, <span class="php-var">$value</span>); 
</span><span id="164" class="l"><a class="l" href="#164">164: </a>    }
</span><span id="165" class="l"><a class="l" href="#165">165: </a>
</span><span id="166" class="l"><a class="l" href="#166">166: </a>    <span class="php-comment">/**
</span></span><span id="167" class="l"><a class="l" href="#167">167: </a><span class="php-comment">     * Given a toolbar config string, convert it to an array
</span></span><span id="168" class="l"><a class="l" href="#168">168: </a><span class="php-comment">     *
</span></span><span id="169" class="l"><a class="l" href="#169">169: </a><span class="php-comment">     * Toolbar items split by commas
</span></span><span id="170" class="l"><a class="l" href="#170">170: </a><span class="php-comment">     * Groups of toolbar items split by lines
</span></span><span id="171" class="l"><a class="l" href="#171">171: </a><span class="php-comment">     * Toolbar lines that starts with '#' are ignored
</span></span><span id="172" class="l"><a class="l" href="#172">172: </a><span class="php-comment">     * 
</span></span><span id="173" class="l"><a class="l" href="#173">173: </a><span class="php-comment">     * @param string $str
</span></span><span id="174" class="l"><a class="l" href="#174">174: </a><span class="php-comment">     * @return array
</span></span><span id="175" class="l"><a class="l" href="#175">175: </a><span class="php-comment">     *
</span></span><span id="176" class="l"><a class="l" href="#176">176: </a><span class="php-comment">     */</span>
</span><span id="177" class="l"><a class="l" href="#177">177: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_toolbarStringToArray" href="#_toolbarStringToArray">toolbarStringToArray</a>(<span class="php-var">$str</span>) {
</span><span id="178" class="l"><a class="l" href="#178">178: </a>        <span class="php-var">$str</span> = <span class="php-keyword2">str_replace</span>(<span class="php-quote">' '</span>, <span class="php-quote">''</span>, <span class="php-var">$str</span>); 
</span><span id="179" class="l"><a class="l" href="#179">179: </a>        <span class="php-var">$items</span> = <span class="php-keyword1">array</span>();
</span><span id="180" class="l"><a class="l" href="#180">180: </a>        <span class="php-var">$lines</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$str</span>); 
</span><span id="181" class="l"><a class="l" href="#181">181: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$lines</span> <span class="php-keyword1">as</span> <span class="php-var">$line</span>) {
</span><span id="182" class="l"><a class="l" href="#182">182: </a>            <span class="php-var">$line</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$line</span>);
</span><span id="183" class="l"><a class="l" href="#183">183: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$line</span>, <span class="php-quote">'#'</span>) === <span class="php-num">0</span>) { <span class="php-comment">// @ocorreiododiogo PR #1040</span>
</span><span id="184" class="l"><a class="l" href="#184">184: </a>                <span class="php-keyword1">continue</span>; 
</span><span id="185" class="l"><a class="l" href="#185">185: </a>            } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$line</span>)) {
</span><span id="186" class="l"><a class="l" href="#186">186: </a>                <span class="php-var">$items</span>[] = <span class="php-quote">'/'</span>;
</span><span id="187" class="l"><a class="l" href="#187">187: </a>            } <span class="php-keyword1">else</span> {
</span><span id="188" class="l"><a class="l" href="#188">188: </a>                <span class="php-var">$lineArray</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">','</span>, <span class="php-var">$line</span>); 
</span><span id="189" class="l"><a class="l" href="#189">189: </a>                <span class="php-var">$items</span>[] = <span class="php-var">$lineArray</span>; 
</span><span id="190" class="l"><a class="l" href="#190">190: </a>            }
</span><span id="191" class="l"><a class="l" href="#191">191: </a>        }
</span><span id="192" class="l"><a class="l" href="#192">192: </a>        <span class="php-keyword1">return</span> <span class="php-var">$items</span>;
</span><span id="193" class="l"><a class="l" href="#193">193: </a>    }
</span><span id="194" class="l"><a class="l" href="#194">194: </a>
</span><span id="195" class="l"><a class="l" href="#195">195: </a>    <span class="php-comment">/**
</span></span><span id="196" class="l"><a class="l" href="#196">196: </a><span class="php-comment">     * Prep a path starting from root to include any possible subdirs
</span></span><span id="197" class="l"><a class="l" href="#197">197: </a><span class="php-comment">     * 
</span></span><span id="198" class="l"><a class="l" href="#198">198: </a><span class="php-comment">     * @param string $path
</span></span><span id="199" class="l"><a class="l" href="#199">199: </a><span class="php-comment">     * @param bool $cacheBust Specify true to append a cache busting query string to the returned URL
</span></span><span id="200" class="l"><a class="l" href="#200">200: </a><span class="php-comment">     * @return string URL from root
</span></span><span id="201" class="l"><a class="l" href="#201">201: </a><span class="php-comment">     *
</span></span><span id="202" class="l"><a class="l" href="#202">202: </a><span class="php-comment">     */</span>
</span><span id="203" class="l"><a class="l" href="#203">203: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_pathFromRoot" href="#_pathFromRoot">pathFromRoot</a>(<span class="php-var">$path</span>, <span class="php-var">$cacheBust</span> = <span class="php-keyword1">false</span>) {
</span><span id="204" class="l"><a class="l" href="#204">204: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$path</span>, <span class="php-quote">'//'</span>) !== <span class="php-keyword1">false</span>) <span class="php-keyword1">return</span> <span class="php-var">$path</span>; <span class="php-comment">// don't modify URLs with scheme </span>
</span><span id="205" class="l"><a class="l" href="#205">205: </a>        <span class="php-var">$path</span> = <span class="php-keyword2">ltrim</span>(<span class="php-var">$path</span>, <span class="php-quote">'/'</span>);
</span><span id="206" class="l"><a class="l" href="#206">206: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$cacheBust</span> &amp;&amp; <span class="php-keyword2">strpos</span>(<span class="php-var">$path</span>, <span class="php-quote">'?'</span>) === <span class="php-keyword1">false</span>) {
</span><span id="207" class="l"><a class="l" href="#207">207: </a>            <span class="php-var">$file</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>)-&gt;paths-&gt;root . <span class="php-var">$path</span>;
</span><span id="208" class="l"><a class="l" href="#208">208: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">file_exists</span>(<span class="php-var">$file</span>)) {
</span><span id="209" class="l"><a class="l" href="#209">209: </a>                <span class="php-var">$path</span> .= <span class="php-quote">&quot;?nc=&quot;</span> . <span class="php-keyword2">filemtime</span>(<span class="php-var">$file</span>);
</span><span id="210" class="l"><a class="l" href="#210">210: </a>            }
</span><span id="211" class="l"><a class="l" href="#211">211: </a>        }
</span><span id="212" class="l"><a class="l" href="#212">212: </a>        <span class="php-var">$path</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>)-&gt;urls-&gt;root . <span class="php-var">$path</span>;
</span><span id="213" class="l"><a class="l" href="#213">213: </a>        <span class="php-keyword1">return</span> <span class="php-var">$path</span>;
</span><span id="214" class="l"><a class="l" href="#214">214: </a>    }
</span><span id="215" class="l"><a class="l" href="#215">215: </a>
</span><span id="216" class="l"><a class="l" href="#216">216: </a>    <span class="php-comment">/**
</span></span><span id="217" class="l"><a class="l" href="#217">217: </a><span class="php-comment">     * Get field name to use for images, or blank if disabled (or unavailable)
</span></span><span id="218" class="l"><a class="l" href="#218">218: </a><span class="php-comment">     * 
</span></span><span id="219" class="l"><a class="l" href="#219">219: </a><span class="php-comment">     * @param Page $page Asset page
</span></span><span id="220" class="l"><a class="l" href="#220">220: </a><span class="php-comment">     * @return string
</span></span><span id="221" class="l"><a class="l" href="#221">221: </a><span class="php-comment">     * 
</span></span><span id="222" class="l"><a class="l" href="#222">222: </a><span class="php-comment">     */</span>
</span><span id="223" class="l"><a class="l" href="#223">223: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_getImagesFieldName" href="#_getImagesFieldName">getImagesFieldName</a>(<span class="php-var">$page</span>) {
</span><span id="224" class="l"><a class="l" href="#224">224: </a>        <span class="php-var">$imageFields</span> = <span class="php-var">$this</span>-&gt;imageFields;
</span><span id="225" class="l"><a class="l" href="#225">225: </a>        <span class="php-keyword1">if</span>(!<span class="php-keyword2">is_array</span>(<span class="php-var">$imageFields</span>)) <span class="php-var">$imageFields</span> = <span class="php-keyword1">array</span>();
</span><span id="226" class="l"><a class="l" href="#226">226: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">in_array</span>(<span class="php-quote">'x'</span>, <span class="php-var">$imageFields</span>)) <span class="php-keyword1">return</span> <span class="php-quote">''</span>;
</span><span id="227" class="l"><a class="l" href="#227">227: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$page</span> || !<span class="php-var">$page</span>-&gt;id || !<span class="php-var">$page</span>-&gt;template) <span class="php-keyword1">return</span> <span class="php-quote">''</span>;
</span><span id="228" class="l"><a class="l" href="#228">228: </a>        <span class="php-var">$result</span> = <span class="php-quote">''</span>;
</span><span id="229" class="l"><a class="l" href="#229">229: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$imageFields</span> <span class="php-keyword1">as</span> <span class="php-var">$name</span>) {
</span><span id="230" class="l"><a class="l" href="#230">230: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$page</span>-&gt;template-&gt;hasField(<span class="php-var">$name</span>)) {
</span><span id="231" class="l"><a class="l" href="#231">231: </a>                <span class="php-var">$result</span> = <span class="php-var">$name</span>;
</span><span id="232" class="l"><a class="l" href="#232">232: </a>                <span class="php-keyword1">break</span>;
</span><span id="233" class="l"><a class="l" href="#233">233: </a>            }
</span><span id="234" class="l"><a class="l" href="#234">234: </a>        }
</span><span id="235" class="l"><a class="l" href="#235">235: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$result</span> &amp;&amp; !<span class="php-keyword2">count</span>(<span class="php-var">$imageFields</span>)) {
</span><span id="236" class="l"><a class="l" href="#236">236: </a>            <span class="php-comment">// allow any available images field to be used, except those disallowed by ProcessPageEditImageSelect</span>
</span><span id="237" class="l"><a class="l" href="#237">237: </a>            <span class="php-var">$skipFields</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'session'</span>)-&gt;getFor(<span class="php-var">$this</span>, <span class="php-quote">'skipImageFields'</span>); 
</span><span id="238" class="l"><a class="l" href="#238">238: </a>            
</span><span id="239" class="l"><a class="l" href="#239">239: </a>            <span class="php-keyword1">if</span>(!<span class="php-keyword2">is_array</span>(<span class="php-var">$skipFields</span>)) {
</span><span id="240" class="l"><a class="l" href="#240">240: </a>                <span class="php-var">$skipFields</span> = <span class="php-keyword1">array</span>();
</span><span id="241" class="l"><a class="l" href="#241">241: </a>                <span class="php-var">$skipData</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;getModuleConfigData(<span class="php-quote">'ProcessPageEditImageSelect'</span>);
</span><span id="242" class="l"><a class="l" href="#242">242: </a>                <span class="php-keyword1">if</span>(!<span class="php-keyword1">empty</span>(<span class="php-var">$skipData</span>[<span class="php-quote">'skipFields'</span>])) <span class="php-var">$skipFields</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">' '</span>, <span class="php-var">$skipData</span>[<span class="php-quote">'skipFields'</span>]); 
</span><span id="243" class="l"><a class="l" href="#243">243: </a>                <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'session'</span>)-&gt;setFor(<span class="php-var">$this</span>, <span class="php-quote">'skipImageFields'</span>, <span class="php-var">$skipFields</span>);
</span><span id="244" class="l"><a class="l" href="#244">244: </a>            }
</span><span id="245" class="l"><a class="l" href="#245">245: </a>            
</span><span id="246" class="l"><a class="l" href="#246">246: </a>            <span class="php-keyword1">foreach</span>(<span class="php-var">$page</span>-&gt;template-&gt;fieldgroup <span class="php-keyword1">as</span> <span class="php-var">$field</span>) {
</span><span id="247" class="l"><a class="l" href="#247">247: </a>                <span class="php-keyword1">if</span>(!<span class="php-var">$field</span>-&gt;type <span class="php-keyword1">instanceof</span> FieldtypeImage) <span class="php-keyword1">continue</span>;
</span><span id="248" class="l"><a class="l" href="#248">248: </a>                <span class="php-keyword1">if</span>((int) <span class="php-var">$field</span>-&gt;maxFiles == <span class="php-num">1</span>) <span class="php-keyword1">continue</span>;
</span><span id="249" class="l"><a class="l" href="#249">249: </a>                <span class="php-keyword1">if</span>(<span class="php-keyword2">in_array</span>(<span class="php-var">$field</span>-&gt;name, <span class="php-var">$skipFields</span>)) <span class="php-keyword1">continue</span>;
</span><span id="250" class="l"><a class="l" href="#250">250: </a>                <span class="php-var">$result</span> = <span class="php-var">$field</span>-&gt;name;     
</span><span id="251" class="l"><a class="l" href="#251">251: </a>                <span class="php-keyword1">break</span>;
</span><span id="252" class="l"><a class="l" href="#252">252: </a>            }
</span><span id="253" class="l"><a class="l" href="#253">253: </a>        }
</span><span id="254" class="l"><a class="l" href="#254">254: </a>        <span class="php-keyword1">return</span> <span class="php-var">$result</span>;
</span><span id="255" class="l"><a class="l" href="#255">255: </a>    }
</span><span id="256" class="l"><a class="l" href="#256">256: </a>
</span><span id="257" class="l"><a class="l" href="#257">257: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_renderReady" href="#_renderReady">renderReady</a>(Inputfield <span class="php-var">$parent</span> = <span class="php-keyword1">null</span>, <span class="php-var">$renderValueMode</span> = <span class="php-keyword1">false</span>) {
</span><span id="258" class="l"><a class="l" href="#258">258: </a>
</span><span id="259" class="l"><a class="l" href="#259">259: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$loaded" href="#$loaded">$loaded</a></span> = <span class="php-keyword1">false</span>;
</span><span id="260" class="l"><a class="l" href="#260">260: </a>        
</span><span id="261" class="l"><a class="l" href="#261">261: </a>        <span class="php-var">$class</span> = <span class="php-var">$this</span>-&gt;className();
</span><span id="262" class="l"><a class="l" href="#262">262: </a>        <span class="php-var">$config</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>);
</span><span id="263" class="l"><a class="l" href="#263">263: </a>        <span class="php-var">$baseURL</span> = <span class="php-var">$config</span>-&gt;urls-&gt;<span class="php-var">$class</span>; 
</span><span id="264" class="l"><a class="l" href="#264">264: </a>        <span class="php-var">$basePath</span> = <span class="php-var">$baseURL</span> . <span class="php-quote">&quot;ckeditor-&quot;</span> . self::CKEDITOR_VERSION . <span class="php-quote">'/'</span>;
</span><span id="265" class="l"><a class="l" href="#265">265: </a>        
</span><span id="266" class="l"><a class="l" href="#266">266: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$loaded</span>) {
</span><span id="267" class="l"><a class="l" href="#267">267: </a>            <span class="php-var">$config</span>-&gt;scripts-&gt;add(<span class="php-var">$basePath</span> . <span class="php-quote">&quot;ckeditor.js&quot;</span>);
</span><span id="268" class="l"><a class="l" href="#268">268: </a>            <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'JqueryUI'</span>)-&gt;<span class="php-keyword1">use</span>(<span class="php-quote">'modal'</span>);
</span><span id="269" class="l"><a class="l" href="#269">269: </a>            <span class="php-var">$loaded</span> = <span class="php-keyword1">true</span>;
</span><span id="270" class="l"><a class="l" href="#270">270: </a>        }
</span><span id="271" class="l"><a class="l" href="#271">271: </a>        
</span><span id="272" class="l"><a class="l" href="#272">272: </a>        <span class="php-var">$this</span>-&gt;globalConfig();
</span><span id="273" class="l"><a class="l" href="#273">273: </a>
</span><span id="274" class="l"><a class="l" href="#274">274: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;contentsCss) {
</span><span id="275" class="l"><a class="l" href="#275">275: </a>            <span class="php-var">$contentsCss</span> = <span class="php-var">$this</span>-&gt;pathFromRoot(<span class="php-var">$this</span>-&gt;contentsCss, <span class="php-keyword1">true</span>);
</span><span id="276" class="l"><a class="l" href="#276">276: </a>        } <span class="php-keyword1">else</span> {
</span><span id="277" class="l"><a class="l" href="#277">277: </a>            <span class="php-var">$contentsCss</span> = <span class="php-var">$baseURL</span> . <span class="php-quote">'contents.css'</span>;
</span><span id="278" class="l"><a class="l" href="#278">278: </a>        }
</span><span id="279" class="l"><a class="l" href="#279">279: </a>
</span><span id="280" class="l"><a class="l" href="#280">280: </a>        <span class="php-comment">// previous versions had a default setting removing the 'link' plugin, but now the Anchor</span>
</span><span id="281" class="l"><a class="l" href="#281">281: </a>        <span class="php-comment">// tool requires it. this code fixes that situation for existing installations. </span>
</span><span id="282" class="l"><a class="l" href="#282">282: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">stripos</span>(<span class="php-var">$this</span>-&gt;toolbar, <span class="php-quote">'Anchor'</span>) !== <span class="php-keyword1">false</span> &amp;&amp; <span class="php-keyword2">stripos</span>(<span class="php-var">$this</span>-&gt;removePlugins, <span class="php-quote">'link'</span>) !== <span class="php-keyword1">false</span>) {
</span><span id="283" class="l"><a class="l" href="#283">283: </a>            <span class="php-var">$this</span>-&gt;removePlugins = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/\blink,?\b/i'</span>,<span class="php-quote">''</span>, <span class="php-var">$this</span>-&gt;removePlugins);
</span><span id="284" class="l"><a class="l" href="#284">284: </a>        }
</span><span id="285" class="l"><a class="l" href="#285">285: </a>    
</span><span id="286" class="l"><a class="l" href="#286">286: </a>        <span class="php-comment">// FUTURE USE</span>
</span><span id="287" class="l"><a class="l" href="#287">287: </a>        <span class="php-comment">// $assetPage = $this-&gt;assetPageID ? $this-&gt;wire('pages')-&gt;get((int) $this-&gt;assetPageID) : $this-&gt;hasPage; </span>
</span><span id="288" class="l"><a class="l" href="#288">288: </a>        <span class="php-comment">// if(!$assetPage || !$assetPage-&gt;id) $assetPage = $this-&gt;hasPage;</span>
</span><span id="289" class="l"><a class="l" href="#289">289: </a>        <span class="php-var">$assetPage</span> = <span class="php-var">$this</span>-&gt;hasPage;
</span><span id="290" class="l"><a class="l" href="#290">290: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$assetPage</span>) <span class="php-var">$assetPage</span> = <span class="php-keyword1">new</span> NullPage();
</span><span id="291" class="l"><a class="l" href="#291">291: </a>        
</span><span id="292" class="l"><a class="l" href="#292">292: </a>        <span class="php-var">$extraPlugins</span> = <span class="php-var">$this</span>-&gt;extraPlugins;
</span><span id="293" class="l"><a class="l" href="#293">293: </a>        <span class="php-var">$imagesField</span> = <span class="php-var">$this</span>-&gt;getImagesFieldName(<span class="php-var">$assetPage</span>);
</span><span id="294" class="l"><a class="l" href="#294">294: </a>        
</span><span id="295" class="l"><a class="l" href="#295">295: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$imagesField</span>) {
</span><span id="296" class="l"><a class="l" href="#296">296: </a>            <span class="php-var">$extraPlugins</span>[] = <span class="php-quote">'uploadimage'</span>;
</span><span id="297" class="l"><a class="l" href="#297">297: </a>            <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldHasUpload'</span>, <span class="php-quote">'wrapClass'</span>); 
</span><span id="298" class="l"><a class="l" href="#298">298: </a>        }
</span><span id="299" class="l"><a class="l" href="#299">299: </a>
</span><span id="300" class="l"><a class="l" href="#300">300: </a>        <span class="php-var">$settings</span> = <span class="php-keyword1">array</span>(
</span><span id="301" class="l"><a class="l" href="#301">301: </a>            <span class="php-quote">'baseHref'</span> =&gt; <span class="php-var">$config</span>-&gt;urls-&gt;root,
</span><span id="302" class="l"><a class="l" href="#302">302: </a>            <span class="php-quote">'contentsCss'</span> =&gt; <span class="php-var">$contentsCss</span>,
</span><span id="303" class="l"><a class="l" href="#303">303: </a>            <span class="php-quote">'extraAllowedContent'</span> =&gt; <span class="php-var">$this</span>-&gt;extraAllowedContent,
</span><span id="304" class="l"><a class="l" href="#304">304: </a>            <span class="php-quote">'extraPlugins'</span> =&gt; <span class="php-keyword2">implode</span>(<span class="php-quote">','</span>, <span class="php-var">$extraPlugins</span>),
</span><span id="305" class="l"><a class="l" href="#305">305: </a>            <span class="php-quote">'removePlugins'</span> =&gt; <span class="php-var">$this</span>-&gt;removePlugins,
</span><span id="306" class="l"><a class="l" href="#306">306: </a>            <span class="php-quote">'toolbar'</span> =&gt; <span class="php-var">$this</span>-&gt;toolbarStringToArray(<span class="php-var">$this</span>-&gt;toolbar),
</span><span id="307" class="l"><a class="l" href="#307">307: </a>            <span class="php-quote">'format_tags'</span> =&gt; <span class="php-keyword2">rtrim</span>(<span class="php-var">$this</span>-&gt;formatTags, <span class="php-quote">'; '</span>),
</span><span id="308" class="l"><a class="l" href="#308">308: </a>            <span class="php-quote">'language'</span> =&gt; <span class="php-var">$this</span>-&gt;_x(<span class="php-quote">'en'</span>, <span class="php-quote">'language-pack'</span>), <span class="php-comment">// CKEditor default language pack to use</span>
</span><span id="309" class="l"><a class="l" href="#309">309: </a>            <span class="php-comment">// 'enterMode' =&gt; 'CKEDITOR.ENTER_P', // already the default, can be left out</span>
</span><span id="310" class="l"><a class="l" href="#310">310: </a>            <span class="php-quote">'entities'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="311" class="l"><a class="l" href="#311">311: </a>            <span class="php-quote">'uploadUrl'</span> =&gt; <span class="php-quote">''</span>,
</span><span id="312" class="l"><a class="l" href="#312">312: </a>            <span class="php-quote">'pwUploadField'</span> =&gt; <span class="php-var">$imagesField</span>,
</span><span id="313" class="l"><a class="l" href="#313">313: </a>            <span class="php-quote">'pwAssetPageID'</span> =&gt; <span class="php-var">$assetPage</span>-&gt;id,
</span><span id="314" class="l"><a class="l" href="#314">314: </a>        );
</span><span id="315" class="l"><a class="l" href="#315">315: </a>        
</span><span id="316" class="l"><a class="l" href="#316">316: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$settings</span>[<span class="php-quote">'extraAllowedContent'</span>])) {
</span><span id="317" class="l"><a class="l" href="#317">317: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$settings</span>[<span class="php-quote">'extraAllowedContent'</span>]);
</span><span id="318" class="l"><a class="l" href="#318">318: </a>        }
</span><span id="319" class="l"><a class="l" href="#319">319: </a>    
</span><span id="320" class="l"><a class="l" href="#320">320: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$assetPage</span> !== <span class="php-var">$this</span>-&gt;hasPage &amp;&amp; <span class="php-var">$assetPage</span>-&gt;id) {
</span><span id="321" class="l"><a class="l" href="#321">321: </a>            <span class="php-comment">// external asset page (FUTURE USE)</span>
</span><span id="322" class="l"><a class="l" href="#322">322: </a>            <span class="php-var">$imagesInputfield</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'InputfieldImage'</span>); 
</span><span id="323" class="l"><a class="l" href="#323">323: </a>            <span class="php-var">$imagesInputfield</span>-&gt;set(<span class="php-quote">'hasPage'</span>, <span class="php-var">$assetPage</span>); 
</span><span id="324" class="l"><a class="l" href="#324">324: </a>            <span class="php-var">$imagesInputfield</span>-&gt;renderReady(<span class="php-var">$parent</span>, <span class="php-var">$renderValueMode</span>);
</span><span id="325" class="l"><a class="l" href="#325">325: </a>            <span class="php-var">$assetPageEditURL</span> = <span class="php-var">$assetPage</span>-&gt;editUrl() . <span class="php-quote">&quot;&amp;InputfieldFileAjax=noTemp&quot;</span>; 
</span><span id="326" class="l"><a class="l" href="#326">326: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$assetPage</span>-&gt;id) {
</span><span id="327" class="l"><a class="l" href="#327">327: </a>            <span class="php-comment">// assetPage is hasPage</span>
</span><span id="328" class="l"><a class="l" href="#328">328: </a>            <span class="php-var">$assetPageEditURL</span> = <span class="php-var">$assetPage</span>-&gt;editUrl() . <span class="php-quote">'&amp;InputfieldFileAjax=1'</span>;
</span><span id="329" class="l"><a class="l" href="#329">329: </a>        } <span class="php-keyword1">else</span> {
</span><span id="330" class="l"><a class="l" href="#330">330: </a>            <span class="php-var">$assetPageEditURL</span> = <span class="php-quote">''</span>;
</span><span id="331" class="l"><a class="l" href="#331">331: </a>        }
</span><span id="332" class="l"><a class="l" href="#332">332: </a>
</span><span id="333" class="l"><a class="l" href="#333">333: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$imagesField</span> &amp;&amp; <span class="php-var">$assetPageEditURL</span>) {
</span><span id="334" class="l"><a class="l" href="#334">334: </a>            <span class="php-var">$settings</span>[<span class="php-quote">'uploadUrl'</span>] = <span class="php-var">$assetPageEditURL</span> . <span class="php-quote">'&amp;ckeupload=1'</span>;
</span><span id="335" class="l"><a class="l" href="#335">335: </a>        }
</span><span id="336" class="l"><a class="l" href="#336">336: </a>        
</span><span id="337" class="l"><a class="l" href="#337">337: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;useACF) <span class="php-var">$settings</span>[<span class="php-quote">'allowedContent'</span>] = <span class="php-keyword1">true</span>; <span class="php-comment">// disables ACF, per CKEditor docs</span>
</span><span id="338" class="l"><a class="l" href="#338">338: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;rows) <span class="php-var">$settings</span>[<span class="php-quote">'height'</span>] = (<span class="php-var">$this</span>-&gt;rows*<span class="php-num">2</span>) . <span class="php-quote">'em'</span>; <span class="php-comment">// set editor height, based on rows value</span>
</span><span id="339" class="l"><a class="l" href="#339">339: </a>
</span><span id="340" class="l"><a class="l" href="#340">340: </a>        <span class="php-var">$stylesSet</span> = <span class="php-var">$this</span>-&gt;getSetting(<span class="php-quote">'stylesSet'</span>);
</span><span id="341" class="l"><a class="l" href="#341">341: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$stylesSet</span>)) <span class="php-var">$stylesSet</span> = <span class="php-quote">&quot;mystyles:/wire/modules/Inputfield/InputfieldCKEditor/mystyles.js&quot;</span>;
</span><span id="342" class="l"><a class="l" href="#342">342: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$stylesSet</span>, <span class="php-quote">':'</span>) !== <span class="php-keyword1">false</span>) {
</span><span id="343" class="l"><a class="l" href="#343">343: </a>            <span class="php-keyword1">list</span>(<span class="php-var">$k</span>, <span class="php-var">$v</span>) = <span class="php-keyword2">explode</span>(<span class="php-quote">':'</span>, <span class="php-var">$stylesSet</span>);
</span><span id="344" class="l"><a class="l" href="#344">344: </a>            <span class="php-var">$settings</span>[<span class="php-quote">'stylesSet'</span>] = <span class="php-quote">&quot;</span><span class="php-var">$k</span><span class="php-quote">:&quot;</span> . <span class="php-var">$this</span>-&gt;pathFromRoot(<span class="php-var">$v</span>, <span class="php-keyword2">strpos</span>(<span class="php-var">$v</span>, <span class="php-quote">'/wire/'</span>) === <span class="php-keyword1">false</span>);
</span><span id="345" class="l"><a class="l" href="#345">345: </a>        }
</span><span id="346" class="l"><a class="l" href="#346">346: </a>
</span><span id="347" class="l"><a class="l" href="#347">347: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$this</span>-&gt;findPlugins() <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$file</span>) {
</span><span id="348" class="l"><a class="l" href="#348">348: </a>            <span class="php-keyword1">if</span>(!<span class="php-keyword2">in_array</span>(<span class="php-var">$name</span>, <span class="php-var">$this</span>-&gt;extraPlugins)) <span class="php-keyword1">continue</span>;
</span><span id="349" class="l"><a class="l" href="#349">349: </a>            <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">&quot;plugin_</span><span class="php-var">$name</span><span class="php-quote">&quot;</span>);
</span><span id="350" class="l"><a class="l" href="#350">350: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$value</span>)) <span class="php-keyword1">continue</span>;
</span><span id="351" class="l"><a class="l" href="#351">351: </a>            <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;convertPluginSettingsStr(<span class="php-var">$value</span>);
</span><span id="352" class="l"><a class="l" href="#352">352: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$value</span>) <span class="php-var">$settings</span>[<span class="php-var">$name</span>] = <span class="php-var">$value</span>;
</span><span id="353" class="l"><a class="l" href="#353">353: </a>        }
</span><span id="354" class="l"><a class="l" href="#354">354: </a>
</span><span id="355" class="l"><a class="l" href="#355">355: </a>        <span class="php-var">$configURL</span> = <span class="php-var">$config</span>-&gt;urls-&gt;siteModules . <span class="php-var">$class</span> . <span class="php-quote">'/'</span>;
</span><span id="356" class="l"><a class="l" href="#356">356: </a>        <span class="php-var">$configPath</span> = <span class="php-var">$config</span>-&gt;paths-&gt;siteModules . <span class="php-var">$class</span> . <span class="php-quote">'/'</span>;
</span><span id="357" class="l"><a class="l" href="#357">357: </a>
</span><span id="358" class="l"><a class="l" href="#358">358: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">file_exists</span>(<span class="php-var">$configPath</span> . <span class="php-quote">&quot;config-</span><span class="php-var">$this</span><span class="php-quote">-&gt;name.js&quot;</span>)) {
</span><span id="359" class="l"><a class="l" href="#359">359: </a>            <span class="php-var">$settings</span>[<span class="php-quote">'customConfig'</span>] = <span class="php-var">$configURL</span> . <span class="php-quote">&quot;config-</span><span class="php-var">$this</span><span class="php-quote">-&gt;name.js?nc=&quot;</span> . <span class="php-keyword2">filemtime</span>(<span class="php-var">$configPath</span> . <span class="php-quote">&quot;config-</span><span class="php-var">$this</span><span class="php-quote">-&gt;name.js&quot;</span>);
</span><span id="360" class="l"><a class="l" href="#360">360: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-keyword2">file_exists</span>(<span class="php-var">$configPath</span> . <span class="php-quote">&quot;config.js&quot;</span>)) {
</span><span id="361" class="l"><a class="l" href="#361">361: </a>            <span class="php-var">$settings</span>[<span class="php-quote">'customConfig'</span>] = <span class="php-var">$configURL</span> . <span class="php-quote">&quot;config.js?nc=&quot;</span> . <span class="php-keyword2">filemtime</span>(<span class="php-var">$configPath</span> . <span class="php-quote">&quot;config.js&quot;</span>);
</span><span id="362" class="l"><a class="l" href="#362">362: </a>        } <span class="php-keyword1">else</span> {
</span><span id="363" class="l"><a class="l" href="#363">363: </a>            <span class="php-comment">// defaults to the one in /wire/modules/Inputfield/InputfieldCKEditor/ckeditor-x.x.x/config.js</span>
</span><span id="364" class="l"><a class="l" href="#364">364: </a>        }
</span><span id="365" class="l"><a class="l" href="#365">365: </a>
</span><span id="366" class="l"><a class="l" href="#366">366: </a>        <span class="php-var">$customOptions</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'customOptions'</span>);
</span><span id="367" class="l"><a class="l" href="#367">367: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$customOptions</span>) {
</span><span id="368" class="l"><a class="l" href="#368">368: </a>            <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;convertPluginSettingsStr(<span class="php-var">$customOptions</span>);
</span><span id="369" class="l"><a class="l" href="#369">369: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$value</span>) <span class="php-var">$settings</span> = <span class="php-keyword2">array_merge</span>(<span class="php-var">$settings</span>, <span class="php-var">$value</span>);
</span><span id="370" class="l"><a class="l" href="#370">370: </a>        }
</span><span id="371" class="l"><a class="l" href="#371">371: </a>
</span><span id="372" class="l"><a class="l" href="#372">372: </a>        <span class="php-comment">// optimization to remember the name of our JS config entry to prevent redundancy in multi-lang fields</span>
</span><span id="373" class="l"><a class="l" href="#373">373: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;configName) <span class="php-var">$this</span>-&gt;configName = <span class="php-var">$this</span>-&gt;className() . <span class="php-quote">'_'</span> . <span class="php-var">$this</span>-&gt;name;
</span><span id="374" class="l"><a class="l" href="#374">374: </a>
</span><span id="375" class="l"><a class="l" href="#375">375: </a>        <span class="php-comment">// optimization to prevent redundant configuration code when used in a repeater</span>
</span><span id="376" class="l"><a class="l" href="#376">376: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;configName, <span class="php-quote">'_repeater'</span>)) <span class="php-var">$this</span>-&gt;configName = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/_repeater\d+/'</span>, <span class="php-quote">''</span>, <span class="php-var">$this</span>-&gt;configName);
</span><span id="377" class="l"><a class="l" href="#377">377: </a>        <span class="php-keyword1">if</span>(!<span class="php-keyword2">in_array</span>(<span class="php-var">$this</span>-&gt;configName, self::<span class="php-var">$configNames</span>)) <span class="php-var">$this</span>-&gt;config-&gt;js(<span class="php-var">$this</span>-&gt;configName, <span class="php-var">$settings</span>);
</span><span id="378" class="l"><a class="l" href="#378">378: </a>        self::<span class="php-var">$configNames</span>[] = <span class="php-var">$this</span>-&gt;configName;
</span><span id="379" class="l"><a class="l" href="#379">379: </a>        
</span><span id="380" class="l"><a class="l" href="#380">380: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;inlineMode) {
</span><span id="381" class="l"><a class="l" href="#381">381: </a>            <span class="php-comment">// inline css must be pre-loaded</span>
</span><span id="382" class="l"><a class="l" href="#382">382: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;contentsInlineCss) {
</span><span id="383" class="l"><a class="l" href="#383">383: </a>                <span class="php-var">$this</span>-&gt;config-&gt;styles-&gt;add(<span class="php-var">$this</span>-&gt;pathFromRoot(<span class="php-var">$this</span>-&gt;contentsInlineCss, <span class="php-keyword1">true</span>));
</span><span id="384" class="l"><a class="l" href="#384">384: </a>            } <span class="php-keyword1">else</span> {
</span><span id="385" class="l"><a class="l" href="#385">385: </a>                <span class="php-var">$this</span>-&gt;config-&gt;styles-&gt;add(<span class="php-var">$this</span>-&gt;config-&gt;urls(<span class="php-quote">'InputfieldCKEditor'</span>) . <span class="php-quote">&quot;contents-inline.css&quot;</span>);
</span><span id="386" class="l"><a class="l" href="#386">386: </a>            }
</span><span id="387" class="l"><a class="l" href="#387">387: </a>        }
</span><span id="388" class="l"><a class="l" href="#388">388: </a>
</span><span id="389" class="l"><a class="l" href="#389">389: </a>        <span class="php-keyword1">return</span> parent::renderReady(<span class="php-var">$parent</span>, <span class="php-var">$renderValueMode</span>);
</span><span id="390" class="l"><a class="l" href="#390">390: </a>    }
</span><span id="391" class="l"><a class="l" href="#391">391: </a>
</span><span id="392" class="l"><a class="l" href="#392">392: </a>    <span class="php-comment">/**
</span></span><span id="393" class="l"><a class="l" href="#393">393: </a><span class="php-comment">     * Render the output code for CKEditor
</span></span><span id="394" class="l"><a class="l" href="#394">394: </a><span class="php-comment">     *
</span></span><span id="395" class="l"><a class="l" href="#395">395: </a><span class="php-comment">     */</span>
</span><span id="396" class="l"><a class="l" href="#396">396: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____render" href="#____render">___render</a>() {
</span><span id="397" class="l"><a class="l" href="#397">397: </a>        <span class="php-keyword1">return</span> (<span class="php-var">$this</span>-&gt;inlineMode ? <span class="php-var">$this</span>-&gt;renderInline() : <span class="php-var">$this</span>-&gt;renderNormal());
</span><span id="398" class="l"><a class="l" href="#398">398: </a>    }
</span><span id="399" class="l"><a class="l" href="#399">399: </a>
</span><span id="400" class="l"><a class="l" href="#400">400: </a>    <span class="php-comment">/**
</span></span><span id="401" class="l"><a class="l" href="#401">401: </a><span class="php-comment">     * Setup configuration specific to all instances rendered on the same page
</span></span><span id="402" class="l"><a class="l" href="#402">402: </a><span class="php-comment">     *
</span></span><span id="403" class="l"><a class="l" href="#403">403: </a><span class="php-comment">     * Primarily for language translation purposes
</span></span><span id="404" class="l"><a class="l" href="#404">404: </a><span class="php-comment">     *
</span></span><span id="405" class="l"><a class="l" href="#405">405: </a><span class="php-comment">     */</span>
</span><span id="406" class="l"><a class="l" href="#406">406: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_globalConfig" href="#_globalConfig">globalConfig</a>() {
</span><span id="407" class="l"><a class="l" href="#407">407: </a>            
</span><span id="408" class="l"><a class="l" href="#408">408: </a>        <span class="php-keyword1">if</span>(self::<span class="php-var">$isConfigured</span>) <span class="php-keyword1">return</span>;
</span><span id="409" class="l"><a class="l" href="#409">409: </a>
</span><span id="410" class="l"><a class="l" href="#410">410: </a>        <span class="php-var">$cancelButtonLabel</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Cancel'</span>); <span class="php-comment">// Cancel button label</span>
</span><span id="411" class="l"><a class="l" href="#411">411: </a>        
</span><span id="412" class="l"><a class="l" href="#412">412: </a>        <span class="php-var">$linkClassOptions</span> = <span class="php-keyword1">array</span>();
</span><span id="413" class="l"><a class="l" href="#413">413: </a>        <span class="php-var">$linkConfig</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;getModuleConfigData(<span class="php-quote">'ProcessPageEditLink'</span>); 
</span><span id="414" class="l"><a class="l" href="#414">414: </a>        <span class="php-keyword1">if</span>(!<span class="php-keyword1">empty</span>(<span class="php-var">$linkConfig</span>) &amp;&amp; !<span class="php-keyword1">empty</span>(<span class="php-var">$linkConfig</span>[<span class="php-quote">'classOptions'</span>])) {
</span><span id="415" class="l"><a class="l" href="#415">415: </a>            <span class="php-keyword1">foreach</span>(<span class="php-keyword2">explode</span>(<span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$linkConfig</span>[<span class="php-quote">'classOptions'</span>]) <span class="php-keyword1">as</span> <span class="php-var">$option</span>) {
</span><span id="416" class="l"><a class="l" href="#416">416: </a>                <span class="php-var">$linkClassOptions</span>[] = <span class="php-keyword2">trim</span>(<span class="php-var">$option</span>, <span class="php-quote">'+ '</span>);  
</span><span id="417" class="l"><a class="l" href="#417">417: </a>            }
</span><span id="418" class="l"><a class="l" href="#418">418: </a>        }
</span><span id="419" class="l"><a class="l" href="#419">419: </a>        
</span><span id="420" class="l"><a class="l" href="#420">420: </a>        <span class="php-var">$info</span> = self::getModuleInfo();
</span><span id="421" class="l"><a class="l" href="#421">421: </a>
</span><span id="422" class="l"><a class="l" href="#422">422: </a>        <span class="php-var">$settings</span> = <span class="php-keyword1">array</span>(
</span><span id="423" class="l"><a class="l" href="#423">423: </a>            <span class="php-quote">'language'</span> =&gt; <span class="php-var">$this</span>-&gt;_x(<span class="php-quote">'en'</span>, <span class="php-quote">'language-code'</span>), <span class="php-comment">// 2 character language code, lowercase</span>
</span><span id="424" class="l"><a class="l" href="#424">424: </a>            <span class="php-quote">'timestamp'</span> =&gt; <span class="php-quote">'2015030801.'</span> . <span class="php-var">$info</span>[<span class="php-quote">'version'</span>], <span class="php-comment">// for cache busting (thanks teppo!)</span>
</span><span id="425" class="l"><a class="l" href="#425">425: </a>            <span class="php-quote">'plugins'</span> =&gt; <span class="php-var">$this</span>-&gt;findPlugins(),
</span><span id="426" class="l"><a class="l" href="#426">426: </a>            <span class="php-quote">'editors'</span> =&gt; <span class="php-keyword1">array</span>(),
</span><span id="427" class="l"><a class="l" href="#427">427: </a>            <span class="php-quote">'pwlink'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="428" class="l"><a class="l" href="#428">428: </a>                <span class="php-quote">'label'</span>        =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Insert Link'</span>), <span class="php-comment">// Insert link label, window headline and button text</span>
</span><span id="429" class="l"><a class="l" href="#429">429: </a>                <span class="php-quote">'edit'</span>         =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Edit Link'</span>), <span class="php-comment">// Edit link label</span>
</span><span id="430" class="l"><a class="l" href="#430">430: </a>                <span class="php-quote">'cancel'</span>       =&gt; <span class="php-var">$cancelButtonLabel</span>,
</span><span id="431" class="l"><a class="l" href="#431">431: </a>                <span class="php-quote">'classOptions'</span> =&gt; <span class="php-keyword2">implode</span>(<span class="php-quote">','</span>, <span class="php-var">$linkClassOptions</span>),
</span><span id="432" class="l"><a class="l" href="#432">432: </a>            ),
</span><span id="433" class="l"><a class="l" href="#433">433: </a>            <span class="php-quote">'pwimage'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="434" class="l"><a class="l" href="#434">434: </a>                <span class="php-quote">'selectLabel'</span>  =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Select Image'</span>),
</span><span id="435" class="l"><a class="l" href="#435">435: </a>                <span class="php-quote">'editLabel'</span>    =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Edit Image'</span>),
</span><span id="436" class="l"><a class="l" href="#436">436: </a>                <span class="php-quote">'captionLabel'</span> =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Your caption text here'</span>),
</span><span id="437" class="l"><a class="l" href="#437">437: </a>                <span class="php-quote">'savingNote'</span>   =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Saving Image'</span>),
</span><span id="438" class="l"><a class="l" href="#438">438: </a>                <span class="php-quote">'cancelBtn'</span>    =&gt; <span class="php-var">$cancelButtonLabel</span>,
</span><span id="439" class="l"><a class="l" href="#439">439: </a>                <span class="php-quote">'insertBtn'</span>    =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Insert Image'</span>),
</span><span id="440" class="l"><a class="l" href="#440">440: </a>                <span class="php-quote">'selectBtn'</span>    =&gt; <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Select Another'</span>)
</span><span id="441" class="l"><a class="l" href="#441">441: </a>            )
</span><span id="442" class="l"><a class="l" href="#442">442: </a>        );
</span><span id="443" class="l"><a class="l" href="#443">443: </a>        
</span><span id="444" class="l"><a class="l" href="#444">444: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;hasFieldtype === <span class="php-keyword1">false</span>) {
</span><span id="445" class="l"><a class="l" href="#445">445: </a>            <span class="php-comment">// not applicable when no page attached</span>
</span><span id="446" class="l"><a class="l" href="#446">446: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$settings</span>[<span class="php-quote">'pwlink'</span>], <span class="php-var">$settings</span>[<span class="php-quote">'pwimage'</span>]); 
</span><span id="447" class="l"><a class="l" href="#447">447: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$settings</span>[<span class="php-quote">'plugins'</span>][<span class="php-quote">'pwlink'</span>], <span class="php-var">$settings</span>[<span class="php-quote">'plugins'</span>][<span class="php-quote">'pwimage'</span>]);
</span><span id="448" class="l"><a class="l" href="#448">448: </a>        }
</span><span id="449" class="l"><a class="l" href="#449">449: </a>        
</span><span id="450" class="l"><a class="l" href="#450">450: </a>        <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>)-&gt;js(<span class="php-var">$this</span>-&gt;className(), <span class="php-var">$settings</span>); 
</span><span id="451" class="l"><a class="l" href="#451">451: </a>
</span><span id="452" class="l"><a class="l" href="#452">452: </a>        self::<span class="php-var">$isConfigured</span> = <span class="php-keyword1">true</span>; 
</span><span id="453" class="l"><a class="l" href="#453">453: </a>    }
</span><span id="454" class="l"><a class="l" href="#454">454: </a>
</span><span id="455" class="l"><a class="l" href="#455">455: </a>    <span class="php-comment">/**
</span></span><span id="456" class="l"><a class="l" href="#456">456: </a><span class="php-comment">     * Locate all external plugins and return array of name =&gt; file
</span></span><span id="457" class="l"><a class="l" href="#457">457: </a><span class="php-comment">     *
</span></span><span id="458" class="l"><a class="l" href="#458">458: </a><span class="php-comment">     * @param bool $create Create necessary paths that don't exist. (default=false)
</span></span><span id="459" class="l"><a class="l" href="#459">459: </a><span class="php-comment">     * @return array of plugin name =&gt; filename
</span></span><span id="460" class="l"><a class="l" href="#460">460: </a><span class="php-comment">     *
</span></span><span id="461" class="l"><a class="l" href="#461">461: </a><span class="php-comment">     */</span>
</span><span id="462" class="l"><a class="l" href="#462">462: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_findPlugins" href="#_findPlugins">findPlugins</a>(<span class="php-var">$create</span> = <span class="php-keyword1">false</span>) {
</span><span id="463" class="l"><a class="l" href="#463">463: </a>        
</span><span id="464" class="l"><a class="l" href="#464">464: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$plugins" href="#$plugins">$plugins</a></span> = <span class="php-keyword1">array</span>();
</span><span id="465" class="l"><a class="l" href="#465">465: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">count</span>(<span class="php-var">$plugins</span>) &amp;&amp; !<span class="php-var">$create</span>) <span class="php-keyword1">return</span> <span class="php-var">$plugins</span>; 
</span><span id="466" class="l"><a class="l" href="#466">466: </a>        
</span><span id="467" class="l"><a class="l" href="#467">467: </a>        <span class="php-var">$config</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>);
</span><span id="468" class="l"><a class="l" href="#468">468: </a>        <span class="php-var">$class</span> = <span class="php-var">$this</span>-&gt;className();
</span><span id="469" class="l"><a class="l" href="#469">469: </a>        <span class="php-var">$plugins</span> = <span class="php-keyword1">array</span>();
</span><span id="470" class="l"><a class="l" href="#470">470: </a>
</span><span id="471" class="l"><a class="l" href="#471">471: </a>        <span class="php-var">$paths</span> = <span class="php-keyword1">array</span>(
</span><span id="472" class="l"><a class="l" href="#472">472: </a>            <span class="php-var">$config</span>-&gt;paths-&gt;<span class="php-var">$class</span> . <span class="php-quote">&quot;plugins/&quot;</span>,
</span><span id="473" class="l"><a class="l" href="#473">473: </a>            <span class="php-var">$config</span>-&gt;paths-&gt;siteModules . <span class="php-quote">&quot;</span><span class="php-var">$class</span><span class="php-quote">/plugins/&quot;</span>,
</span><span id="474" class="l"><a class="l" href="#474">474: </a>        );
</span><span id="475" class="l"><a class="l" href="#475">475: </a>        
</span><span id="476" class="l"><a class="l" href="#476">476: </a>        <span class="php-var">$urls</span> = <span class="php-keyword1">array</span>(
</span><span id="477" class="l"><a class="l" href="#477">477: </a>            <span class="php-var">$config</span>-&gt;urls-&gt;<span class="php-var">$class</span> . <span class="php-quote">&quot;plugins/&quot;</span>,
</span><span id="478" class="l"><a class="l" href="#478">478: </a>            <span class="php-var">$config</span>-&gt;urls-&gt;siteModules . <span class="php-quote">&quot;</span><span class="php-var">$class</span><span class="php-quote">/plugins/&quot;</span>,
</span><span id="479" class="l"><a class="l" href="#479">479: </a>        );
</span><span id="480" class="l"><a class="l" href="#480">480: </a>
</span><span id="481" class="l"><a class="l" href="#481">481: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$paths</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$path</span>) {
</span><span id="482" class="l"><a class="l" href="#482">482: </a>            
</span><span id="483" class="l"><a class="l" href="#483">483: </a>            <span class="php-keyword1">if</span>(!<span class="php-keyword2">file_exists</span>(<span class="php-var">$path</span>)) {
</span><span id="484" class="l"><a class="l" href="#484">484: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$create</span>) {
</span><span id="485" class="l"><a class="l" href="#485">485: </a>                    <span class="php-var">$url</span> = <span class="php-var">$urls</span>[<span class="php-var">$key</span>];
</span><span id="486" class="l"><a class="l" href="#486">486: </a>                    <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'files'</span>)-&gt;<span class="php-keyword2">mkdir</span>(<span class="php-var">$path</span>, <span class="php-keyword1">true</span>)) {
</span><span id="487" class="l"><a class="l" href="#487">487: </a>                        <span class="php-var">$this</span>-&gt;message(<span class="php-quote">&quot;Created new CKEditor external plugins directory: </span><span class="php-var">$url</span><span class="php-quote">&quot;</span>);    
</span><span id="488" class="l"><a class="l" href="#488">488: </a>                    } <span class="php-keyword1">else</span> {
</span><span id="489" class="l"><a class="l" href="#489">489: </a>                        <span class="php-var">$this</span>-&gt;warning(<span class="php-quote">&quot;The CKEditor external plugins directory does not exist: </span><span class="php-var">$url</span><span class="php-quote"> - Please create it when/if you want to install external plugins.&quot;</span>);
</span><span id="490" class="l"><a class="l" href="#490">490: </a>                    }
</span><span id="491" class="l"><a class="l" href="#491">491: </a>                }
</span><span id="492" class="l"><a class="l" href="#492">492: </a>                <span class="php-keyword1">continue</span>;
</span><span id="493" class="l"><a class="l" href="#493">493: </a>            }
</span><span id="494" class="l"><a class="l" href="#494">494: </a>            
</span><span id="495" class="l"><a class="l" href="#495">495: </a>            <span class="php-keyword1">foreach</span>(<span class="php-keyword1">new</span> \DirectoryIterator(<span class="php-var">$path</span>) <span class="php-keyword1">as</span> <span class="php-var">$dir</span>) {
</span><span id="496" class="l"><a class="l" href="#496">496: </a>                <span class="php-keyword1">if</span>(!<span class="php-var">$dir</span>-&gt;isDir() || <span class="php-var">$dir</span>-&gt;isDot()) <span class="php-keyword1">continue</span>;
</span><span id="497" class="l"><a class="l" href="#497">497: </a>                <span class="php-var">$basename</span> = <span class="php-var">$dir</span>-&gt;getBasename();
</span><span id="498" class="l"><a class="l" href="#498">498: </a>                <span class="php-var">$file</span> = <span class="php-quote">&quot;</span><span class="php-var">$path$basename</span><span class="php-quote">/plugin.js&quot;</span>;
</span><span id="499" class="l"><a class="l" href="#499">499: </a>                <span class="php-keyword1">if</span>(!<span class="php-keyword2">file_exists</span>(<span class="php-var">$file</span>)) <span class="php-keyword1">continue</span>;
</span><span id="500" class="l"><a class="l" href="#500">500: </a>                <span class="php-var">$url</span> = <span class="php-var">$urls</span>[<span class="php-var">$key</span>] . <span class="php-quote">&quot;</span><span class="php-var">$basename</span><span class="php-quote">/plugin.js&quot;</span>;
</span><span id="501" class="l"><a class="l" href="#501">501: </a>                <span class="php-var">$plugins</span>[<span class="php-var">$basename</span>] = <span class="php-var">$url</span>;
</span><span id="502" class="l"><a class="l" href="#502">502: </a>            }
</span><span id="503" class="l"><a class="l" href="#503">503: </a>        }
</span><span id="504" class="l"><a class="l" href="#504">504: </a>
</span><span id="505" class="l"><a class="l" href="#505">505: </a>        <span class="php-keyword1">return</span> <span class="php-var">$plugins</span>; 
</span><span id="506" class="l"><a class="l" href="#506">506: </a>    }
</span><span id="507" class="l"><a class="l" href="#507">507: </a>
</span><span id="508" class="l"><a class="l" href="#508">508: </a>    <span class="php-comment">/**
</span></span><span id="509" class="l"><a class="l" href="#509">509: </a><span class="php-comment">     * Render the output code for CKEditor Normal Mode
</span></span><span id="510" class="l"><a class="l" href="#510">510: </a><span class="php-comment">     *
</span></span><span id="511" class="l"><a class="l" href="#511">511: </a><span class="php-comment">     */</span>
</span><span id="512" class="l"><a class="l" href="#512">512: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_renderNormal" href="#_renderNormal">renderNormal</a>() {
</span><span id="513" class="l"><a class="l" href="#513">513: </a>        <span class="php-comment">//$out = parent::___render() . &quot;&lt;script&gt;CKEDITOR.replace('$this-&gt;id', config.$this-&gt;configName);&lt;/script&gt;&quot;;</span>
</span><span id="514" class="l"><a class="l" href="#514">514: </a>        <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldCKEditorNormal'</span>);
</span><span id="515" class="l"><a class="l" href="#515">515: </a>        <span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'data-configName'</span>, <span class="php-var">$this</span>-&gt;configName); 
</span><span id="516" class="l"><a class="l" href="#516">516: </a>        <span class="php-var">$out</span> = parent::___render() . <span class="php-quote">&quot;&lt;script&gt;config.InputfieldCKEditor.editors.</span><span class="php-var">$this</span><span class="php-quote">-&gt;id = '</span><span class="php-var">$this</span><span class="php-quote">-&gt;configName';&lt;/script&gt;&quot;</span>;
</span><span id="517" class="l"><a class="l" href="#517">517: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="518" class="l"><a class="l" href="#518">518: </a>    }
</span><span id="519" class="l"><a class="l" href="#519">519: </a>
</span><span id="520" class="l"><a class="l" href="#520">520: </a>    <span class="php-comment">/**
</span></span><span id="521" class="l"><a class="l" href="#521">521: </a><span class="php-comment">     * Render the output code for CKEditor Inline Mode
</span></span><span id="522" class="l"><a class="l" href="#522">522: </a><span class="php-comment">     *
</span></span><span id="523" class="l"><a class="l" href="#523">523: </a><span class="php-comment">     */</span>
</span><span id="524" class="l"><a class="l" href="#524">524: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_renderInline" href="#_renderInline">renderInline</a>() {
</span><span id="525" class="l"><a class="l" href="#525">525: </a>
</span><span id="526" class="l"><a class="l" href="#526">526: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'MarkupHTMLPurifier'</span>)) {
</span><span id="527" class="l"><a class="l" href="#527">527: </a>            <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'CKEditor inline mode requires the MarkupHTMLPurifier module. Using normal mode instead.'</span>)); 
</span><span id="528" class="l"><a class="l" href="#528">528: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;renderNormal();
</span><span id="529" class="l"><a class="l" href="#529">529: </a>        }
</span><span id="530" class="l"><a class="l" href="#530">530: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;purifyValue(<span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'value'</span>)); 
</span><span id="531" class="l"><a class="l" href="#531">531: </a>
</span><span id="532" class="l"><a class="l" href="#532">532: </a>        <span class="php-var">$out</span> =  
</span><span id="533" class="l"><a class="l" href="#533">533: </a>            <span class="php-quote">&quot;&lt;div id='</span><span class="php-var">{$this-&gt;id}</span><span class="php-quote">_ckeditor' class='InputfieldCKEditorInline InputfieldCKEditorInlineEditor' data-configName='</span><span class="php-var">$this</span><span class="php-quote">-&gt;configName'&gt;</span><span class="php-var">$value</span><span class="php-quote">&lt;/div&gt;&quot;</span> . 
</span><span id="534" class="l"><a class="l" href="#534">534: </a>            <span class="php-quote">&quot;&lt;input type='hidden' name='</span><span class="php-var">$this</span><span class="php-quote">-&gt;name' id='</span><span class="php-var">$this</span><span class="php-quote">-&gt;id' value='&quot;</span> . self::PLACEHOLDER_TEXT . <span class="php-quote">&quot;' /&gt;&quot;</span>;
</span><span id="535" class="l"><a class="l" href="#535">535: </a>
</span><span id="536" class="l"><a class="l" href="#536">536: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="537" class="l"><a class="l" href="#537">537: </a>    }
</span><span id="538" class="l"><a class="l" href="#538">538: </a>    
</span><span id="539" class="l"><a class="l" href="#539">539: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____renderValue" href="#____renderValue">___renderValue</a>() {
</span><span id="540" class="l"><a class="l" href="#540">540: </a>        <span class="php-var">$out</span> = <span class="php-quote">&quot;&lt;div class='InputfieldTextareaContentTypeHTML InputfieldCKEditorInline'&gt;&quot;</span> . 
</span><span id="541" class="l"><a class="l" href="#541">541: </a>            <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;purify(<span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'value'</span>)) . <span class="php-quote">&quot;&lt;/div&gt;&quot;</span>;
</span><span id="542" class="l"><a class="l" href="#542">542: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="543" class="l"><a class="l" href="#543">543: </a>    }
</span><span id="544" class="l"><a class="l" href="#544">544: </a>    
</span><span id="545" class="l"><a class="l" href="#545">545: </a>    <span class="php-comment">/**
</span></span><span id="546" class="l"><a class="l" href="#546">546: </a><span class="php-comment">     * Clean up a value that will be sent to/from the editor
</span></span><span id="547" class="l"><a class="l" href="#547">547: </a><span class="php-comment">     *
</span></span><span id="548" class="l"><a class="l" href="#548">548: </a><span class="php-comment">     * This is primarily for HTML Purifier 
</span></span><span id="549" class="l"><a class="l" href="#549">549: </a><span class="php-comment">     * 
</span></span><span id="550" class="l"><a class="l" href="#550">550: </a><span class="php-comment">     * @param string $value
</span></span><span id="551" class="l"><a class="l" href="#551">551: </a><span class="php-comment">     * @return string
</span></span><span id="552" class="l"><a class="l" href="#552">552: </a><span class="php-comment">     *
</span></span><span id="553" class="l"><a class="l" href="#553">553: </a><span class="php-comment">     */</span>
</span><span id="554" class="l"><a class="l" href="#554">554: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_purifyValue" href="#_purifyValue">purifyValue</a>(<span class="php-var">$value</span>) {
</span><span id="555" class="l"><a class="l" href="#555">555: </a>
</span><span id="556" class="l"><a class="l" href="#556">556: </a>        <span class="php-var">$value</span> = (string) <span class="php-var">$value</span>; 
</span><span id="557" class="l"><a class="l" href="#557">557: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$value</span>, <span class="php-quote">&quot;\r&quot;</span>) !== <span class="php-keyword1">false</span>) <span class="php-var">$value</span> = <span class="php-keyword2">str_replace</span>(<span class="php-keyword1">array</span>(<span class="php-quote">&quot;\r\n&quot;</span>, <span class="php-quote">&quot;\r&quot;</span>), <span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$value</span>);
</span><span id="558" class="l"><a class="l" href="#558">558: </a>        <span class="php-var">$length</span> = <span class="php-keyword2">strlen</span>(<span class="php-var">$value</span>);
</span><span id="559" class="l"><a class="l" href="#559">559: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$length</span>) <span class="php-keyword1">return</span> <span class="php-quote">''</span>; 
</span><span id="560" class="l"><a class="l" href="#560">560: </a>
</span><span id="561" class="l"><a class="l" href="#561">561: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;usePurifier &amp;&amp; <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;isInstalled(<span class="php-quote">'MarkupHTMLPurifier'</span>)) {
</span><span id="562" class="l"><a class="l" href="#562">562: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">is_null</span>(self::<span class="php-var">$purifier</span>)) self::<span class="php-var">$purifier</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'MarkupHTMLPurifier'</span>);
</span><span id="563" class="l"><a class="l" href="#563">563: </a>            <span class="php-var">$configData</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;getModuleConfigData(<span class="php-quote">'ProcessPageEditLink'</span>);
</span><span id="564" class="l"><a class="l" href="#564">564: </a>            <span class="php-var">$targets</span> = <span class="php-keyword1">isset</span>(<span class="php-var">$configData</span>[<span class="php-quote">'targetOptions'</span>]) ? <span class="php-var">$configData</span>[<span class="php-quote">'targetOptions'</span>] : <span class="php-quote">'_blank'</span>;
</span><span id="565" class="l"><a class="l" href="#565">565: </a>            <span class="php-var">$targets</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$targets</span>);
</span><span id="566" class="l"><a class="l" href="#566">566: </a>            <span class="php-keyword1">foreach</span>(<span class="php-var">$targets</span> <span class="php-keyword1">as</span> <span class="php-var">$k</span> =&gt; <span class="php-var">$v</span>) <span class="php-var">$targets</span>[<span class="php-var">$k</span>] = <span class="php-keyword2">trim</span>(<span class="php-var">$v</span>);
</span><span id="567" class="l"><a class="l" href="#567">567: </a>            self::<span class="php-var">$purifier</span>-&gt;set(<span class="php-quote">'Attr.AllowedFrameTargets'</span>, <span class="php-var">$targets</span>); <span class="php-comment">// allow links opened in new window/tab</span>
</span><span id="568" class="l"><a class="l" href="#568">568: </a>            self::<span class="php-var">$purifier</span>-&gt;set(<span class="php-quote">'Attr.EnableID'</span>, <span class="php-keyword2">stripos</span>(<span class="php-var">$this</span>-&gt;toolbar, <span class="php-quote">'anchor'</span>) !== <span class="php-keyword1">false</span>); <span class="php-comment">// for anchor plugin use of id and name attributes</span>
</span><span id="569" class="l"><a class="l" href="#569">569: </a>            <span class="php-var">$value</span> = self::<span class="php-var">$purifier</span>-&gt;purify(<span class="php-var">$value</span>); 
</span><span id="570" class="l"><a class="l" href="#570">570: </a>            <span class="php-comment">// $newLength = strlen($value);</span>
</span><span id="571" class="l"><a class="l" href="#571">571: </a>            <span class="php-comment">// if($length != $newLength) $this-&gt;message(&quot;HTML Purifier: $this-&gt;name (before: $length bytes, after: $newLength bytes)&quot;, Notice::debug);</span>
</span><span id="572" class="l"><a class="l" href="#572">572: </a>        }
</span><span id="573" class="l"><a class="l" href="#573">573: </a>
</span><span id="574" class="l"><a class="l" href="#574">574: </a>        <span class="php-comment">// convert &lt;div&gt; to paragraphs</span>
</span><span id="575" class="l"><a class="l" href="#575">575: </a>        <span class="php-var">$toggles</span> = <span class="php-var">$this</span>-&gt;toggles; 
</span><span id="576" class="l"><a class="l" href="#576">576: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">is_array</span>(<span class="php-var">$toggles</span>)) {
</span><span id="577" class="l"><a class="l" href="#577">577: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">in_array</span>(self::toggleCleanDIV, <span class="php-var">$toggles</span>) &amp;&amp; <span class="php-keyword2">strpos</span>(<span class="php-var">$this</span>-&gt;formatTags, <span class="php-quote">'div'</span>) === <span class="php-keyword1">false</span> &amp;&amp; <span class="php-keyword2">strpos</span>(<span class="php-var">$value</span>, <span class="php-quote">'&lt;div'</span>) !== <span class="php-keyword1">false</span>) {
</span><span id="578" class="l"><a class="l" href="#578">578: </a>                <span class="php-comment">// for some reason CKEditor insists on pasting DIVs sometimes when they should be paragraphs</span>
</span><span id="579" class="l"><a class="l" href="#579">579: </a>                <span class="php-comment">// so we attempt to fix that issue here </span>
</span><span id="580" class="l"><a class="l" href="#580">580: </a>                <span class="php-var">$value</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'{\s*(&lt;/?)div[^&gt;&lt;]*&gt;\s*}is'</span>, <span class="php-quote">'$1'</span> . <span class="php-quote">'p&gt;'</span>, <span class="php-var">$value</span>); 
</span><span id="581" class="l"><a class="l" href="#581">581: </a>                <span class="php-comment">// fix doubled paragraph tags, in case the above replacement cased any</span>
</span><span id="582" class="l"><a class="l" href="#582">582: </a>                <span class="php-keyword1">while</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$value</span>, <span class="php-quote">'&lt;p&gt;&lt;p&gt;'</span>) !== <span class="php-keyword1">false</span>) {
</span><span id="583" class="l"><a class="l" href="#583">583: </a>                    <span class="php-var">$value</span> = <span class="php-keyword2">str_replace</span>(<span class="php-keyword1">array</span>(<span class="php-quote">'&lt;p&gt;&lt;p&gt;'</span>, <span class="php-quote">'&lt;/p&gt;&lt;/p&gt;'</span>), <span class="php-keyword1">array</span>(<span class="php-quote">'&lt;p&gt;'</span>, <span class="php-quote">'&lt;/p&gt;'</span>), <span class="php-var">$value</span>); 
</span><span id="584" class="l"><a class="l" href="#584">584: </a>                }
</span><span id="585" class="l"><a class="l" href="#585">585: </a>            }
</span><span id="586" class="l"><a class="l" href="#586">586: </a>    
</span><span id="587" class="l"><a class="l" href="#587">587: </a>            <span class="php-comment">// remove gratuitous whitespace added by CKEditor</span>
</span><span id="588" class="l"><a class="l" href="#588">588: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">in_array</span>(self::toggleCleanP, <span class="php-var">$toggles</span>)) {
</span><span id="589" class="l"><a class="l" href="#589">589: </a>                <span class="php-var">$value</span> = <span class="php-keyword2">str_replace</span>(<span class="php-keyword1">array</span>(<span class="php-quote">'&lt;p&gt;&lt;br /&gt;&lt;/p&gt;'</span>, <span class="php-quote">'&lt;p&gt;&amp;nbsp;&lt;/p&gt;'</span>, <span class="php-quote">&quot;&lt;p&gt;\xc2\xa0&lt;/p&gt;&quot;</span>, <span class="php-quote">'&lt;p&gt;&lt;/p&gt;'</span>, <span class="php-quote">'&lt;p&gt; &lt;/p&gt;'</span>), <span class="php-quote">''</span>, <span class="php-var">$value</span>);
</span><span id="590" class="l"><a class="l" href="#590">590: </a>            }
</span><span id="591" class="l"><a class="l" href="#591">591: </a>    
</span><span id="592" class="l"><a class="l" href="#592">592: </a>            <span class="php-comment">// convert non-breaking space to regular space</span>
</span><span id="593" class="l"><a class="l" href="#593">593: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">in_array</span>(self::toggleCleanNBSP, <span class="php-var">$toggles</span>)) {
</span><span id="594" class="l"><a class="l" href="#594">594: </a>                <span class="php-var">$value</span> = <span class="php-keyword2">str_ireplace</span>(<span class="php-quote">'&amp;nbsp;'</span>, <span class="php-quote">' '</span>, <span class="php-var">$value</span>);
</span><span id="595" class="l"><a class="l" href="#595">595: </a>                <span class="php-var">$value</span> = <span class="php-keyword2">str_replace</span>(<span class="php-quote">&quot;\xc2\xa0&quot;</span>,<span class="php-quote">' '</span>, <span class="php-var">$value</span>);
</span><span id="596" class="l"><a class="l" href="#596">596: </a>            }
</span><span id="597" class="l"><a class="l" href="#597">597: </a>        }
</span><span id="598" class="l"><a class="l" href="#598">598: </a>
</span><span id="599" class="l"><a class="l" href="#599">599: </a>        <span class="php-keyword1">return</span> <span class="php-var">$value</span>; 
</span><span id="600" class="l"><a class="l" href="#600">600: </a>    }
</span><span id="601" class="l"><a class="l" href="#601">601: </a>
</span><span id="602" class="l"><a class="l" href="#602">602: </a>    <span class="php-comment">/**
</span></span><span id="603" class="l"><a class="l" href="#603">603: </a><span class="php-comment">     * Process data submitted to a CKEditor field
</span></span><span id="604" class="l"><a class="l" href="#604">604: </a><span class="php-comment">     *
</span></span><span id="605" class="l"><a class="l" href="#605">605: </a><span class="php-comment">     * When inline mode is used, the content is run through HTML Purifier
</span></span><span id="606" class="l"><a class="l" href="#606">606: </a><span class="php-comment">     * 
</span></span><span id="607" class="l"><a class="l" href="#607">607: </a><span class="php-comment">     * @param WireInputData $input
</span></span><span id="608" class="l"><a class="l" href="#608">608: </a><span class="php-comment">     * @return $this
</span></span><span id="609" class="l"><a class="l" href="#609">609: </a><span class="php-comment">     *
</span></span><span id="610" class="l"><a class="l" href="#610">610: </a><span class="php-comment">     */</span>
</span><span id="611" class="l"><a class="l" href="#611">611: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____processInput" href="#____processInput">___processInput</a>(WireInputData <span class="php-var">$input</span>) {
</span><span id="612" class="l"><a class="l" href="#612">612: </a>
</span><span id="613" class="l"><a class="l" href="#613">613: </a>        <span class="php-var">$value</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$input</span>[<span class="php-var">$this</span>-&gt;name]); 
</span><span id="614" class="l"><a class="l" href="#614">614: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$value</span> == self::PLACEHOLDER_TEXT) <span class="php-keyword1">return</span> <span class="php-var">$this</span>; <span class="php-comment">// ignore value</span>
</span><span id="615" class="l"><a class="l" href="#615">615: </a>
</span><span id="616" class="l"><a class="l" href="#616">616: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;purifyValue(<span class="php-var">$value</span>); 
</span><span id="617" class="l"><a class="l" href="#617">617: </a>
</span><span id="618" class="l"><a class="l" href="#618">618: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$value</span> != <span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'value'</span>)) {
</span><span id="619" class="l"><a class="l" href="#619">619: </a>            <span class="php-var">$this</span>-&gt;trackChange(<span class="php-quote">'value'</span>);
</span><span id="620" class="l"><a class="l" href="#620">620: </a>            <span class="php-var">$this</span>-&gt;setAttribute(<span class="php-quote">'value'</span>, <span class="php-var">$value</span>);   
</span><span id="621" class="l"><a class="l" href="#621">621: </a>        }
</span><span id="622" class="l"><a class="l" href="#622">622: </a>
</span><span id="623" class="l"><a class="l" href="#623">623: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>;
</span><span id="624" class="l"><a class="l" href="#624">624: </a>    }
</span><span id="625" class="l"><a class="l" href="#625">625: </a>
</span><span id="626" class="l"><a class="l" href="#626">626: </a>    <span class="php-comment">/**
</span></span><span id="627" class="l"><a class="l" href="#627">627: </a><span class="php-comment">     * Convert a JSON-like plugin settings string to an array
</span></span><span id="628" class="l"><a class="l" href="#628">628: </a><span class="php-comment">     * 
</span></span><span id="629" class="l"><a class="l" href="#629">629: </a><span class="php-comment">     * @param string $str
</span></span><span id="630" class="l"><a class="l" href="#630">630: </a><span class="php-comment">     * @param array|string $returnType Specify blank array to return settings as array, specify blank string to return JSON string.
</span></span><span id="631" class="l"><a class="l" href="#631">631: </a><span class="php-comment">     * @return bool|array Returns boolean false on failure
</span></span><span id="632" class="l"><a class="l" href="#632">632: </a><span class="php-comment">     * 
</span></span><span id="633" class="l"><a class="l" href="#633">633: </a><span class="php-comment">     */</span>
</span><span id="634" class="l"><a class="l" href="#634">634: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_convertPluginSettingsStr" href="#_convertPluginSettingsStr">convertPluginSettingsStr</a>(<span class="php-var">$str</span>, <span class="php-var">$returnType</span> = <span class="php-keyword1">array</span>()) {
</span><span id="635" class="l"><a class="l" href="#635">635: </a>        
</span><span id="636" class="l"><a class="l" href="#636">636: </a>        <span class="php-var">$str</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$str</span>, <span class="php-quote">&quot;{}\r\n &quot;</span>); <span class="php-comment">// trim off surrounding whitespace and { }</span>
</span><span id="637" class="l"><a class="l" href="#637">637: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$str</span>)) <span class="php-keyword1">return</span> <span class="php-keyword2">is_array</span>(<span class="php-var">$returnType</span>) ? <span class="php-keyword1">array</span>() : <span class="php-quote">''</span>;
</span><span id="638" class="l"><a class="l" href="#638">638: </a>    
</span><span id="639" class="l"><a class="l" href="#639">639: </a>        <span class="php-var">$test</span> = <span class="php-quote">&quot;{ </span><span class="php-var">$str</span><span class="php-quote"> }&quot;</span>;
</span><span id="640" class="l"><a class="l" href="#640">640: </a>        <span class="php-var">$test</span> = <span class="php-keyword2">json_decode</span>(<span class="php-var">$test</span>, <span class="php-keyword1">true</span>);   
</span><span id="641" class="l"><a class="l" href="#641">641: </a>        
</span><span id="642" class="l"><a class="l" href="#642">642: </a>        <span class="php-keyword1">if</span>(!<span class="php-keyword1">empty</span>(<span class="php-var">$test</span>)) {
</span><span id="643" class="l"><a class="l" href="#643">643: </a>            <span class="php-comment">// if string already validates as JSON, we don't need to do anything further</span>
</span><span id="644" class="l"><a class="l" href="#644">644: </a>            <span class="php-keyword1">return</span> <span class="php-keyword2">is_array</span>(<span class="php-var">$returnType</span>) ? <span class="php-var">$test</span> : <span class="php-var">$str</span>; 
</span><span id="645" class="l"><a class="l" href="#645">645: </a>        }
</span><span id="646" class="l"><a class="l" href="#646">646: </a>        
</span><span id="647" class="l"><a class="l" href="#647">647: </a>        <span class="php-var">$lines</span> = <span class="php-keyword2">explode</span>(<span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$str</span>); 
</span><span id="648" class="l"><a class="l" href="#648">648: </a>        
</span><span id="649" class="l"><a class="l" href="#649">649: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$lines</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$line</span>) {
</span><span id="650" class="l"><a class="l" href="#650">650: </a>            
</span><span id="651" class="l"><a class="l" href="#651">651: </a>            <span class="php-var">$line</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$line</span>); 
</span><span id="652" class="l"><a class="l" href="#652">652: </a>            
</span><span id="653" class="l"><a class="l" href="#653">653: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$line</span>)) <span class="php-keyword1">continue</span>; 
</span><span id="654" class="l"><a class="l" href="#654">654: </a>            
</span><span id="655" class="l"><a class="l" href="#655">655: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-keyword2">rtrim</span>(<span class="php-var">$line</span>, <span class="php-quote">':, '</span>), <span class="php-quote">':'</span>)) { 
</span><span id="656" class="l"><a class="l" href="#656">656: </a>                <span class="php-comment">// line defines a &quot;property: value&quot;</span>
</span><span id="657" class="l"><a class="l" href="#657">657: </a>                
</span><span id="658" class="l"><a class="l" href="#658">658: </a>                <span class="php-var">$line</span> = <span class="php-keyword2">rtrim</span>(<span class="php-var">$line</span>, <span class="php-quote">', '</span>); 
</span><span id="659" class="l"><a class="l" href="#659">659: </a>                <span class="php-keyword1">list</span>(<span class="php-var">$k</span>, <span class="php-var">$v</span>) = <span class="php-keyword2">explode</span>(<span class="php-quote">':'</span>, <span class="php-var">$line</span>); 
</span><span id="660" class="l"><a class="l" href="#660">660: </a>                <span class="php-var">$test</span> = <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$v</span>)); 
</span><span id="661" class="l"><a class="l" href="#661">661: </a>                
</span><span id="662" class="l"><a class="l" href="#662">662: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$test</span> == <span class="php-quote">'true'</span> || <span class="php-var">$test</span> == <span class="php-quote">'false'</span>) {
</span><span id="663" class="l"><a class="l" href="#663">663: </a>                    <span class="php-comment">// line has a boolean</span>
</span><span id="664" class="l"><a class="l" href="#664">664: </a>                    
</span><span id="665" class="l"><a class="l" href="#665">665: </a>                } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-keyword2">is_numeric</span>(<span class="php-var">$test</span>)) {
</span><span id="666" class="l"><a class="l" href="#666">666: </a>                    <span class="php-comment">// line has a number</span>
</span><span id="667" class="l"><a class="l" href="#667">667: </a>                    
</span><span id="668" class="l"><a class="l" href="#668">668: </a>                } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$test</span>, <span class="php-quote">&quot;{}[]&quot;</span>) != <span class="php-var">$test</span>) {
</span><span id="669" class="l"><a class="l" href="#669">669: </a>                    <span class="php-comment">// line is defining a map or array</span>
</span><span id="670" class="l"><a class="l" href="#670">670: </a>                    
</span><span id="671" class="l"><a class="l" href="#671">671: </a>                } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-keyword2">trim</span>(<span class="php-var">$test</span>, <span class="php-quote">'&quot;\''</span>) != <span class="php-var">$test</span>) {
</span><span id="672" class="l"><a class="l" href="#672">672: </a>                    <span class="php-comment">// line is already surrounded in quotes</span>
</span><span id="673" class="l"><a class="l" href="#673">673: </a>                    
</span><span id="674" class="l"><a class="l" href="#674">674: </a>                } <span class="php-keyword1">else</span> {
</span><span id="675" class="l"><a class="l" href="#675">675: </a>                    <span class="php-comment">// line needs to be surrounded in quotes</span>
</span><span id="676" class="l"><a class="l" href="#676">676: </a>                    <span class="php-var">$v</span> = <span class="php-keyword2">str_replace</span>(<span class="php-quote">'&quot;'</span>, <span class="php-quote">'\\&quot;'</span>, <span class="php-var">$v</span>); <span class="php-comment">// escape existing quotes</span>
</span><span id="677" class="l"><a class="l" href="#677">677: </a>                    <span class="php-var">$v</span> = <span class="php-quote">'&quot;'</span> . <span class="php-keyword2">trim</span>(<span class="php-var">$v</span>) . <span class="php-quote">'&quot;'</span>;
</span><span id="678" class="l"><a class="l" href="#678">678: </a>                }
</span><span id="679" class="l"><a class="l" href="#679">679: </a>                
</span><span id="680" class="l"><a class="l" href="#680">680: </a>                <span class="php-var">$k</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$k</span>, <span class="php-quote">'&quot;\''</span>); <span class="php-comment">// if property is quoted, unquote it</span>
</span><span id="681" class="l"><a class="l" href="#681">681: </a>                <span class="php-var">$line</span> = <span class="php-quote">&quot;\&quot;</span><span class="php-var">$k</span><span class="php-quote">\&quot;: </span><span class="php-var">$v</span><span class="php-quote">,&quot;</span>; 
</span><span id="682" class="l"><a class="l" href="#682">682: </a>            }
</span><span id="683" class="l"><a class="l" href="#683">683: </a>            <span class="php-var">$lines</span>[<span class="php-var">$key</span>] = <span class="php-var">$line</span>;
</span><span id="684" class="l"><a class="l" href="#684">684: </a>        }
</span><span id="685" class="l"><a class="l" href="#685">685: </a>        
</span><span id="686" class="l"><a class="l" href="#686">686: </a>        <span class="php-var">$str</span> = <span class="php-keyword2">implode</span>(<span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$lines</span>); <span class="php-comment">// convert lines back to string</span>
</span><span id="687" class="l"><a class="l" href="#687">687: </a>        <span class="php-var">$str</span> = <span class="php-keyword2">rtrim</span>(<span class="php-var">$str</span>, <span class="php-quote">&quot;, &quot;</span>); <span class="php-comment">// remove last comma</span>
</span><span id="688" class="l"><a class="l" href="#688">688: </a>
</span><span id="689" class="l"><a class="l" href="#689">689: </a>        
</span><span id="690" class="l"><a class="l" href="#690">690: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strpos</span>(<span class="php-var">$str</span>, <span class="php-quote">'}'</span>) || <span class="php-keyword2">strpos</span>(<span class="php-var">$str</span>, <span class="php-quote">']'</span>) !== <span class="php-keyword1">false</span>) {
</span><span id="691" class="l"><a class="l" href="#691">691: </a>            <span class="php-comment">// remove commas that come right before a closing brace</span>
</span><span id="692" class="l"><a class="l" href="#692">692: </a>            <span class="php-var">$str</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/,([\s\r\n]*[\}\]])/s'</span>, <span class="php-quote">'$1'</span>, <span class="php-var">$str</span>); 
</span><span id="693" class="l"><a class="l" href="#693">693: </a>        }
</span><span id="694" class="l"><a class="l" href="#694">694: </a>        <span class="php-var">$str</span> = <span class="php-keyword2">str_replace</span>(<span class="php-quote">&quot;,\n&quot;</span>, <span class="php-quote">&quot;, &quot;</span>, <span class="php-var">$str</span>); 
</span><span id="695" class="l"><a class="l" href="#695">695: </a>    
</span><span id="696" class="l"><a class="l" href="#696">696: </a>        <span class="php-var">$str</span> = <span class="php-quote">&quot;{ </span><span class="php-var">$str</span><span class="php-quote"> }&quot;</span>;
</span><span id="697" class="l"><a class="l" href="#697">697: </a>        <span class="php-var">$data</span> = <span class="php-keyword2">json_decode</span>(<span class="php-var">$str</span>, <span class="php-keyword1">true</span>);
</span><span id="698" class="l"><a class="l" href="#698">698: </a>        
</span><span id="699" class="l"><a class="l" href="#699">699: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$data</span> === <span class="php-keyword1">false</span> || <span class="php-keyword2">is_null</span>(<span class="php-var">$data</span>)) <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>; 
</span><span id="700" class="l"><a class="l" href="#700">700: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">is_string</span>(<span class="php-var">$returnType</span>)) <span class="php-var">$data</span> = <span class="php-keyword2">trim</span>(wireEncodeJSON(<span class="php-var">$data</span>, <span class="php-keyword1">true</span>, <span class="php-keyword1">true</span>), <span class="php-quote">&quot;{}\r\n &quot;</span>); 
</span><span id="701" class="l"><a class="l" href="#701">701: </a>        <span class="php-keyword1">return</span> <span class="php-var">$data</span>; 
</span><span id="702" class="l"><a class="l" href="#702">702: </a>    }
</span><span id="703" class="l"><a class="l" href="#703">703: </a>
</span><span id="704" class="l"><a class="l" href="#704">704: </a>    <span class="php-comment">/*
</span></span><span id="705" class="l"><a class="l" href="#705">705: </a><span class="php-comment">     * Inputfield configuration screen
</span></span><span id="706" class="l"><a class="l" href="#706">706: </a><span class="php-comment">     *
</span></span><span id="707" class="l"><a class="l" href="#707">707: </a><span class="php-comment">     */</span>
</span><span id="708" class="l"><a class="l" href="#708">708: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____getConfigInputfields" href="#____getConfigInputfields">___getConfigInputfields</a>() {
</span><span id="709" class="l"><a class="l" href="#709">709: </a>
</span><span id="710" class="l"><a class="l" href="#710">710: </a>        <span class="php-var">$inputfields</span> = parent::___getConfigInputfields();
</span><span id="711" class="l"><a class="l" href="#711">711: </a>    
</span><span id="712" class="l"><a class="l" href="#712">712: </a>        <span class="php-var">$yes</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Yes'</span>);
</span><span id="713" class="l"><a class="l" href="#713">713: </a>        <span class="php-var">$no</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'No'</span>);
</span><span id="714" class="l"><a class="l" href="#714">714: </a>        <span class="php-var">$example</span> = <span class="php-quote">'**'</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Example:'</span>) . <span class="php-quote">'** '</span>;
</span><span id="715" class="l"><a class="l" href="#715">715: </a>
</span><span id="716" class="l"><a class="l" href="#716">716: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;stripTags) { 
</span><span id="717" class="l"><a class="l" href="#717">717: </a>            <span class="php-comment">// remove non-applicable property</span>
</span><span id="718" class="l"><a class="l" href="#718">718: </a>            <span class="php-var">$f</span> = <span class="php-var">$inputfields</span>-&gt;get(<span class="php-quote">'stripTags'</span>);
</span><span id="719" class="l"><a class="l" href="#719">719: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$f</span>) <span class="php-var">$inputfields</span>-&gt;remove(<span class="php-var">$f</span>);
</span><span id="720" class="l"><a class="l" href="#720">720: </a>        } <span class="php-keyword1">else</span> {
</span><span id="721" class="l"><a class="l" href="#721">721: </a>            <span class="php-comment">// keep showing it if value is set, in case a regular textarea w/stripTags was converted to a CKEditor</span>
</span><span id="722" class="l"><a class="l" href="#722">722: </a>        }
</span><span id="723" class="l"><a class="l" href="#723">723: </a>
</span><span id="724" class="l"><a class="l" href="#724">724: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;placeholder) {   
</span><span id="725" class="l"><a class="l" href="#725">725: </a>            <span class="php-var">$f</span> = <span class="php-var">$inputfields</span>-&gt;get(<span class="php-quote">'placeholder'</span>);
</span><span id="726" class="l"><a class="l" href="#726">726: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$f</span>) <span class="php-var">$inputfields</span>-&gt;remove(<span class="php-var">$f</span>);
</span><span id="727" class="l"><a class="l" href="#727">727: </a>        }
</span><span id="728" class="l"><a class="l" href="#728">728: </a>
</span><span id="729" class="l"><a class="l" href="#729">729: </a>        <span class="php-comment">/** @var InputfieldFieldset $wrapper */</span>
</span><span id="730" class="l"><a class="l" href="#730">730: </a>        <span class="php-var">$wrapper</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'InputfieldFieldset'</span>); 
</span><span id="731" class="l"><a class="l" href="#731">731: </a>        <span class="php-var">$wrapper</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'CKEditor Settings'</span>); 
</span><span id="732" class="l"><a class="l" href="#732">732: </a>
</span><span id="733" class="l"><a class="l" href="#733">733: </a>        <span class="php-comment">/** @var InputfieldTextarea $f */</span>
</span><span id="734" class="l"><a class="l" href="#734">734: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'InputfieldTextarea'</span>); 
</span><span id="735" class="l"><a class="l" href="#735">735: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'toolbar'</span>); 
</span><span id="736" class="l"><a class="l" href="#736">736: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$this</span>-&gt;toolbar);
</span><span id="737" class="l"><a class="l" href="#737">737: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'CKEditor Toolbar'</span>); 
</span><span id="738" class="l"><a class="l" href="#738">738: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Separate each toolbar item with a comma. Group items by placing them on the same line and use a hyphen &quot;-&quot; where you want a separator to appear within a group. If you want more than one toolbar row, separate each row with a blank line.'</span>); <span class="php-comment">// Toolbar options description</span>
</span><span id="739" class="l"><a class="l" href="#739">739: </a>        <span class="php-var">$f</span>-&gt;description .= <span class="php-quote">' '</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Insert a hash &quot;#&quot; at the beginning of a line if you want it to be ignored.'</span>);
</span><span id="740" class="l"><a class="l" href="#740">740: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Available core toolbar items:'</span>) . <span class="php-quote">' '</span> . 
</span><span id="741" class="l"><a class="l" href="#741">741: </a>            <span class="php-quote">'About, Anchor, Blockquote, Bold, BulletedList, Copy, CopyFormatting, CreateDiv, Cut, Find, Flash, Format, '</span> . 
</span><span id="742" class="l"><a class="l" href="#742">742: </a>            <span class="php-quote">'HorizontalRule, Iframe, Image, Indent, Italic, JustifyBlock, JustifyCenter, JustifyLeft, JustifyRight, '</span> . 
</span><span id="743" class="l"><a class="l" href="#743">743: </a>            <span class="php-quote">'Language, Link, Maximize, NewPage, NumberedList, Outdent, PageBreak, Paste, PasteFromWord, PasteText, '</span> . 
</span><span id="744" class="l"><a class="l" href="#744">744: </a>            <span class="php-quote">'Preview, Print, PWImage, PWLink, Redo, RemoveFormat, Replace, Save, Scayt, SelectAll, ShowBlocks, Smiley, '</span> . 
</span><span id="745" class="l"><a class="l" href="#745">745: </a>            <span class="php-quote">'Source, Sourcedialog, SpecialChar, SpellChecker, Strike, Styles, Subscript, Superscript, '</span> . 
</span><span id="746" class="l"><a class="l" href="#746">746: </a>            <span class="php-quote">'Table, Templates, Underline, Undo, Unlink'</span>;
</span><span id="747" class="l"><a class="l" href="#747">747: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="748" class="l"><a class="l" href="#748">748: </a>
</span><span id="749" class="l"><a class="l" href="#749">749: </a>        <span class="php-var">$purifierInstalled</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;isInstalled(<span class="php-quote">'MarkupHTMLPurifier'</span>); 
</span><span id="750" class="l"><a class="l" href="#750">750: </a>
</span><span id="751" class="l"><a class="l" href="#751">751: </a>        <span class="php-comment">/** @var InputfieldRadios $f */</span>
</span><span id="752" class="l"><a class="l" href="#752">752: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'InputfieldRadios'</span>); 
</span><span id="753" class="l"><a class="l" href="#753">753: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'inlineMode'</span>); 
</span><span id="754" class="l"><a class="l" href="#754">754: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Editor Mode'</span>);
</span><span id="755" class="l"><a class="l" href="#755">755: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-num">0</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Regular Editor'</span>)); 
</span><span id="756" class="l"><a class="l" href="#756">756: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-num">1</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Inline Editor *'</span>)); 
</span><span id="757" class="l"><a class="l" href="#757">757: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, (int) <span class="php-var">$this</span>-&gt;inlineMode); 
</span><span id="758" class="l"><a class="l" href="#758">758: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'When inline mode is enabled, the editor will not be loaded until you click in the text. This is faster and more efficient when there are numerous CKEditor fields on the page. However, it may not support as many features or editor customizations as regular mode.'</span>); <span class="php-comment">// Mode selection description</span>
</span><span id="759" class="l"><a class="l" href="#759">759: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'*Inline mode requires that the HTML Purifier module is installed (MarkupHTMLPurifier).'</span>); 
</span><span id="760" class="l"><a class="l" href="#760">760: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$purifierInstalled</span>) <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'*The required HTML Purifier module is installed.'</span>); 
</span><span id="761" class="l"><a class="l" href="#761">761: </a>            <span class="php-keyword1">else</span> <span class="php-var">$f</span>-&gt;notes .= <span class="php-quote">&quot;\n&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'WARNING: it is not currently installed. You should install it before enabling inline mode.'</span>); 
</span><span id="762" class="l"><a class="l" href="#762">762: </a>        <span class="php-var">$f</span>-&gt;optionColumns = <span class="php-num">1</span>;
</span><span id="763" class="l"><a class="l" href="#763">763: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="764" class="l"><a class="l" href="#764">764: </a>    
</span><span id="765" class="l"><a class="l" href="#765">765: </a>        <span class="php-comment">// character and word counter option not available for inline editors</span>
</span><span id="766" class="l"><a class="l" href="#766">766: </a>        <span class="php-var">$f</span> = <span class="php-var">$inputfields</span>-&gt;getChildByName(<span class="php-quote">'showCount'</span>);
</span><span id="767" class="l"><a class="l" href="#767">767: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$f</span>) <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Counter is supported for regular CKEditor fields, but not inline CKEditor fields.'</span>);
</span><span id="768" class="l"><a class="l" href="#768">768: </a>
</span><span id="769" class="l"><a class="l" href="#769">769: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldRadios&quot;</span>); 
</span><span id="770" class="l"><a class="l" href="#770">770: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Use ACF?'</span>); 
</span><span id="771" class="l"><a class="l" href="#771">771: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'When yes, the CKEditor Advanced Content Filter (ACF) will be active. This filter automatically strips any unrecognized markup or attributes from your HTML. Recommended.'</span>); 
</span><span id="772" class="l"><a class="l" href="#772">772: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'useACF'</span>); 
</span><span id="773" class="l"><a class="l" href="#773">773: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-num">1</span>, <span class="php-var">$yes</span>);
</span><span id="774" class="l"><a class="l" href="#774">774: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-num">0</span>, <span class="php-var">$no</span>);
</span><span id="775" class="l"><a class="l" href="#775">775: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$this</span>-&gt;useACF); 
</span><span id="776" class="l"><a class="l" href="#776">776: </a>        <span class="php-var">$f</span>-&gt;columnWidth = <span class="php-num">50</span>; 
</span><span id="777" class="l"><a class="l" href="#777">777: </a>        <span class="php-var">$f</span>-&gt;optionColumns = <span class="php-num">1</span>;
</span><span id="778" class="l"><a class="l" href="#778">778: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="779" class="l"><a class="l" href="#779">779: </a>
</span><span id="780" class="l"><a class="l" href="#780">780: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldRadios&quot;</span>); 
</span><span id="781" class="l"><a class="l" href="#781">781: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Use HTML Purifier?'</span>); 
</span><span id="782" class="l"><a class="l" href="#782">782: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'When yes, submitted content is run through [HTML Purifier](http://htmlpurifier.org/) for sanitization. This is a must have when using CKEditor for either inline mode or non-trusted users. Recommended either way.'</span>); 
</span><span id="783" class="l"><a class="l" href="#783">783: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'usePurifier'</span>); 
</span><span id="784" class="l"><a class="l" href="#784">784: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-num">1</span>, <span class="php-var">$yes</span>);
</span><span id="785" class="l"><a class="l" href="#785">785: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-num">0</span>, <span class="php-var">$no</span>);
</span><span id="786" class="l"><a class="l" href="#786">786: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$this</span>-&gt;usePurifier &amp;&amp; <span class="php-var">$purifierInstalled</span> ? <span class="php-num">1</span> : <span class="php-num">0</span>); 
</span><span id="787" class="l"><a class="l" href="#787">787: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$purifierInstalled</span>) <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'disabled'</span>, <span class="php-quote">'disabled'</span>); 
</span><span id="788" class="l"><a class="l" href="#788">788: </a>        <span class="php-var">$f</span>-&gt;columnWidth = <span class="php-num">50</span>; 
</span><span id="789" class="l"><a class="l" href="#789">789: </a>        <span class="php-var">$f</span>-&gt;optionColumns = <span class="php-num">1</span>;
</span><span id="790" class="l"><a class="l" href="#790">790: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="791" class="l"><a class="l" href="#791">791: </a>    
</span><span id="792" class="l"><a class="l" href="#792">792: </a>        <span class="php-comment">/** @var InputfieldAsmSelect $f */</span>
</span><span id="793" class="l"><a class="l" href="#793">793: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">'InputfieldAsmSelect'</span>); 
</span><span id="794" class="l"><a class="l" href="#794">794: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'imageFields'</span>);
</span><span id="795" class="l"><a class="l" href="#795">795: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Images fields that may be used for dragged-in or pasted-in images'</span>); 
</span><span id="796" class="l"><a class="l" href="#796">796: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'If no fields are selected then an available images field will be automatically chosen at runtime. If the option labeled None is selected, then the feature will be disabled.'</span>); 
</span><span id="797" class="l"><a class="l" href="#797">797: </a>        <span class="php-var">$f</span>-&gt;icon = <span class="php-quote">'picture-o'</span>;
</span><span id="798" class="l"><a class="l" href="#798">798: </a>        <span class="php-var">$imageFields</span> = <span class="php-var">$this</span>-&gt;imageFields;
</span><span id="799" class="l"><a class="l" href="#799">799: </a>        <span class="php-keyword1">if</span>(!<span class="php-keyword2">is_array</span>(<span class="php-var">$imageFields</span>)) <span class="php-var">$imageFields</span> = <span class="php-keyword1">array</span>();
</span><span id="800" class="l"><a class="l" href="#800">800: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">in_array</span>(<span class="php-quote">'x'</span>, <span class="php-var">$imageFields</span>) &amp;&amp; <span class="php-keyword2">count</span>(<span class="php-var">$imageFields</span>) &gt; <span class="php-num">1</span>) <span class="php-var">$imageFields</span> = <span class="php-keyword1">array</span>(<span class="php-quote">'x'</span>);
</span><span id="801" class="l"><a class="l" href="#801">801: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'fields'</span>) <span class="php-keyword1">as</span> <span class="php-var">$field</span>) {
</span><span id="802" class="l"><a class="l" href="#802">802: </a>            <span class="php-keyword1">if</span>(!<span class="php-var">$field</span>-&gt;type <span class="php-keyword1">instanceof</span> FieldtypeImage) <span class="php-keyword1">continue</span>;       
</span><span id="803" class="l"><a class="l" href="#803">803: </a>            <span class="php-keyword1">if</span>((int) <span class="php-var">$field</span>-&gt;maxFiles == <span class="php-num">1</span>) <span class="php-keyword1">continue</span>;
</span><span id="804" class="l"><a class="l" href="#804">804: </a>            <span class="php-var">$f</span>-&gt;addOption(<span class="php-var">$field</span>-&gt;name);
</span><span id="805" class="l"><a class="l" href="#805">805: </a>        }
</span><span id="806" class="l"><a class="l" href="#806">806: </a>        <span class="php-var">$f</span>-&gt;addOption(<span class="php-quote">'x'</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'None (disable drag/paste image uploads)'</span>));
</span><span id="807" class="l"><a class="l" href="#807">807: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$imageFields</span>); 
</span><span id="808" class="l"><a class="l" href="#808">808: </a>        <span class="php-comment">// $f-&gt;columnWidth = 50;</span>
</span><span id="809" class="l"><a class="l" href="#809">809: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="810" class="l"><a class="l" href="#810">810: </a>    
</span><span id="811" class="l"><a class="l" href="#811">811: </a>        <span class="php-comment">/* FUTURE USE
</span></span><span id="812" class="l"><a class="l" href="#812">812: </a><span class="php-comment">        $f = $this-&gt;modules-&gt;get('InputfieldPageListSelect'); 
</span></span><span id="813" class="l"><a class="l" href="#813">813: </a><span class="php-comment">        $f-&gt;attr('name', 'assetPageID'); 
</span></span><span id="814" class="l"><a class="l" href="#814">814: </a><span class="php-comment">        $f-&gt;label = $this-&gt;_('Page to use for image/asset storage');
</span></span><span id="815" class="l"><a class="l" href="#815">815: </a><span class="php-comment">        $f-&gt;description = $this-&gt;_('By default, uploaded images will be stored with the page being edited. If you want to use a shared page for these assets instead, select it here.');
</span></span><span id="816" class="l"><a class="l" href="#816">816: </a><span class="php-comment">        $f-&gt;columnWidth = 50;
</span></span><span id="817" class="l"><a class="l" href="#817">817: </a><span class="php-comment">        $f-&gt;attr('value', (int) $this-&gt;assetPageID); 
</span></span><span id="818" class="l"><a class="l" href="#818">818: </a><span class="php-comment">        $wrapper-&gt;add($f); 
</span></span><span id="819" class="l"><a class="l" href="#819">819: </a><span class="php-comment">        */</span>
</span><span id="820" class="l"><a class="l" href="#820">820: </a>
</span><span id="821" class="l"><a class="l" href="#821">821: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldCheckboxes&quot;</span>); 
</span><span id="822" class="l"><a class="l" href="#822">822: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Beautify Markup Toggles'</span>); 
</span><span id="823" class="l"><a class="l" href="#823">823: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'toggles'</span>); 
</span><span id="824" class="l"><a class="l" href="#824">824: </a>        <span class="php-var">$f</span>-&gt;addOption(self::toggleCleanDIV, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Convert div tags to paragraph tags'</span>)); 
</span><span id="825" class="l"><a class="l" href="#825">825: </a>        <span class="php-var">$f</span>-&gt;addOption(self::toggleCleanP, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Remove empty paragraph tags'</span>)); 
</span><span id="826" class="l"><a class="l" href="#826">826: </a>        <span class="php-var">$f</span>-&gt;addOption(self::toggleCleanNBSP, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Remove non-breaking spaces (nbsp)'</span>)); 
</span><span id="827" class="l"><a class="l" href="#827">827: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'These are extra cleaning options (beyond ACF and HTML Purifier) that we have found helpful in many situations. They are applied when the page is saved. Checking all of these is recommended, unless you have a need to let any of these through in the markup.'</span>); 
</span><span id="828" class="l"><a class="l" href="#828">828: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$this</span>-&gt;toggles); 
</span><span id="829" class="l"><a class="l" href="#829">829: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="830" class="l"><a class="l" href="#830">830: </a>
</span><span id="831" class="l"><a class="l" href="#831">831: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldText&quot;</span>);
</span><span id="832" class="l"><a class="l" href="#832">832: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Format Tags'</span>);
</span><span id="833" class="l"><a class="l" href="#833">833: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Semicolon-separated list of selectable tags shown in the &quot;format&quot; dropdown.'</span>); 
</span><span id="834" class="l"><a class="l" href="#834">834: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Default format tags are:'</span>) . <span class="php-quote">' '</span> . self::FORMAT_TAGS; 
</span><span id="835" class="l"><a class="l" href="#835">835: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'formatTags'</span>);
</span><span id="836" class="l"><a class="l" href="#836">836: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'formatTags'</span>);
</span><span id="837" class="l"><a class="l" href="#837">837: </a>        <span class="php-var">$f</span>-&gt;collapsed = (<span class="php-var">$value</span> == self::FORMAT_TAGS ? Inputfield::collapsedYes : Inputfield::collapsedNo);
</span><span id="838" class="l"><a class="l" href="#838">838: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span>);
</span><span id="839" class="l"><a class="l" href="#839">839: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="840" class="l"><a class="l" href="#840">840: </a>
</span><span id="841" class="l"><a class="l" href="#841">841: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldTextarea&quot;</span>);
</span><span id="842" class="l"><a class="l" href="#842">842: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Extra Allowed Content'</span>);
</span><span id="843" class="l"><a class="l" href="#843">843: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Allowed content rules per CKEditor [extraAllowedContent](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-extraAllowedContent) option. Applies only if the &quot;Use ACF&quot; checkbox above is checked.'</span>); 
</span><span id="844" class="l"><a class="l" href="#844">844: </a>        <span class="php-var">$f</span>-&gt;description .= <span class="php-quote">' '</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'You may enter multiple rules by putting each on its own line.'</span>); 
</span><span id="845" class="l"><a class="l" href="#845">845: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$example</span> . <span class="php-quote">&quot;img[alt,!src,width,height]\n&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'The above example would allow alt, src, width and height attributes for img tags, with the src attribute always required.'</span>) . <span class="php-quote">&quot;\n&quot;</span> . 
</span><span id="846" class="l"><a class="l" href="#846">846: </a>            <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'See [details](http://docs.ckeditor.com/#!/guide/dev_allowed_content_rules-section-2) in CKEditor documentation.'</span>);
</span><span id="847" class="l"><a class="l" href="#847">847: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'extraAllowedContent'</span>);
</span><span id="848" class="l"><a class="l" href="#848">848: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'extraAllowedContent'</span>);
</span><span id="849" class="l"><a class="l" href="#849">849: </a>        <span class="php-var">$f</span>-&gt;collapsed = (<span class="php-var">$value</span> == self::EXTRA_ALLOWED_CONTENT ? Inputfield::collapsedYes : Inputfield::collapsedNo);
</span><span id="850" class="l"><a class="l" href="#850">850: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-keyword2">str_replace</span>(<span class="php-quote">&quot;; &quot;</span>, <span class="php-quote">&quot;\n&quot;</span>, <span class="php-var">$value</span>)); <span class="php-comment">// convert to multi-line for ease of input</span>
</span><span id="851" class="l"><a class="l" href="#851">851: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="852" class="l"><a class="l" href="#852">852: </a>
</span><span id="853" class="l"><a class="l" href="#853">853: </a>        <span class="php-var">$pathNote</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Paths should be relative to your ProcessWire installation root (i.e. if site is running from a subdirectory, exclude that part).'</span>); 
</span><span id="854" class="l"><a class="l" href="#854">854: </a>        <span class="php-var">$descriptionCustomCss</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'This option enables you to modify the way that text and other elements appear in your editor. This covers how they look in the administrative environment only, and has nothing to do with the front-end of your site.'</span>); <span class="php-comment">// contents.css description</span>
</span><span id="855" class="l"><a class="l" href="#855">855: </a>        <span class="php-var">$instructionsCustomCss</span> = <span class="php-keyword2">sprintf</span>(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Please see our [instructions](%s) on how to use this.'</span>), <span class="php-quote">'https://github.com/processwire/processwire/blob/master/wire/modules/Inputfield/InputfieldCKEditor/README.md#custom-editor-css-file'</span>); <span class="php-comment">// custom editor css instructions</span>
</span><span id="856" class="l"><a class="l" href="#856">856: </a>
</span><span id="857" class="l"><a class="l" href="#857">857: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldText&quot;</span>);
</span><span id="858" class="l"><a class="l" href="#858">858: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Custom Editor CSS File (regular mode)'</span>);
</span><span id="859" class="l"><a class="l" href="#859">859: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$descriptionCustomCss</span>; 
</span><span id="860" class="l"><a class="l" href="#860">860: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$example</span> . <span class="php-quote">&quot;/site/modules/InputfieldCKEditor/contents.css\n</span><span class="php-var">$instructionsCustomCss</span><span class="php-quote">  </span><span class="php-var">$pathNote</span><span class="php-quote">&quot;</span>;
</span><span id="861" class="l"><a class="l" href="#861">861: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'contentsCss'</span>);
</span><span id="862" class="l"><a class="l" href="#862">862: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'contentsCss'</span>);
</span><span id="863" class="l"><a class="l" href="#863">863: </a>        <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="864" class="l"><a class="l" href="#864">864: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span>);
</span><span id="865" class="l"><a class="l" href="#865">865: </a>        <span class="php-var">$f</span>-&gt;showIf = <span class="php-quote">&quot;inlineMode&lt;1&quot;</span>;
</span><span id="866" class="l"><a class="l" href="#866">866: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="867" class="l"><a class="l" href="#867">867: </a>
</span><span id="868" class="l"><a class="l" href="#868">868: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldText&quot;</span>);
</span><span id="869" class="l"><a class="l" href="#869">869: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Custom Editor CSS File (inline mode)'</span>);
</span><span id="870" class="l"><a class="l" href="#870">870: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$descriptionCustomCss</span>; 
</span><span id="871" class="l"><a class="l" href="#871">871: </a>        <span class="php-var">$f</span>-&gt;notes .= <span class="php-var">$example</span> . <span class="php-quote">&quot;/site/modules/InputfieldCKEditor/contents-inline.css\n</span><span class="php-var">$instructionsCustomCss</span><span class="php-quote"> </span><span class="php-var">$pathNote</span><span class="php-quote">&quot;</span>; 
</span><span id="872" class="l"><a class="l" href="#872">872: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'contentsInlineCss'</span>);
</span><span id="873" class="l"><a class="l" href="#873">873: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'contentsInlineCss'</span>);
</span><span id="874" class="l"><a class="l" href="#874">874: </a>        <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="875" class="l"><a class="l" href="#875">875: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span>);
</span><span id="876" class="l"><a class="l" href="#876">876: </a>        <span class="php-var">$f</span>-&gt;showIf = <span class="php-quote">'inlineMode=1'</span>;
</span><span id="877" class="l"><a class="l" href="#877">877: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="878" class="l"><a class="l" href="#878">878: </a>
</span><span id="879" class="l"><a class="l" href="#879">879: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldText&quot;</span>);
</span><span id="880" class="l"><a class="l" href="#880">880: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Custom Editor JS Styles Set'</span>);
</span><span id="881" class="l"><a class="l" href="#881">881: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'This option enables you to specify custom styles for selection in your editor. It requires that you have a &quot;Styles&quot; item in your toolbar settings above.'</span>); <span class="php-comment">// styles set description</span>
</span><span id="882" class="l"><a class="l" href="#882">882: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$example</span> . <span class="php-quote">&quot;mystyles:/site/modules/InputfieldCKEditor/mystyles.js&quot;</span>; 
</span><span id="883" class="l"><a class="l" href="#883">883: </a>        <span class="php-var">$f</span>-&gt;notes .= <span class="php-quote">&quot;\n&quot;</span> . 
</span><span id="884" class="l"><a class="l" href="#884">884: </a>            <span class="php-keyword2">sprintf</span>(
</span><span id="885" class="l"><a class="l" href="#885">885: </a>                <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Please see our [instructions](%s) on how to use this.'</span>), <span class="php-comment">// styles set notes</span>
</span><span id="886" class="l"><a class="l" href="#886">886: </a>                <span class="php-quote">'https://github.com/processwire/processwire/blob/master/wire/modules/Inputfield/InputfieldCKEditor/README.md#custom-editor-js-styles-set'</span>
</span><span id="887" class="l"><a class="l" href="#887">887: </a>            ) . <span class="php-quote">' '</span> . <span class="php-var">$pathNote</span>;
</span><span id="888" class="l"><a class="l" href="#888">888: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'stylesSet'</span>);
</span><span id="889" class="l"><a class="l" href="#889">889: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'stylesSet'</span>);
</span><span id="890" class="l"><a class="l" href="#890">890: </a>        <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="891" class="l"><a class="l" href="#891">891: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span>);
</span><span id="892" class="l"><a class="l" href="#892">892: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="893" class="l"><a class="l" href="#893">893: </a>        
</span><span id="894" class="l"><a class="l" href="#894">894: </a>        <span class="php-var">$descriptionJSON</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'If used, enter one per line of **property: value**, or use a JSON string.'</span>); 
</span><span id="895" class="l"><a class="l" href="#895">895: </a>        
</span><span id="896" class="l"><a class="l" href="#896">896: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">'InputfieldTextarea'</span>);
</span><span id="897" class="l"><a class="l" href="#897">897: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">&quot;customOptions&quot;</span>);
</span><span id="898" class="l"><a class="l" href="#898">898: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Custom Config Options'</span>);
</span><span id="899" class="l"><a class="l" href="#899">899: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Use this when you want to specify CKEditor config settings beyond those available on this screen.'</span>) . <span class="php-quote">&quot; </span><span class="php-var">$descriptionJSON</span><span class="php-quote">&quot;</span>;
</span><span id="900" class="l"><a class="l" href="#900">900: </a>        <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="901" class="l"><a class="l" href="#901">901: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">&quot;customOptions&quot;</span>);
</span><span id="902" class="l"><a class="l" href="#902">902: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$value</span>) {
</span><span id="903" class="l"><a class="l" href="#903">903: </a>            <span class="php-var">$test</span> = <span class="php-var">$this</span>-&gt;convertPluginSettingsStr(<span class="php-var">$value</span>, <span class="php-quote">''</span>);
</span><span id="904" class="l"><a class="l" href="#904">904: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$test</span> === <span class="php-keyword1">false</span>) {
</span><span id="905" class="l"><a class="l" href="#905">905: </a>                <span class="php-var">$f</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Custom Config Options failed JSON validation.'</span>));
</span><span id="906" class="l"><a class="l" href="#906">906: </a>            }
</span><span id="907" class="l"><a class="l" href="#907">907: </a>        }
</span><span id="908" class="l"><a class="l" href="#908">908: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span> ? <span class="php-var">$value</span> : <span class="php-quote">''</span>);
</span><span id="909" class="l"><a class="l" href="#909">909: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$example</span> . <span class="php-quote">&quot;uiColor: #438ef0\n&quot;</span> . 
</span><span id="910" class="l"><a class="l" href="#910">910: </a>            <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'If preferred, these settings can also be set in one of these files:'</span>) .
</span><span id="911" class="l"><a class="l" href="#911">911: </a>            <span class="php-quote">&quot;\n[/site/modules/InputfieldCKEditor/config.js](https://github.com/processwire/processwire/blob/master/site-default/modules/InputfieldCKEditor/config.js) - &quot;</span> . 
</span><span id="912" class="l"><a class="l" href="#912">912: </a>            <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'for all CKEditor fields'</span>) . <span class="php-quote">&quot; &quot;</span> .
</span><span id="913" class="l"><a class="l" href="#913">913: </a>            <span class="php-quote">&quot;\n[/site/modules/InputfieldCKEditor/config-</span><span class="php-var">$this</span><span class="php-quote">-&gt;name.js](https://github.com/processwire/processwire/blob/master/site-default/modules/InputfieldCKEditor/config-body.js) - &quot;</span> . 
</span><span id="914" class="l"><a class="l" href="#914">914: </a>            <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'only for this CKEditor field'</span>);
</span><span id="915" class="l"><a class="l" href="#915">915: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="916" class="l"><a class="l" href="#916">916: </a>
</span><span id="917" class="l"><a class="l" href="#917">917: </a>        <span class="php-comment">/** @var InputfieldFieldset $fieldset */</span>
</span><span id="918" class="l"><a class="l" href="#918">918: </a>        <span class="php-var">$fieldset</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">'InputfieldFieldset'</span>);
</span><span id="919" class="l"><a class="l" href="#919">919: </a>        <span class="php-var">$fieldset</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'_plugins_fieldset'</span>); 
</span><span id="920" class="l"><a class="l" href="#920">920: </a>        <span class="php-var">$fieldset</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Plugins'</span>); 
</span><span id="921" class="l"><a class="l" href="#921">921: </a>        <span class="php-var">$wrapper</span>-&gt;add(<span class="php-var">$fieldset</span>); 
</span><span id="922" class="l"><a class="l" href="#922">922: </a>    
</span><span id="923" class="l"><a class="l" href="#923">923: </a>        <span class="php-comment">/** @var InputfieldCheckboxes $f */</span>
</span><span id="924" class="l"><a class="l" href="#924">924: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">'InputfieldCheckboxes'</span>); 
</span><span id="925" class="l"><a class="l" href="#925">925: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'extraPlugins'</span>);
</span><span id="926" class="l"><a class="l" href="#926">926: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Extra Plugins'</span>);
</span><span id="927" class="l"><a class="l" href="#927">927: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'The following plugins were found. Check the box next to each plugin you would like to load.'</span>); 
</span><span id="928" class="l"><a class="l" href="#928">928: </a>        <span class="php-var">$f</span>-&gt;description .= <span class="php-quote">' '</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'At least one plugin must be checked.'</span>);
</span><span id="929" class="l"><a class="l" href="#929">929: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'To add more plugins, place them in **/site/modules/InputfieldCKEditor/plugins/[name]/**, replacing **[name]** with the name of the plugin.'</span>); 
</span><span id="930" class="l"><a class="l" href="#930">930: </a>        <span class="php-var">$plugins</span> = <span class="php-var">$this</span>-&gt;findPlugins(<span class="php-keyword1">true</span>);
</span><span id="931" class="l"><a class="l" href="#931">931: </a>        <span class="php-keyword2">ksort</span>(<span class="php-var">$plugins</span>); 
</span><span id="932" class="l"><a class="l" href="#932">932: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$plugins</span> <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$file</span>) {
</span><span id="933" class="l"><a class="l" href="#933">933: </a>            <span class="php-var">$label</span> = <span class="php-var">$name</span>; 
</span><span id="934" class="l"><a class="l" href="#934">934: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$name</span> == <span class="php-quote">'pwlink'</span> || <span class="php-var">$name</span> == <span class="php-quote">'pwimage'</span>) <span class="php-var">$label</span> .= <span class="php-quote">&quot; (&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'recommended'</span>) . <span class="php-quote">&quot;)&quot;</span>;
</span><span id="935" class="l"><a class="l" href="#935">935: </a>            <span class="php-var">$f</span>-&gt;addOption(<span class="php-var">$name</span>, <span class="php-var">$label</span>); 
</span><span id="936" class="l"><a class="l" href="#936">936: </a>        }
</span><span id="937" class="l"><a class="l" href="#937">937: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$this</span>-&gt;extraPlugins); 
</span><span id="938" class="l"><a class="l" href="#938">938: </a>        <span class="php-var">$fieldset</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="939" class="l"><a class="l" href="#939">939: </a>        
</span><span id="940" class="l"><a class="l" href="#940">940: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$plugins</span> <span class="php-keyword1">as</span> <span class="php-var">$name</span> =&gt; <span class="php-var">$file</span>) {
</span><span id="941" class="l"><a class="l" href="#941">941: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$name</span> == <span class="php-quote">'pwimage'</span> || <span class="php-var">$name</span> == <span class="php-quote">'pwlink'</span>) <span class="php-keyword1">continue</span>;
</span><span id="942" class="l"><a class="l" href="#942">942: </a>            <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">'InputfieldTextarea'</span>);
</span><span id="943" class="l"><a class="l" href="#943">943: </a>            <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">&quot;plugin_</span><span class="php-var">$name</span><span class="php-quote">&quot;</span>); 
</span><span id="944" class="l"><a class="l" href="#944">944: </a>            <span class="php-var">$f</span>-&gt;label = <span class="php-keyword2">sprintf</span>(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'%s settings'</span>), <span class="php-keyword2">ucfirst</span>(<span class="php-var">$name</span>));
</span><span id="945" class="l"><a class="l" href="#945">945: </a>            <span class="php-var">$f</span>-&gt;description = <span class="php-var">$descriptionJSON</span>;
</span><span id="946" class="l"><a class="l" href="#946">946: </a>            <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="947" class="l"><a class="l" href="#947">947: </a>            <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">&quot;plugin_</span><span class="php-var">$name</span><span class="php-quote">&quot;</span>); 
</span><span id="948" class="l"><a class="l" href="#948">948: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$value</span>) {
</span><span id="949" class="l"><a class="l" href="#949">949: </a>                <span class="php-var">$test</span> = <span class="php-var">$this</span>-&gt;convertPluginSettingsStr(<span class="php-var">$value</span>, <span class="php-quote">''</span>); 
</span><span id="950" class="l"><a class="l" href="#950">950: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$test</span> === <span class="php-keyword1">false</span>) {
</span><span id="951" class="l"><a class="l" href="#951">951: </a>                    <span class="php-var">$f</span>-&gt;error(<span class="php-keyword2">sprintf</span>(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Plugin settings for &quot;%s&quot; failed JSON validation.'</span>), <span class="php-var">$name</span>));
</span><span id="952" class="l"><a class="l" href="#952">952: </a>                }
</span><span id="953" class="l"><a class="l" href="#953">953: </a>            }
</span><span id="954" class="l"><a class="l" href="#954">954: </a>            <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span> ? <span class="php-var">$value</span> : <span class="php-quote">''</span>); 
</span><span id="955" class="l"><a class="l" href="#955">955: </a>            <span class="php-var">$fieldset</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="956" class="l"><a class="l" href="#956">956: </a>        }
</span><span id="957" class="l"><a class="l" href="#957">957: </a>
</span><span id="958" class="l"><a class="l" href="#958">958: </a>        <span class="php-comment">/*
</span></span><span id="959" class="l"><a class="l" href="#959">959: </a><span class="php-comment">        $f = $this-&gt;modules-&gt;get(&quot;InputfieldTextarea&quot;);
</span></span><span id="960" class="l"><a class="l" href="#960">960: </a><span class="php-comment">        $f-&gt;label = $this-&gt;_('Extra Plugins');
</span></span><span id="961" class="l"><a class="l" href="#961">961: </a><span class="php-comment">        $f-&gt;description = $this-&gt;_('Comma separated list of extra plugins that CKEditor should load.'); 
</span></span><span id="962" class="l"><a class="l" href="#962">962: </a><span class="php-comment">        $f-&gt;notes = $this-&gt;_('Example: pwlink,pwimage,myplugin,anotherplugin');
</span></span><span id="963" class="l"><a class="l" href="#963">963: </a><span class="php-comment">        $f-&gt;attr('name', 'extraPlugins');
</span></span><span id="964" class="l"><a class="l" href="#964">964: </a><span class="php-comment">        $value = $this-&gt;get('extraPlugins');
</span></span><span id="965" class="l"><a class="l" href="#965">965: </a><span class="php-comment">        $f-&gt;collapsed = ($value == self::EXTRA_PLUGINS ? Inputfield::collapsedYes : Inputfield::collapsedNo);
</span></span><span id="966" class="l"><a class="l" href="#966">966: </a><span class="php-comment">        $f-&gt;attr('value', $value);
</span></span><span id="967" class="l"><a class="l" href="#967">967: </a><span class="php-comment">        $fieldset-&gt;add($f);
</span></span><span id="968" class="l"><a class="l" href="#968">968: </a><span class="php-comment">        */</span>
</span><span id="969" class="l"><a class="l" href="#969">969: </a>        
</span><span id="970" class="l"><a class="l" href="#970">970: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldText&quot;</span>);
</span><span id="971" class="l"><a class="l" href="#971">971: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Remove Plugins'</span>);
</span><span id="972" class="l"><a class="l" href="#972">972: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Comma separated list of removed plugins that CKEditor should not load.'</span>); 
</span><span id="973" class="l"><a class="l" href="#973">973: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$example</span> . <span class="php-quote">'link,image'</span>;
</span><span id="974" class="l"><a class="l" href="#974">974: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'removePlugins'</span>);
</span><span id="975" class="l"><a class="l" href="#975">975: </a>        <span class="php-var">$value</span> = <span class="php-var">$this</span>-&gt;get(<span class="php-quote">'removePlugins'</span>);
</span><span id="976" class="l"><a class="l" href="#976">976: </a>        <span class="php-var">$f</span>-&gt;collapsed = (<span class="php-var">$value</span> == self::REMOVE_PLUGINS ? Inputfield::collapsedYes : Inputfield::collapsedNo);
</span><span id="977" class="l"><a class="l" href="#977">977: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$value</span>);
</span><span id="978" class="l"><a class="l" href="#978">978: </a>        <span class="php-var">$fieldset</span>-&gt;add(<span class="php-var">$f</span>);
</span><span id="979" class="l"><a class="l" href="#979">979: </a>        
</span><span id="980" class="l"><a class="l" href="#980">980: </a>        <span class="php-var">$inputfields</span>-&gt;add(<span class="php-var">$wrapper</span>); 
</span><span id="981" class="l"><a class="l" href="#981">981: </a>        
</span><span id="982" class="l"><a class="l" href="#982">982: </a>        <span class="php-keyword1">return</span> <span class="php-var">$inputfields</span>; 
</span><span id="983" class="l"><a class="l" href="#983">983: </a>    }
</span><span id="984" class="l"><a class="l" href="#984">984: </a>}
</span><span id="985" class="l"><a class="l" href="#985">985: </a></span></code></pre>

	<div id="footer">
		ProcessWire 3 API (dev branch) API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
