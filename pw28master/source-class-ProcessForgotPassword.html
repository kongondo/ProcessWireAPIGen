<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="generator" content="ApiGen 2.8.0">
	<meta name="robots" content="noindex">

	<title>File modules/Process/ProcessForgotPassword.module | ProcessWire 2.8 API (master branch)</title>

	<script type="text/javascript" src="resources/combined.js?2916741786"></script>
	<script type="text/javascript" src="elementlist.js?4284587459"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?2921310712">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview">
			<span>Overview version 2.8.62 master</span>
		</a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li><a href="namespace-Michelf.html">Michelf</a>
						</li>
				<li class="active"><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-AdminTheme.html">AdminTheme</a></li>
				<li><a href="class-AdminThemeDefault.html">AdminThemeDefault</a></li>
				<li><a href="class-AdminThemeDefaultHelpers.html">AdminThemeDefaultHelpers</a></li>
				<li><a href="class-AdminThemeFramework.html">AdminThemeFramework</a></li>
				<li><a href="class-AdminThemeReno.html">AdminThemeReno</a></li>
				<li><a href="class-AdminThemeRenoHelpers.html">AdminThemeRenoHelpers</a></li>
				<li><a href="class-Breadcrumb.html">Breadcrumb</a></li>
				<li><a href="class-Breadcrumbs.html">Breadcrumbs</a></li>
				<li><a href="class-CacheFile.html">CacheFile</a></li>
				<li><a href="class-Comment.html">Comment</a></li>
				<li><a href="class-CommentArray.html">CommentArray</a></li>
				<li><a href="class-CommentFilter.html">CommentFilter</a></li>
				<li><a href="class-CommentFilterAkismet.html">CommentFilterAkismet</a></li>
				<li><a href="class-CommentForm.html">CommentForm</a></li>
				<li><a href="class-CommentList.html">CommentList</a></li>
				<li><a href="class-CommentNotifications.html">CommentNotifications</a></li>
				<li><a href="class-CommentStars.html">CommentStars</a></li>
				<li><a href="class-Config.html">Config</a></li>
				<li><a href="class-Database.html">Database</a></li>
				<li><a href="class-DatabaseMysqli.html">DatabaseMysqli</a></li>
				<li><a href="class-DatabaseQuery.html">DatabaseQuery</a></li>
				<li><a href="class-DatabaseQuerySelect.html">DatabaseQuerySelect</a></li>
				<li><a href="class-DatabaseQuerySelectFulltext.html">DatabaseQuerySelectFulltext</a></li>
				<li><a href="class-DatabaseStopwords.html">DatabaseStopwords</a></li>
				<li><a href="class-Debug.html">Debug</a></li>
				<li><a href="class-Field.html">Field</a></li>
				<li><a href="class-Fieldgroup.html">Fieldgroup</a></li>
				<li><a href="class-Fieldgroups.html">Fieldgroups</a></li>
				<li><a href="class-FieldgroupsArray.html">FieldgroupsArray</a></li>
				<li><a href="class-Fields.html">Fields</a></li>
				<li><a href="class-FieldsArray.html">FieldsArray</a></li>
				<li><a href="class-FieldSelectorInfo.html">FieldSelectorInfo</a></li>
				<li><a href="class-Fieldtype.html">Fieldtype</a></li>
				<li><a href="class-FieldtypeCache.html">FieldtypeCache</a></li>
				<li><a href="class-FieldtypeCheckbox.html">FieldtypeCheckbox</a></li>
				<li><a href="class-FieldtypeComments.html">FieldtypeComments</a></li>
				<li><a href="class-FieldtypeDatetime.html">FieldtypeDatetime</a></li>
				<li><a href="class-FieldtypeEmail.html">FieldtypeEmail</a></li>
				<li><a href="class-FieldtypeFieldsetClose.html">FieldtypeFieldsetClose</a></li>
				<li><a href="class-FieldtypeFieldsetOpen.html">FieldtypeFieldsetOpen</a></li>
				<li><a href="class-FieldtypeFieldsetTabOpen.html">FieldtypeFieldsetTabOpen</a></li>
				<li><a href="class-FieldtypeFile.html">FieldtypeFile</a></li>
				<li><a href="class-FieldtypeFloat.html">FieldtypeFloat</a></li>
				<li><a href="class-FieldtypeImage.html">FieldtypeImage</a></li>
				<li><a href="class-FieldtypeInteger.html">FieldtypeInteger</a></li>
				<li><a href="class-FieldtypeModule.html">FieldtypeModule</a></li>
				<li><a href="class-FieldtypeMulti.html">FieldtypeMulti</a></li>
				<li><a href="class-FieldtypeNotifications.html">FieldtypeNotifications</a></li>
				<li><a href="class-FieldtypeOptions.html">FieldtypeOptions</a></li>
				<li><a href="class-FieldtypePage.html">FieldtypePage</a></li>
				<li><a href="class-FieldtypePageTable.html">FieldtypePageTable</a></li>
				<li><a href="class-FieldtypePageTitle.html">FieldtypePageTitle</a></li>
				<li><a href="class-FieldtypePageTitleLanguage.html">FieldtypePageTitleLanguage</a></li>
				<li><a href="class-FieldtypePassword.html">FieldtypePassword</a></li>
				<li><a href="class-FieldtypeRepeater.html">FieldtypeRepeater</a></li>
				<li><a href="class-FieldtypeRepeaterConfigHelper.html">FieldtypeRepeaterConfigHelper</a></li>
				<li><a href="class-Fieldtypes.html">Fieldtypes</a></li>
				<li><a href="class-FieldtypeSelector.html">FieldtypeSelector</a></li>
				<li><a href="class-FieldtypeText.html">FieldtypeText</a></li>
				<li><a href="class-FieldtypeTextarea.html">FieldtypeTextarea</a></li>
				<li><a href="class-FieldtypeTextareaHelper.html">FieldtypeTextareaHelper</a></li>
				<li><a href="class-FieldtypeTextareaLanguage.html">FieldtypeTextareaLanguage</a></li>
				<li><a href="class-FieldtypeTextLanguage.html">FieldtypeTextLanguage</a></li>
				<li><a href="class-FieldtypeURL.html">FieldtypeURL</a></li>
				<li><a href="class-FileCompiler.html">FileCompiler</a></li>
				<li><a href="class-FileCompilerModule.html">FileCompilerModule</a></li>
				<li><a href="class-FileCompilerTags.html">FileCompilerTags</a></li>
				<li><a href="class-FileLog.html">FileLog</a></li>
				<li><a href="class-FilenameArray.html">FilenameArray</a></li>
				<li><a href="class-FileValidatorModule.html">FileValidatorModule</a></li>
				<li><a href="class-Fuel.html">Fuel</a></li>
				<li><a href="class-HookEvent.html">HookEvent</a></li>
				<li><a href="class-HTML5.html">HTML5</a></li>
				<li><a href="class-HTML5TreeConstructer.html">HTML5TreeConstructer</a></li>
				<li><a href="class-HTMLPurifier.html">HTMLPurifier</a></li>
				<li><a href="class-HTMLPurifier_Arborize.html">HTMLPurifier_Arborize</a></li>
				<li><a href="class-HTMLPurifier_AttrCollections.html">HTMLPurifier_AttrCollections</a></li>
				<li><a href="class-HTMLPurifier_AttrDef.html">HTMLPurifier_AttrDef</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_Clone.html">HTMLPurifier_AttrDef_Clone</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS.html">HTMLPurifier_AttrDef_CSS</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_AlphaValue.html">HTMLPurifier_AttrDef_CSS_AlphaValue</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Background.html">HTMLPurifier_AttrDef_CSS_Background</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_BackgroundPosition.html">HTMLPurifier_AttrDef_CSS_BackgroundPosition</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Border.html">HTMLPurifier_AttrDef_CSS_Border</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Color.html">HTMLPurifier_AttrDef_CSS_Color</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Composite.html">HTMLPurifier_AttrDef_CSS_Composite</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_DenyElementDecorator.html">HTMLPurifier_AttrDef_CSS_DenyElementDecorator</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Filter.html">HTMLPurifier_AttrDef_CSS_Filter</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Font.html">HTMLPurifier_AttrDef_CSS_Font</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_FontFamily.html">HTMLPurifier_AttrDef_CSS_FontFamily</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Ident.html">HTMLPurifier_AttrDef_CSS_Ident</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_ImportantDecorator.html">HTMLPurifier_AttrDef_CSS_ImportantDecorator</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Length.html">HTMLPurifier_AttrDef_CSS_Length</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_ListStyle.html">HTMLPurifier_AttrDef_CSS_ListStyle</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Multiple.html">HTMLPurifier_AttrDef_CSS_Multiple</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Number.html">HTMLPurifier_AttrDef_CSS_Number</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_Percentage.html">HTMLPurifier_AttrDef_CSS_Percentage</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_TextDecoration.html">HTMLPurifier_AttrDef_CSS_TextDecoration</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_CSS_URI.html">HTMLPurifier_AttrDef_CSS_URI</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_Enum.html">HTMLPurifier_AttrDef_Enum</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_Bool.html">HTMLPurifier_AttrDef_HTML_Bool</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_Class.html">HTMLPurifier_AttrDef_HTML_Class</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_Color.html">HTMLPurifier_AttrDef_HTML_Color</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_FrameTarget.html">HTMLPurifier_AttrDef_HTML_FrameTarget</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_ID.html">HTMLPurifier_AttrDef_HTML_ID</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_Length.html">HTMLPurifier_AttrDef_HTML_Length</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_LinkTypes.html">HTMLPurifier_AttrDef_HTML_LinkTypes</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_MultiLength.html">HTMLPurifier_AttrDef_HTML_MultiLength</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_Nmtokens.html">HTMLPurifier_AttrDef_HTML_Nmtokens</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_HTML_Pixels.html">HTMLPurifier_AttrDef_HTML_Pixels</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_Integer.html">HTMLPurifier_AttrDef_Integer</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_Lang.html">HTMLPurifier_AttrDef_Lang</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_Switch.html">HTMLPurifier_AttrDef_Switch</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_Text.html">HTMLPurifier_AttrDef_Text</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_URI.html">HTMLPurifier_AttrDef_URI</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_URI_Email.html">HTMLPurifier_AttrDef_URI_Email</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_URI_Email_SimpleCheck.html">HTMLPurifier_AttrDef_URI_Email_SimpleCheck</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_URI_Host.html">HTMLPurifier_AttrDef_URI_Host</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_URI_IPv4.html">HTMLPurifier_AttrDef_URI_IPv4</a></li>
				<li><a href="class-HTMLPurifier_AttrDef_URI_IPv6.html">HTMLPurifier_AttrDef_URI_IPv6</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform.html">HTMLPurifier_AttrTransform</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Background.html">HTMLPurifier_AttrTransform_Background</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_BdoDir.html">HTMLPurifier_AttrTransform_BdoDir</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_BgColor.html">HTMLPurifier_AttrTransform_BgColor</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_BoolToCSS.html">HTMLPurifier_AttrTransform_BoolToCSS</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Border.html">HTMLPurifier_AttrTransform_Border</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_EnumToCSS.html">HTMLPurifier_AttrTransform_EnumToCSS</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_ImgRequired.html">HTMLPurifier_AttrTransform_ImgRequired</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_ImgSpace.html">HTMLPurifier_AttrTransform_ImgSpace</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Input.html">HTMLPurifier_AttrTransform_Input</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Lang.html">HTMLPurifier_AttrTransform_Lang</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Length.html">HTMLPurifier_AttrTransform_Length</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Name.html">HTMLPurifier_AttrTransform_Name</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_NameSync.html">HTMLPurifier_AttrTransform_NameSync</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Nofollow.html">HTMLPurifier_AttrTransform_Nofollow</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_SafeEmbed.html">HTMLPurifier_AttrTransform_SafeEmbed</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_SafeObject.html">HTMLPurifier_AttrTransform_SafeObject</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_SafeParam.html">HTMLPurifier_AttrTransform_SafeParam</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_ScriptRequired.html">HTMLPurifier_AttrTransform_ScriptRequired</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_TargetBlank.html">HTMLPurifier_AttrTransform_TargetBlank</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_TargetNoopener.html">HTMLPurifier_AttrTransform_TargetNoopener</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_TargetNoreferrer.html">HTMLPurifier_AttrTransform_TargetNoreferrer</a></li>
				<li><a href="class-HTMLPurifier_AttrTransform_Textarea.html">HTMLPurifier_AttrTransform_Textarea</a></li>
				<li><a href="class-HTMLPurifier_AttrTypes.html">HTMLPurifier_AttrTypes</a></li>
				<li><a href="class-HTMLPurifier_AttrValidator.html">HTMLPurifier_AttrValidator</a></li>
				<li><a href="class-HTMLPurifier_Bootstrap.html">HTMLPurifier_Bootstrap</a></li>
				<li><a href="class-HTMLPurifier_ChildDef.html">HTMLPurifier_ChildDef</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_Chameleon.html">HTMLPurifier_ChildDef_Chameleon</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_Custom.html">HTMLPurifier_ChildDef_Custom</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_Empty.html">HTMLPurifier_ChildDef_Empty</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_List.html">HTMLPurifier_ChildDef_List</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_Optional.html">HTMLPurifier_ChildDef_Optional</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_Required.html">HTMLPurifier_ChildDef_Required</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_StrictBlockquote.html">HTMLPurifier_ChildDef_StrictBlockquote</a></li>
				<li><a href="class-HTMLPurifier_ChildDef_Table.html">HTMLPurifier_ChildDef_Table</a></li>
				<li><a href="class-HTMLPurifier_Config.html">HTMLPurifier_Config</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema.html">HTMLPurifier_ConfigSchema</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_Builder_ConfigSchema.html">HTMLPurifier_ConfigSchema_Builder_ConfigSchema</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_Builder_Xml.html">HTMLPurifier_ConfigSchema_Builder_Xml</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_Interchange.html">HTMLPurifier_ConfigSchema_Interchange</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_Interchange_Directive.html">HTMLPurifier_ConfigSchema_Interchange_Directive</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_Interchange_Id.html">HTMLPurifier_ConfigSchema_Interchange_Id</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_InterchangeBuilder.html">HTMLPurifier_ConfigSchema_InterchangeBuilder</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_Validator.html">HTMLPurifier_ConfigSchema_Validator</a></li>
				<li><a href="class-HTMLPurifier_ConfigSchema_ValidatorAtom.html">HTMLPurifier_ConfigSchema_ValidatorAtom</a></li>
				<li><a href="class-HTMLPurifier_ContentSets.html">HTMLPurifier_ContentSets</a></li>
				<li><a href="class-HTMLPurifier_Context.html">HTMLPurifier_Context</a></li>
				<li><a href="class-HTMLPurifier_CSSDefinition.html">HTMLPurifier_CSSDefinition</a></li>
				<li><a href="class-HTMLPurifier_Definition.html">HTMLPurifier_Definition</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCache.html">HTMLPurifier_DefinitionCache</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCache_Decorator.html">HTMLPurifier_DefinitionCache_Decorator</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCache_Decorator_Cleanup.html">HTMLPurifier_DefinitionCache_Decorator_Cleanup</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCache_Decorator_Memory.html">HTMLPurifier_DefinitionCache_Decorator_Memory</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCache_Null.html">HTMLPurifier_DefinitionCache_Null</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCache_Serializer.html">HTMLPurifier_DefinitionCache_Serializer</a></li>
				<li><a href="class-HTMLPurifier_DefinitionCacheFactory.html">HTMLPurifier_DefinitionCacheFactory</a></li>
				<li><a href="class-HTMLPurifier_Doctype.html">HTMLPurifier_Doctype</a></li>
				<li><a href="class-HTMLPurifier_DoctypeRegistry.html">HTMLPurifier_DoctypeRegistry</a></li>
				<li><a href="class-HTMLPurifier_ElementDef.html">HTMLPurifier_ElementDef</a></li>
				<li><a href="class-HTMLPurifier_Encoder.html">HTMLPurifier_Encoder</a></li>
				<li><a href="class-HTMLPurifier_EntityLookup.html">HTMLPurifier_EntityLookup</a></li>
				<li><a href="class-HTMLPurifier_EntityParser.html">HTMLPurifier_EntityParser</a></li>
				<li><a href="class-HTMLPurifier_ErrorCollector.html">HTMLPurifier_ErrorCollector</a></li>
				<li><a href="class-HTMLPurifier_ErrorStruct.html">HTMLPurifier_ErrorStruct</a></li>
				<li><a href="class-HTMLPurifier_Filter.html">HTMLPurifier_Filter</a></li>
				<li><a href="class-HTMLPurifier_Filter_ExtractStyleBlocks.html">HTMLPurifier_Filter_ExtractStyleBlocks</a></li>
				<li><a href="class-HTMLPurifier_Filter_YouTube.html">HTMLPurifier_Filter_YouTube</a></li>
				<li><a href="class-HTMLPurifier_Generator.html">HTMLPurifier_Generator</a></li>
				<li><a href="class-HTMLPurifier_HTMLDefinition.html">HTMLPurifier_HTMLDefinition</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule.html">HTMLPurifier_HTMLModule</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Bdo.html">HTMLPurifier_HTMLModule_Bdo</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_CommonAttributes.html">HTMLPurifier_HTMLModule_CommonAttributes</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Edit.html">HTMLPurifier_HTMLModule_Edit</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Forms.html">HTMLPurifier_HTMLModule_Forms</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Hypertext.html">HTMLPurifier_HTMLModule_Hypertext</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Iframe.html">HTMLPurifier_HTMLModule_Iframe</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Image.html">HTMLPurifier_HTMLModule_Image</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Legacy.html">HTMLPurifier_HTMLModule_Legacy</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_List.html">HTMLPurifier_HTMLModule_List</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Name.html">HTMLPurifier_HTMLModule_Name</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Nofollow.html">HTMLPurifier_HTMLModule_Nofollow</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_NonXMLCommonAttributes.html">HTMLPurifier_HTMLModule_NonXMLCommonAttributes</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Object.html">HTMLPurifier_HTMLModule_Object</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Presentation.html">HTMLPurifier_HTMLModule_Presentation</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Proprietary.html">HTMLPurifier_HTMLModule_Proprietary</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Ruby.html">HTMLPurifier_HTMLModule_Ruby</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_SafeEmbed.html">HTMLPurifier_HTMLModule_SafeEmbed</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_SafeObject.html">HTMLPurifier_HTMLModule_SafeObject</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_SafeScripting.html">HTMLPurifier_HTMLModule_SafeScripting</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Scripting.html">HTMLPurifier_HTMLModule_Scripting</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_StyleAttribute.html">HTMLPurifier_HTMLModule_StyleAttribute</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tables.html">HTMLPurifier_HTMLModule_Tables</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Target.html">HTMLPurifier_HTMLModule_Target</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_TargetBlank.html">HTMLPurifier_HTMLModule_TargetBlank</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_TargetNoopener.html">HTMLPurifier_HTMLModule_TargetNoopener</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_TargetNoreferrer.html">HTMLPurifier_HTMLModule_TargetNoreferrer</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Text.html">HTMLPurifier_HTMLModule_Text</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy.html">HTMLPurifier_HTMLModule_Tidy</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy_Name.html">HTMLPurifier_HTMLModule_Tidy_Name</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy_Proprietary.html">HTMLPurifier_HTMLModule_Tidy_Proprietary</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy_Strict.html">HTMLPurifier_HTMLModule_Tidy_Strict</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy_Transitional.html">HTMLPurifier_HTMLModule_Tidy_Transitional</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy_XHTML.html">HTMLPurifier_HTMLModule_Tidy_XHTML</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_Tidy_XHTMLAndHTML4.html">HTMLPurifier_HTMLModule_Tidy_XHTMLAndHTML4</a></li>
				<li><a href="class-HTMLPurifier_HTMLModule_XMLCommonAttributes.html">HTMLPurifier_HTMLModule_XMLCommonAttributes</a></li>
				<li><a href="class-HTMLPurifier_HTMLModuleManager.html">HTMLPurifier_HTMLModuleManager</a></li>
				<li><a href="class-HTMLPurifier_IDAccumulator.html">HTMLPurifier_IDAccumulator</a></li>
				<li><a href="class-HTMLPurifier_Injector.html">HTMLPurifier_Injector</a></li>
				<li><a href="class-HTMLPurifier_Injector_AutoParagraph.html">HTMLPurifier_Injector_AutoParagraph</a></li>
				<li><a href="class-HTMLPurifier_Injector_DisplayLinkURI.html">HTMLPurifier_Injector_DisplayLinkURI</a></li>
				<li><a href="class-HTMLPurifier_Injector_Linkify.html">HTMLPurifier_Injector_Linkify</a></li>
				<li><a href="class-HTMLPurifier_Injector_PurifierLinkify.html">HTMLPurifier_Injector_PurifierLinkify</a></li>
				<li><a href="class-HTMLPurifier_Injector_RemoveEmpty.html">HTMLPurifier_Injector_RemoveEmpty</a></li>
				<li><a href="class-HTMLPurifier_Injector_RemoveSpansWithoutAttributes.html">HTMLPurifier_Injector_RemoveSpansWithoutAttributes</a></li>
				<li><a href="class-HTMLPurifier_Injector_SafeObject.html">HTMLPurifier_Injector_SafeObject</a></li>
				<li><a href="class-HTMLPurifier_Language.html">HTMLPurifier_Language</a></li>
				<li><a href="class-HTMLPurifier_Language_en_x_test.html">HTMLPurifier_Language_en_x_test</a></li>
				<li><a href="class-HTMLPurifier_LanguageFactory.html">HTMLPurifier_LanguageFactory</a></li>
				<li><a href="class-HTMLPurifier_Length.html">HTMLPurifier_Length</a></li>
				<li><a href="class-HTMLPurifier_Lexer.html">HTMLPurifier_Lexer</a></li>
				<li><a href="class-HTMLPurifier_Lexer_DirectLex.html">HTMLPurifier_Lexer_DirectLex</a></li>
				<li><a href="class-HTMLPurifier_Lexer_DOMLex.html">HTMLPurifier_Lexer_DOMLex</a></li>
				<li><a href="class-HTMLPurifier_Lexer_PH5P.html">HTMLPurifier_Lexer_PH5P</a></li>
				<li><a href="class-HTMLPurifier_Node.html">HTMLPurifier_Node</a></li>
				<li><a href="class-HTMLPurifier_Node_Comment.html">HTMLPurifier_Node_Comment</a></li>
				<li><a href="class-HTMLPurifier_Node_Element.html">HTMLPurifier_Node_Element</a></li>
				<li><a href="class-HTMLPurifier_Node_Text.html">HTMLPurifier_Node_Text</a></li>
				<li><a href="class-HTMLPurifier_PercentEncoder.html">HTMLPurifier_PercentEncoder</a></li>
				<li><a href="class-HTMLPurifier_Printer.html">HTMLPurifier_Printer</a></li>
				<li><a href="class-HTMLPurifier_Printer_ConfigForm.html">HTMLPurifier_Printer_ConfigForm</a></li>
				<li><a href="class-HTMLPurifier_Printer_ConfigForm_bool.html">HTMLPurifier_Printer_ConfigForm_bool</a></li>
				<li><a href="class-HTMLPurifier_Printer_ConfigForm_default.html">HTMLPurifier_Printer_ConfigForm_default</a></li>
				<li><a href="class-HTMLPurifier_Printer_ConfigForm_NullDecorator.html">HTMLPurifier_Printer_ConfigForm_NullDecorator</a></li>
				<li><a href="class-HTMLPurifier_Printer_CSSDefinition.html">HTMLPurifier_Printer_CSSDefinition</a></li>
				<li><a href="class-HTMLPurifier_Printer_HTMLDefinition.html">HTMLPurifier_Printer_HTMLDefinition</a></li>
				<li><a href="class-HTMLPurifier_PropertyList.html">HTMLPurifier_PropertyList</a></li>
				<li><a href="class-HTMLPurifier_PropertyListIterator.html">HTMLPurifier_PropertyListIterator</a></li>
				<li><a href="class-HTMLPurifier_Queue.html">HTMLPurifier_Queue</a></li>
				<li><a href="class-HTMLPurifier_Strategy.html">HTMLPurifier_Strategy</a></li>
				<li><a href="class-HTMLPurifier_Strategy_Composite.html">HTMLPurifier_Strategy_Composite</a></li>
				<li><a href="class-HTMLPurifier_Strategy_Core.html">HTMLPurifier_Strategy_Core</a></li>
				<li><a href="class-HTMLPurifier_Strategy_FixNesting.html">HTMLPurifier_Strategy_FixNesting</a></li>
				<li><a href="class-HTMLPurifier_Strategy_MakeWellFormed.html">HTMLPurifier_Strategy_MakeWellFormed</a></li>
				<li><a href="class-HTMLPurifier_Strategy_RemoveForeignElements.html">HTMLPurifier_Strategy_RemoveForeignElements</a></li>
				<li><a href="class-HTMLPurifier_Strategy_ValidateAttributes.html">HTMLPurifier_Strategy_ValidateAttributes</a></li>
				<li><a href="class-HTMLPurifier_StringHash.html">HTMLPurifier_StringHash</a></li>
				<li><a href="class-HTMLPurifier_StringHashParser.html">HTMLPurifier_StringHashParser</a></li>
				<li><a href="class-HTMLPurifier_TagTransform.html">HTMLPurifier_TagTransform</a></li>
				<li><a href="class-HTMLPurifier_TagTransform_Font.html">HTMLPurifier_TagTransform_Font</a></li>
				<li><a href="class-HTMLPurifier_TagTransform_Simple.html">HTMLPurifier_TagTransform_Simple</a></li>
				<li><a href="class-HTMLPurifier_Token.html">HTMLPurifier_Token</a></li>
				<li><a href="class-HTMLPurifier_Token_Comment.html">HTMLPurifier_Token_Comment</a></li>
				<li><a href="class-HTMLPurifier_Token_Empty.html">HTMLPurifier_Token_Empty</a></li>
				<li><a href="class-HTMLPurifier_Token_End.html">HTMLPurifier_Token_End</a></li>
				<li><a href="class-HTMLPurifier_Token_Start.html">HTMLPurifier_Token_Start</a></li>
				<li><a href="class-HTMLPurifier_Token_Tag.html">HTMLPurifier_Token_Tag</a></li>
				<li><a href="class-HTMLPurifier_Token_Text.html">HTMLPurifier_Token_Text</a></li>
				<li><a href="class-HTMLPurifier_TokenFactory.html">HTMLPurifier_TokenFactory</a></li>
				<li><a href="class-HTMLPurifier_UnitConverter.html">HTMLPurifier_UnitConverter</a></li>
				<li><a href="class-HTMLPurifier_URI.html">HTMLPurifier_URI</a></li>
				<li><a href="class-HTMLPurifier_URIDefinition.html">HTMLPurifier_URIDefinition</a></li>
				<li><a href="class-HTMLPurifier_URIFilter.html">HTMLPurifier_URIFilter</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_DisableExternal.html">HTMLPurifier_URIFilter_DisableExternal</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_DisableExternalResources.html">HTMLPurifier_URIFilter_DisableExternalResources</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_DisableResources.html">HTMLPurifier_URIFilter_DisableResources</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_HostBlacklist.html">HTMLPurifier_URIFilter_HostBlacklist</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_MakeAbsolute.html">HTMLPurifier_URIFilter_MakeAbsolute</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_Munge.html">HTMLPurifier_URIFilter_Munge</a></li>
				<li><a href="class-HTMLPurifier_URIFilter_SafeIframe.html">HTMLPurifier_URIFilter_SafeIframe</a></li>
				<li><a href="class-HTMLPurifier_URIParser.html">HTMLPurifier_URIParser</a></li>
				<li><a href="class-HTMLPurifier_URIScheme.html">HTMLPurifier_URIScheme</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_data.html">HTMLPurifier_URIScheme_data</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_file.html">HTMLPurifier_URIScheme_file</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_ftp.html">HTMLPurifier_URIScheme_ftp</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_http.html">HTMLPurifier_URIScheme_http</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_https.html">HTMLPurifier_URIScheme_https</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_mailto.html">HTMLPurifier_URIScheme_mailto</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_news.html">HTMLPurifier_URIScheme_news</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_nntp.html">HTMLPurifier_URIScheme_nntp</a></li>
				<li><a href="class-HTMLPurifier_URIScheme_tel.html">HTMLPurifier_URIScheme_tel</a></li>
				<li><a href="class-HTMLPurifier_URISchemeRegistry.html">HTMLPurifier_URISchemeRegistry</a></li>
				<li><a href="class-HTMLPurifier_VarParser.html">HTMLPurifier_VarParser</a></li>
				<li><a href="class-HTMLPurifier_VarParser_Flexible.html">HTMLPurifier_VarParser_Flexible</a></li>
				<li><a href="class-HTMLPurifier_VarParser_Native.html">HTMLPurifier_VarParser_Native</a></li>
				<li><a href="class-HTMLPurifier_Zipper.html">HTMLPurifier_Zipper</a></li>
				<li><a href="class-ImageInspector.html">ImageInspector</a></li>
				<li><a href="class-ImageSizer.html">ImageSizer</a></li>
				<li><a href="class-ImageSizerEngine.html">ImageSizerEngine</a></li>
				<li><a href="class-ImageSizerEngineGD.html">ImageSizerEngineGD</a></li>
				<li><a href="class-ImageSizerEngineIMagick.html">ImageSizerEngineIMagick</a></li>
				<li><a href="class-Inputfield.html">Inputfield</a></li>
				<li><a href="class-InputfieldAsmSelect.html">InputfieldAsmSelect</a></li>
				<li><a href="class-InputfieldButton.html">InputfieldButton</a></li>
				<li><a href="class-InputfieldCheckbox.html">InputfieldCheckbox</a></li>
				<li><a href="class-InputfieldCheckboxes.html">InputfieldCheckboxes</a></li>
				<li><a href="class-InputfieldCKEditor.html">InputfieldCKEditor</a></li>
				<li><a href="class-InputfieldCommentsAdmin.html">InputfieldCommentsAdmin</a></li>
				<li><a href="class-InputfieldDatetime.html">InputfieldDatetime</a></li>
				<li><a href="class-InputfieldEmail.html">InputfieldEmail</a></li>
				<li><a href="class-InputfieldFieldset.html">InputfieldFieldset</a></li>
				<li><a href="class-InputfieldFieldsetClose.html">InputfieldFieldsetClose</a></li>
				<li><a href="class-InputfieldFieldsetOpen.html">InputfieldFieldsetOpen</a></li>
				<li><a href="class-InputfieldFieldsetTabOpen.html">InputfieldFieldsetTabOpen</a></li>
				<li><a href="class-InputfieldFile.html">InputfieldFile</a></li>
				<li><a href="class-InputfieldFloat.html">InputfieldFloat</a></li>
				<li><a href="class-InputfieldForm.html">InputfieldForm</a></li>
				<li><a href="class-InputfieldHidden.html">InputfieldHidden</a></li>
				<li><a href="class-InputfieldIcon.html">InputfieldIcon</a></li>
				<li><a href="class-InputfieldImage.html">InputfieldImage</a></li>
				<li><a href="class-InputfieldInteger.html">InputfieldInteger</a></li>
				<li><a href="class-InputfieldMarkup.html">InputfieldMarkup</a></li>
				<li><a href="class-InputfieldName.html">InputfieldName</a></li>
				<li><a href="class-InputfieldPage.html">InputfieldPage</a></li>
				<li><a href="class-InputfieldPageAutocomplete.html">InputfieldPageAutocomplete</a></li>
				<li><a href="class-InputfieldPageListSelect.html">InputfieldPageListSelect</a></li>
				<li><a href="class-InputfieldPageListSelectMultiple.html">InputfieldPageListSelectMultiple</a></li>
				<li><a href="class-InputfieldPageName.html">InputfieldPageName</a></li>
				<li><a href="class-InputfieldPageTable.html">InputfieldPageTable</a></li>
				<li><a href="class-InputfieldPageTableAjax.html">InputfieldPageTableAjax</a></li>
				<li><a href="class-InputfieldPageTitle.html">InputfieldPageTitle</a></li>
				<li><a href="class-InputfieldPassword.html">InputfieldPassword</a></li>
				<li><a href="class-InputfieldRadios.html">InputfieldRadios</a></li>
				<li><a href="class-InputfieldRepeater.html">InputfieldRepeater</a></li>
				<li><a href="class-InputfieldsArray.html">InputfieldsArray</a></li>
				<li><a href="class-InputfieldSelect.html">InputfieldSelect</a></li>
				<li><a href="class-InputfieldSelectMultiple.html">InputfieldSelectMultiple</a></li>
				<li><a href="class-InputfieldSelector.html">InputfieldSelector</a></li>
				<li><a href="class-InputfieldSubmit.html">InputfieldSubmit</a></li>
				<li><a href="class-InputfieldText.html">InputfieldText</a></li>
				<li><a href="class-InputfieldTextarea.html">InputfieldTextarea</a></li>
				<li><a href="class-InputfieldURL.html">InputfieldURL</a></li>
				<li><a href="class-InputfieldWrapper.html">InputfieldWrapper</a></li>
				<li><a href="class-JqueryCore.html">JqueryCore</a></li>
				<li><a href="class-JqueryMagnific.html">JqueryMagnific</a></li>
				<li><a href="class-JqueryTableSorter.html">JqueryTableSorter</a></li>
				<li><a href="class-JqueryUI.html">JqueryUI</a></li>
				<li><a href="class-JqueryWireTabs.html">JqueryWireTabs</a></li>
				<li><a href="class-Language.html">Language</a></li>
				<li><a href="class-LanguageParser.html">LanguageParser</a></li>
				<li><a href="class-Languages.html">Languages</a></li>
				<li><a href="class-LanguagesPageFieldValue.html">LanguagesPageFieldValue</a></li>
				<li><a href="class-LanguageSupport.html">LanguageSupport</a></li>
				<li><a href="class-LanguageSupportFields.html">LanguageSupportFields</a></li>
				<li><a href="class-LanguageSupportInstall.html">LanguageSupportInstall</a></li>
				<li><a href="class-LanguageSupportPageNames.html">LanguageSupportPageNames</a></li>
				<li><a href="class-LanguageTabs.html">LanguageTabs</a></li>
				<li><a href="class-LanguageTranslator.html">LanguageTranslator</a></li>
				<li><a href="class-LazyCron.html">LazyCron</a></li>
				<li><a href="class-LogEntriesArray.html">LogEntriesArray</a></li>
				<li><a href="class-MarkupAdminDataTable.html">MarkupAdminDataTable</a></li>
				<li><a href="class-MarkupCache.html">MarkupCache</a></li>
				<li><a href="class-MarkupFieldtype.html">MarkupFieldtype</a></li>
				<li><a href="class-MarkupHTMLPurifier.html">MarkupHTMLPurifier</a></li>
				<li><a href="class-MarkupPageArray.html">MarkupPageArray</a></li>
				<li><a href="class-MarkupPageFields.html">MarkupPageFields</a></li>
				<li><a href="class-MarkupPagerNav.html">MarkupPagerNav</a></li>
				<li><a href="class-MarkupQA.html">MarkupQA</a></li>
				<li><a href="class-MarkupRSS.html">MarkupRSS</a></li>
				<li><a href="class-ModuleConfig.html">ModuleConfig</a></li>
				<li><a href="class-ModuleJS.html">ModuleJS</a></li>
				<li><a href="class-ModulePlaceholder.html">ModulePlaceholder</a></li>
				<li><a href="class-Modules.html">Modules</a></li>
				<li><a href="class-ModulesDuplicates.html">ModulesDuplicates</a></li>
				<li><a href="class-Notice.html">Notice</a></li>
				<li><a href="class-NoticeError.html">NoticeError</a></li>
				<li><a href="class-NoticeMessage.html">NoticeMessage</a></li>
				<li><a href="class-Notices.html">Notices</a></li>
				<li><a href="class-NoticeWarning.html">NoticeWarning</a></li>
				<li><a href="class-Notification.html">Notification</a></li>
				<li><a href="class-NotificationArray.html">NotificationArray</a></li>
				<li><a href="class-NullField.html">NullField</a></li>
				<li><a href="class-NullPage.html">NullPage</a></li>
				<li><a href="class-Page.html">Page</a></li>
				<li><a href="class-PageAccess.html">PageAccess</a></li>
				<li><a href="class-PageAction.html">PageAction</a></li>
				<li><a href="class-PageArray.html">PageArray</a></li>
				<li><a href="class-PageArrayIterator.html">PageArrayIterator</a></li>
				<li><a href="class-PageBookmarks.html">PageBookmarks</a></li>
				<li><a href="class-PageComparison.html">PageComparison</a></li>
				<li><a href="class-PageExport.html">PageExport</a></li>
				<li><a href="class-Pagefile.html">Pagefile</a></li>
				<li><a href="class-Pagefiles.html">Pagefiles</a></li>
				<li><a href="class-PagefilesManager.html">PagefilesManager</a></li>
				<li><a href="class-PageFinder.html">PageFinder</a></li>
				<li><a href="class-PageFrontEdit.html">PageFrontEdit</a></li>
				<li><a href="class-PageFrontEditConfig.html">PageFrontEditConfig</a></li>
				<li><a href="class-Pageimage.html">Pageimage</a></li>
				<li><a href="class-Pageimages.html">Pageimages</a></li>
				<li><a href="class-PagePathHistory.html">PagePathHistory</a></li>
				<li><a href="class-PagePaths.html">PagePaths</a></li>
				<li><a href="class-PagePermissions.html">PagePermissions</a></li>
				<li><a href="class-PageRender.html">PageRender</a></li>
				<li><a href="class-PagerNav.html">PagerNav</a></li>
				<li><a href="class-PagerNavItem.html">PagerNavItem</a></li>
				<li><a href="class-Pages.html">Pages</a></li>
				<li><a href="class-PagesAccess.html">PagesAccess</a></li>
				<li><a href="class-PagesEditor.html">PagesEditor</a></li>
				<li><a href="class-PagesExportImport.html">PagesExportImport</a></li>
				<li><a href="class-PagesLoader.html">PagesLoader</a></li>
				<li><a href="class-PagesLoaderCache.html">PagesLoaderCache</a></li>
				<li><a href="class-PagesSortfields.html">PagesSortfields</a></li>
				<li><a href="class-PagesTrash.html">PagesTrash</a></li>
				<li><a href="class-PagesType.html">PagesType</a></li>
				<li><a href="class-PageTraversal.html">PageTraversal</a></li>
				<li><a href="class-PaginatedArray.html">PaginatedArray</a></li>
				<li><a href="class-Parsedown.html">Parsedown</a></li>
				<li><a href="class-ParsedownExtra.html">ParsedownExtra</a></li>
				<li><a href="class-Password.html">Password</a></li>
				<li><a href="class-Paths.html">Paths</a></li>
				<li><a href="class-Permission.html">Permission</a></li>
				<li><a href="class-Permissions.html">Permissions</a></li>
				<li><a href="class-Process.html">Process</a></li>
				<li><a href="class-ProcessCommentsManager.html">ProcessCommentsManager</a></li>
				<li><a href="class-ProcessController.html">ProcessController</a></li>
				<li><a href="class-ProcessField.html">ProcessField</a></li>
				<li><a href="class-ProcessFieldExportImport.html">ProcessFieldExportImport</a></li>
				<li class="active"><a href="class-ProcessForgotPassword.html">ProcessForgotPassword</a></li>
				<li><a href="class-ProcessHome.html">ProcessHome</a></li>
				<li><a href="class-ProcessLanguage.html">ProcessLanguage</a></li>
				<li><a href="class-ProcessLanguageTranslator.html">ProcessLanguageTranslator</a></li>
				<li><a href="class-ProcessList.html">ProcessList</a></li>
				<li><a href="class-ProcessLogger.html">ProcessLogger</a></li>
				<li><a href="class-ProcessLogin.html">ProcessLogin</a></li>
				<li><a href="class-ProcessModule.html">ProcessModule</a></li>
				<li><a href="class-ProcessModuleInstall.html">ProcessModuleInstall</a></li>
				<li><a href="class-ProcessPageAdd.html">ProcessPageAdd</a></li>
				<li><a href="class-ProcessPageClone.html">ProcessPageClone</a></li>
				<li><a href="class-ProcessPageEdit.html">ProcessPageEdit</a></li>
				<li><a href="class-ProcessPageEditImageSelect.html">ProcessPageEditImageSelect</a></li>
				<li><a href="class-ProcessPageEditLink.html">ProcessPageEditLink</a></li>
				<li><a href="class-ProcessPageList.html">ProcessPageList</a></li>
				<li><a href="class-ProcessPageListActions.html">ProcessPageListActions</a></li>
				<li><a href="class-ProcessPageLister.html">ProcessPageLister</a></li>
				<li><a href="class-ProcessPageListerBookmarks.html">ProcessPageListerBookmarks</a></li>
				<li><a href="class-ProcessPageListRender.html">ProcessPageListRender</a></li>
				<li><a href="class-ProcessPageListRenderJSON.html">ProcessPageListRenderJSON</a></li>
				<li><a href="class-ProcessPageSearch.html">ProcessPageSearch</a></li>
				<li><a href="class-ProcessPageSort.html">ProcessPageSort</a></li>
				<li><a href="class-ProcessPageTrash.html">ProcessPageTrash</a></li>
				<li><a href="class-ProcessPageType.html">ProcessPageType</a></li>
				<li><a href="class-ProcessPageView.html">ProcessPageView</a></li>
				<li><a href="class-ProcessPermission.html">ProcessPermission</a></li>
				<li><a href="class-ProcessProfile.html">ProcessProfile</a></li>
				<li><a href="class-ProcessRecentPages.html">ProcessRecentPages</a></li>
				<li><a href="class-ProcessRole.html">ProcessRole</a></li>
				<li><a href="class-ProcessSessionDB.html">ProcessSessionDB</a></li>
				<li><a href="class-ProcessTemplate.html">ProcessTemplate</a></li>
				<li><a href="class-ProcessTemplateExportImport.html">ProcessTemplateExportImport</a></li>
				<li><a href="class-ProcessUser.html">ProcessUser</a></li>
				<li><a href="class-ProcessUserConfig.html">ProcessUserConfig</a></li>
				<li><a href="class-ProcessWire.html">ProcessWire</a></li>
				<li><a href="class-Punycode.html">Punycode</a></li>
				<li><a href="class-PWGIF.html">PWGIF</a></li>
				<li><a href="class-PWGIFCOLORTABLE.html">PWGIFCOLORTABLE</a></li>
				<li><a href="class-PWGIFFILEHEADER.html">PWGIFFILEHEADER</a></li>
				<li><a href="class-PWGIFIMAGE.html">PWGIFIMAGE</a></li>
				<li><a href="class-PWGIFIMAGEHEADER.html">PWGIFIMAGEHEADER</a></li>
				<li><a href="class-PWGIFLZW.html">PWGIFLZW</a></li>
				<li><a href="class-PWPNG.html">PWPNG</a></li>
				<li><a href="class-RepeaterPage.html">RepeaterPage</a></li>
				<li><a href="class-RepeaterPageArray.html">RepeaterPageArray</a></li>
				<li><a href="class-Role.html">Role</a></li>
				<li><a href="class-Roles.html">Roles</a></li>
				<li><a href="class-Sanitizer.html">Sanitizer</a></li>
				<li><a href="class-SelectableOption.html">SelectableOption</a></li>
				<li><a href="class-SelectableOptionArray.html">SelectableOptionArray</a></li>
				<li><a href="class-SelectableOptionConfig.html">SelectableOptionConfig</a></li>
				<li><a href="class-SelectableOptionManager.html">SelectableOptionManager</a></li>
				<li><a href="class-Selector.html">Selector</a></li>
				<li><a href="class-SelectorBitwiseAnd.html">SelectorBitwiseAnd</a></li>
				<li><a href="class-SelectorContains.html">SelectorContains</a></li>
				<li><a href="class-SelectorContainsLike.html">SelectorContainsLike</a></li>
				<li><a href="class-SelectorContainsWords.html">SelectorContainsWords</a></li>
				<li><a href="class-SelectorEnds.html">SelectorEnds</a></li>
				<li><a href="class-SelectorEndsLike.html">SelectorEndsLike</a></li>
				<li><a href="class-SelectorEqual.html">SelectorEqual</a></li>
				<li><a href="class-SelectorGreaterThan.html">SelectorGreaterThan</a></li>
				<li><a href="class-SelectorGreaterThanEqual.html">SelectorGreaterThanEqual</a></li>
				<li><a href="class-SelectorLessThan.html">SelectorLessThan</a></li>
				<li><a href="class-SelectorLessThanEqual.html">SelectorLessThanEqual</a></li>
				<li><a href="class-SelectorNotEqual.html">SelectorNotEqual</a></li>
				<li><a href="class-Selectors.html">Selectors</a></li>
				<li><a href="class-SelectorStarts.html">SelectorStarts</a></li>
				<li><a href="class-SelectorStartsLike.html">SelectorStartsLike</a></li>
				<li><a href="class-Session.html">Session</a></li>
				<li><a href="class-SessionCSRF.html">SessionCSRF</a></li>
				<li><a href="class-SessionHandlerDB.html">SessionHandlerDB</a></li>
				<li><a href="class-SessionLoginThrottle.html">SessionLoginThrottle</a></li>
				<li><a href="class-SmartyPants_Parser.html">SmartyPants_Parser</a></li>
				<li><a href="class-SmartyPantsTypographer_Parser.html">SmartyPantsTypographer_Parser</a></li>
				<li><a href="class-SystemNotifications.html">SystemNotifications</a></li>
				<li><a href="class-SystemNotificationsConfig.html">SystemNotificationsConfig</a></li>
				<li><a href="class-SystemUpdate.html">SystemUpdate</a></li>
				<li><a href="class-SystemUpdate1.html">SystemUpdate1</a></li>
				<li><a href="class-SystemUpdate10.html">SystemUpdate10</a></li>
				<li><a href="class-SystemUpdate11.html">SystemUpdate11</a></li>
				<li><a href="class-SystemUpdate12.html">SystemUpdate12</a></li>
				<li><a href="class-SystemUpdate13.html">SystemUpdate13</a></li>
				<li><a href="class-SystemUpdate14.html">SystemUpdate14</a></li>
				<li><a href="class-SystemUpdate15.html">SystemUpdate15</a></li>
				<li><a href="class-SystemUpdate16.html">SystemUpdate16</a></li>
				<li><a href="class-SystemUpdate4.html">SystemUpdate4</a></li>
				<li><a href="class-SystemUpdate5.html">SystemUpdate5</a></li>
				<li><a href="class-SystemUpdate6.html">SystemUpdate6</a></li>
				<li><a href="class-SystemUpdate7.html">SystemUpdate7</a></li>
				<li><a href="class-SystemUpdate9.html">SystemUpdate9</a></li>
				<li><a href="class-SystemUpdater.html">SystemUpdater</a></li>
				<li><a href="class-Template.html">Template</a></li>
				<li><a href="class-TemplateFile.html">TemplateFile</a></li>
				<li><a href="class-Templates.html">Templates</a></li>
				<li><a href="class-TemplatesArray.html">TemplatesArray</a></li>
				<li><a href="class-Textformatter.html">Textformatter</a></li>
				<li><a href="class-TextformatterEntities.html">TextformatterEntities</a></li>
				<li><a href="class-TextformatterMarkdownExtra.html">TextformatterMarkdownExtra</a></li>
				<li><a href="class-TextformatterNewlineBR.html">TextformatterNewlineBR</a></li>
				<li><a href="class-TextformatterNewlineUL.html">TextformatterNewlineUL</a></li>
				<li><a href="class-TextformatterPstripper.html">TextformatterPstripper</a></li>
				<li><a href="class-TextformatterSmartypants.html">TextformatterSmartypants</a></li>
				<li><a href="class-TextformatterStripTags.html">TextformatterStripTags</a></li>
				<li><a href="class-User.html">User</a></li>
				<li><a href="class-Users.html">Users</a></li>
				<li><a href="class-Wire.html">Wire</a></li>
				<li><a href="class-WireAction.html">WireAction</a></li>
				<li><a href="class-WireArray.html">WireArray</a></li>
				<li><a href="class-WireCache.html">WireCache</a></li>
				<li><a href="class-WireClassLoader.html">WireClassLoader</a></li>
				<li><a href="class-WireData.html">WireData</a></li>
				<li><a href="class-WireDatabaseBackup.html">WireDatabaseBackup</a></li>
				<li><a href="class-WireDatabasePDO.html">WireDatabasePDO</a></li>
				<li><a href="class-WireDateTime.html">WireDateTime</a></li>
				<li><a href="class-WireDebugInfo.html">WireDebugInfo</a></li>
				<li><a href="class-WireFileTools.html">WireFileTools</a></li>
				<li><a href="class-WireHooks.html">WireHooks</a></li>
				<li><a href="class-WireHttp.html">WireHttp</a></li>
				<li><a href="class-WireInput.html">WireInput</a></li>
				<li><a href="class-WireInputData.html">WireInputData</a></li>
				<li><a href="class-WireLog.html">WireLog</a></li>
				<li><a href="class-WireMail.html">WireMail</a></li>
				<li><a href="class-WireMailTools.html">WireMailTools</a></li>
				<li><a href="class-WireMarkupRegions.html">WireMarkupRegions</a></li>
				<li><a href="class-WireSaveableItems.html">WireSaveableItems</a></li>
				<li><a href="class-WireSaveableItemsLookup.html">WireSaveableItemsLookup</a></li>
				<li><a href="class-WireSessionHandler.html">WireSessionHandler</a></li>
				<li><a href="class-WireShutdown.html">WireShutdown</a></li>
				<li><a href="class-WireTempDir.html">WireTempDir</a></li>
				<li><a href="class-WireUpload.html">WireUpload</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-_Module.html">_Module</a></li>
				<li><a href="class-CommentFormInterface.html">CommentFormInterface</a></li>
				<li><a href="class-CommentListInterface.html">CommentListInterface</a></li>
				<li><a href="class-ConfigurableModule.html">ConfigurableModule</a></li>
				<li><a href="class-Exportable.html">Exportable</a></li>
				<li><a href="class-FieldtypeLanguageInterface.html">FieldtypeLanguageInterface</a></li>
				<li><a href="class-FieldtypePageTitleCompatible.html">FieldtypePageTitleCompatible</a></li>
				<li><a href="class-HasLookupItems.html">HasLookupItems</a></li>
				<li><a href="class-InputfieldHasArrayValue.html">InputfieldHasArrayValue</a></li>
				<li><a href="class-InputfieldHasSortableValue.html">InputfieldHasSortableValue</a></li>
				<li><a href="class-InputfieldItemList.html">InputfieldItemList</a></li>
				<li><a href="class-InputfieldPageListSelection.html">InputfieldPageListSelection</a></li>
				<li><a href="class-LanguagesValueInterface.html">LanguagesValueInterface</a></li>
				<li><a href="class-Module.html">Module</a></li>
				<li><a href="class-PageFieldValueInterface.html">PageFieldValueInterface</a></li>
				<li><a href="class-Saveable.html">Saveable</a></li>
				<li><a href="class-WireDatabase.html">WireDatabase</a></li>
				<li><a href="class-WireFuelable.html">WireFuelable</a></li>
				<li><a href="class-WireMailInterface.html">WireMailInterface</a></li>
				<li><a href="class-WireMatchable.html">WireMatchable</a></li>
				<li><a href="class-WireNoticeable.html">WireNoticeable</a></li>
				<li><a href="class-WirePageEditor.html">WirePageEditor</a></li>
				<li><a href="class-WirePaginatable.html">WirePaginatable</a></li>
				<li><a href="class-WireProfilerInterface.html">WireProfilerInterface</a></li>
				<li><a href="class-WireTrackable.html">WireTrackable</a></li>
				<li><a href="class-WireTranslatable.html">WireTranslatable</a></li>
			</ul>


			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-HTMLPurifier_ConfigSchema_Exception.html">HTMLPurifier_ConfigSchema_Exception</a></li>
				<li><a href="class-HTMLPurifier_Exception.html">HTMLPurifier_Exception</a></li>
				<li><a href="class-HTMLPurifier_VarParserException.html">HTMLPurifier_VarParserException</a></li>
				<li><a href="class-PageFinderException.html">PageFinderException</a></li>
				<li><a href="class-PageFinderSyntaxException.html">PageFinderSyntaxException</a></li>
				<li><a href="class-ProcessController404Exception.html">ProcessController404Exception</a></li>
				<li><a href="class-ProcessControllerPermissionException.html">ProcessControllerPermissionException</a></li>
				<li><a href="class-Wire404Exception.html">Wire404Exception</a></li>
				<li><a href="class-WireCSRFException.html">WireCSRFException</a></li>
				<li><a href="class-WireDatabaseException.html">WireDatabaseException</a></li>
				<li><a href="class-WireException.html">WireException</a></li>
				<li><a href="class-WirePermissionException.html">WirePermissionException</a></li>
			</ul>


			<h3>Functions</h3>
			<ul>
				<li><a href="function-__.html">__</a></li>
				<li><a href="function-_checkForHttpHostError.html">_checkForHttpHostError</a></li>
				<li><a href="function-_hookSessionRedirectModal.html">_hookSessionRedirectModal</a></li>
				<li><a href="function-_n.html">_n</a></li>
				<li><a href="function-_wireDataAPI.html">_wireDataAPI</a></li>
				<li><a href="function-_wirePagesAPI.html">_wirePagesAPI</a></li>
				<li><a href="function-_x.html">_x</a></li>
				<li><a href="function-cache.html">cache</a></li>
				<li><a href="function-config.html">config</a></li>
				<li><a href="function-database.html">database</a></li>
				<li><a href="function-datetime.html">datetime</a></li>
				<li><a href="function-fields.html">fields</a></li>
				<li><a href="function-files.html">files</a></li>
				<li><a href="function-hookMarkupPagerNavRender.html">hookMarkupPagerNavRender</a></li>
				<li><a href="function-htmlpurifier_filter_extractstyleblocks_muteerrorhandler.html">htmlpurifier_filter_extractstyleblocks_muteerrorhandler</a></li>
				<li><a href="function-input.html">input</a></li>
				<li><a href="function-inputCookie.html">inputCookie</a></li>
				<li><a href="function-InputfieldPageName_saveModuleConfigData.html">InputfieldPageName_saveModuleConfigData</a></li>
				<li><a href="function-inputGet.html">inputGet</a></li>
				<li><a href="function-inputPost.html">inputPost</a></li>
				<li><a href="function-languages.html">languages</a></li>
				<li><a href="function-modules.html">modules</a></li>
				<li><a href="function-page.html">page</a></li>
				<li><a href="function-pages.html">pages</a></li>
				<li><a href="function-paths.html">paths</a></li>
				<li><a href="function-permissions.html">permissions</a></li>
				<li><a href="function-profiler.html">profiler</a></li>
				<li><a href="function-region.html">region</a></li>
				<li><a href="function-roles.html">roles</a></li>
				<li><a href="function-sanitizer.html">sanitizer</a></li>
				<li><a href="function-session.html">session</a></li>
				<li><a href="function-SmartDashes.html">SmartDashes</a></li>
				<li><a href="function-SmartEllipsis.html">SmartEllipsis</a></li>
				<li><a href="function-SmartQuotes.html">SmartQuotes</a></li>
				<li><a href="function-smarty_modifier_smartypants.html">smarty_modifier_smartypants</a></li>
				<li><a href="function-SmartyPants.html">SmartyPants</a></li>
				<li><a href="function-tabIndent.html">tabIndent</a></li>
				<li><a href="function-templates.html">templates</a></li>
				<li><a href="function-urls.html">urls</a></li>
				<li><a href="function-user.html">user</a></li>
				<li><a href="function-users.html">users</a></li>
				<li><a href="function-wire.html">wire</a></li>
				<li><a href="function-wireBytesStr.html">wireBytesStr</a></li>
				<li><a href="function-wireCache.html">wireCache</a></li>
				<li><a href="function-wireChmod.html">wireChmod</a></li>
				<li><a href="function-wireClassExists.html">wireClassExists</a></li>
				<li><a href="function-wireClassImplements.html">wireClassImplements</a></li>
				<li><a href="function-wireClassName.html">wireClassName</a></li>
				<li><a href="function-wireClassParents.html">wireClassParents</a></li>
				<li><a href="function-wireConfig.html">wireConfig</a></li>
				<li><a href="function-wireCopy.html">wireCopy</a></li>
				<li><a href="function-wireDatabase.html">wireDatabase</a></li>
				<li><a href="function-wireDate.html">wireDate</a></li>
				<li><a href="function-wireDatetime.html">wireDatetime</a></li>
				<li><a href="function-wireDecodeJSON.html">wireDecodeJSON</a></li>
				<li><a href="function-wireEncodeJSON.html">wireEncodeJSON</a></li>
				<li><a href="function-wireFields.html">wireFields</a></li>
				<li><a href="function-wireFiles.html">wireFiles</a></li>
				<li><a href="function-wireIconMarkup.html">wireIconMarkup</a></li>
				<li><a href="function-wireIconMarkupFile.html">wireIconMarkupFile</a></li>
				<li><a href="function-wireIncludeFile.html">wireIncludeFile</a></li>
				<li><a href="function-wireInput.html">wireInput</a></li>
				<li><a href="function-wireInputCookie.html">wireInputCookie</a></li>
				<li><a href="function-wireInputGet.html">wireInputGet</a></li>
				<li><a href="function-wireInputPost.html">wireInputPost</a></li>
				<li><a href="function-wireIsCallable.html">wireIsCallable</a></li>
				<li><a href="function-wireLanguages.html">wireLanguages</a></li>
				<li><a href="function-wireLog.html">wireLog</a></li>
				<li><a href="function-wireMail.html">wireMail</a></li>
				<li><a href="function-wireMethodExists.html">wireMethodExists</a></li>
				<li><a href="function-wireMinArray.html">wireMinArray</a></li>
				<li><a href="function-wireMkdir.html">wireMkdir</a></li>
				<li><a href="function-wireModules.html">wireModules</a></li>
				<li><a href="function-wirePage.html">wirePage</a></li>
				<li><a href="function-wirePages.html">wirePages</a></li>
				<li><a href="function-wirePaths.html">wirePaths</a></li>
				<li><a href="function-wirePermissions.html">wirePermissions</a></li>
				<li><a href="function-wirePopulateStringTags.html">wirePopulateStringTags</a></li>
				<li><a href="function-wireProfiler.html">wireProfiler</a></li>
				<li><a href="function-wireRegion.html">wireRegion</a></li>
				<li><a href="function-wireRelativeTimeStr.html">wireRelativeTimeStr</a></li>
				<li><a href="function-wireRenderFile.html">wireRenderFile</a></li>
				<li><a href="function-wireRmdir.html">wireRmdir</a></li>
				<li><a href="function-wireRoles.html">wireRoles</a></li>
				<li><a href="function-wireSanitizer.html">wireSanitizer</a></li>
				<li><a href="function-wireSendFile.html">wireSendFile</a></li>
				<li><a href="function-wireSession.html">wireSession</a></li>
				<li><a href="function-wireTempDir.html">wireTempDir</a></li>
				<li><a href="function-wireTemplates.html">wireTemplates</a></li>
				<li><a href="function-wireUnzipFile.html">wireUnzipFile</a></li>
				<li><a href="function-wireUrls.html">wireUrls</a></li>
				<li><a href="function-wireUser.html">wireUser</a></li>
				<li><a href="function-wireUsers.html">wireUsers</a></li>
				<li><a href="function-wireZipFile.html">wireZipFile</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">	
	<div id="switch">
	<span id="switch_sel">
		<a id="light" href="#" class="themes" title="Light theme"></a>
		<a id="dark" href="#" class="themes" title="Dark theme"></a>
	</span>
	</div>

	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text">
		<input type="submit" value="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-None.html" title="Summary of None"><span>Namespace</span></a>
			</li>
			<li>
				<a href="class-ProcessForgotPassword.html" title="Summary of ProcessForgotPassword"><span>Class</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
			<li>
				<a href="todo.html" title="Todo list"><span>Todo</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<pre><code><span id="1" class="l"><a class="l" href="#1">  1: </a><span class="xlang">&lt;?php</span> 
</span><span id="2" class="l"><a class="l" href="#2">  2: </a>
</span><span id="3" class="l"><a class="l" href="#3">  3: </a><span class="php-comment">/**
</span></span><span id="4" class="l"><a class="l" href="#4">  4: </a><span class="php-comment"> * ProcessWire Forgot Password
</span></span><span id="5" class="l"><a class="l" href="#5">  5: </a><span class="php-comment"> *
</span></span><span id="6" class="l"><a class="l" href="#6">  6: </a><span class="php-comment"> * Provides password reset capability for when users forget their password. 
</span></span><span id="7" class="l"><a class="l" href="#7">  7: </a><span class="php-comment"> * This accompanies the ProcessLogin module. 
</span></span><span id="8" class="l"><a class="l" href="#8">  8: </a><span class="php-comment"> * 
</span></span><span id="9" class="l"><a class="l" href="#9">  9: </a><span class="php-comment"> * For more details about how Process modules work, please see: 
</span></span><span id="10" class="l"><a class="l" href="#10"> 10: </a><span class="php-comment"> * /wire/core/Process.php 
</span></span><span id="11" class="l"><a class="l" href="#11"> 11: </a><span class="php-comment"> * 
</span></span><span id="12" class="l"><a class="l" href="#12"> 12: </a><span class="php-comment"> * ProcessWire 2.8.x, Copyright 2016 by Ryan Cramer
</span></span><span id="13" class="l"><a class="l" href="#13"> 13: </a><span class="php-comment"> * https://processwire.com
</span></span><span id="14" class="l"><a class="l" href="#14"> 14: </a><span class="php-comment"> *
</span></span><span id="15" class="l"><a class="l" href="#15"> 15: </a><span class="php-comment"> *
</span></span><span id="16" class="l"><a class="l" href="#16"> 16: </a><span class="php-comment"> */</span>
</span><span id="17" class="l"><a class="l" href="#17"> 17: </a>
</span><span id="18" class="l"><a class="l" href="#18"> 18: </a><span class="php-keyword1">class</span> <a id="ProcessForgotPassword" href="#ProcessForgotPassword">ProcessForgotPassword</a> <span class="php-keyword1">extends</span> Process <span class="php-keyword1">implements</span> ConfigurableModule {
</span><span id="19" class="l"><a class="l" href="#19"> 19: </a>
</span><span id="20" class="l"><a class="l" href="#20"> 20: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_getModuleInfo" href="#_getModuleInfo">getModuleInfo</a>() {
</span><span id="21" class="l"><a class="l" href="#21"> 21: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(
</span><span id="22" class="l"><a class="l" href="#22"> 22: </a>            <span class="php-quote">'title'</span> =&gt; __(<span class="php-quote">'Forgot Password'</span>, __FILE__), <span class="php-comment">// getModuleInfo title</span>
</span><span id="23" class="l"><a class="l" href="#23"> 23: </a>            <span class="php-quote">'summary'</span> =&gt; __(<span class="php-quote">'Provides password reset/email capability for the Login process.'</span>, __FILE__), <span class="php-comment">// getModuleInfo summary</span>
</span><span id="24" class="l"><a class="l" href="#24"> 24: </a>            <span class="php-quote">'version'</span> =&gt; <span class="php-num">101</span>, 
</span><span id="25" class="l"><a class="l" href="#25"> 25: </a>            <span class="php-quote">'permanent'</span> =&gt; <span class="php-keyword1">false</span>, 
</span><span id="26" class="l"><a class="l" href="#26"> 26: </a>            <span class="php-quote">'permission'</span> =&gt; <span class="php-quote">'page-view'</span>,
</span><span id="27" class="l"><a class="l" href="#27"> 27: </a>            );
</span><span id="28" class="l"><a class="l" href="#28"> 28: </a>    }
</span><span id="29" class="l"><a class="l" href="#29"> 29: </a>
</span><span id="30" class="l"><a class="l" href="#30"> 30: </a>    <span class="php-comment">/**
</span></span><span id="31" class="l"><a class="l" href="#31"> 31: </a><span class="php-comment">     * Setup default values
</span></span><span id="32" class="l"><a class="l" href="#32"> 32: </a><span class="php-comment">     *
</span></span><span id="33" class="l"><a class="l" href="#33"> 33: </a><span class="php-comment">     */</span>
</span><span id="34" class="l"><a class="l" href="#34"> 34: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>() {
</span><span id="35" class="l"><a class="l" href="#35"> 35: </a>        <span class="php-comment">// allow passwords to be reset?</span>
</span><span id="36" class="l"><a class="l" href="#36"> 36: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'allowReset'</span>, <span class="php-num">1</span>); 
</span><span id="37" class="l"><a class="l" href="#37"> 37: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'table'</span>, <span class="php-quote">'process_forgot_password'</span>); 
</span><span id="38" class="l"><a class="l" href="#38"> 38: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'emailFrom'</span>, <span class="php-quote">''</span>); 
</span><span id="39" class="l"><a class="l" href="#39"> 39: </a>    }
</span><span id="40" class="l"><a class="l" href="#40"> 40: </a>
</span><span id="41" class="l"><a class="l" href="#41"> 41: </a>    <span class="php-comment">/**
</span></span><span id="42" class="l"><a class="l" href="#42"> 42: </a><span class="php-comment">     * Check if login posted and attempt login, otherwise render the login form
</span></span><span id="43" class="l"><a class="l" href="#43"> 43: </a><span class="php-comment">     *
</span></span><span id="44" class="l"><a class="l" href="#44"> 44: </a><span class="php-comment">     */</span>
</span><span id="45" class="l"><a class="l" href="#45"> 45: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____execute" href="#____execute">___execute</a>() {
</span><span id="46" class="l"><a class="l" href="#46"> 46: </a>
</span><span id="47" class="l"><a class="l" href="#47"> 47: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;user-&gt;isLoggedin()) <span class="php-keyword1">return</span>;
</span><span id="48" class="l"><a class="l" href="#48"> 48: </a>
</span><span id="49" class="l"><a class="l" href="#49"> 49: </a>        <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'processHeadline'</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Reset Password'</span>)); <span class="php-comment">// Reset password page headline</span>
</span><span id="50" class="l"><a class="l" href="#50"> 50: </a>
</span><span id="51" class="l"><a class="l" href="#51"> 51: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;allowReset) {
</span><span id="52" class="l"><a class="l" href="#52"> 52: </a>            <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Password reset is not allowed&quot;</span>)); 
</span><span id="53" class="l"><a class="l" href="#53"> 53: </a>            <span class="php-keyword1">return</span>;
</span><span id="54" class="l"><a class="l" href="#54"> 54: </a>        }
</span><span id="55" class="l"><a class="l" href="#55"> 55: </a>
</span><span id="56" class="l"><a class="l" href="#56"> 56: </a>        <span class="php-var">$this</span>-&gt;setupResetTable();
</span><span id="57" class="l"><a class="l" href="#57"> 57: </a>
</span><span id="58" class="l"><a class="l" href="#58"> 58: </a>        <span class="php-keyword1">if</span>( <span class="php-var">$this</span>-&gt;input-&gt;post-&gt;username &amp;&amp; 
</span><span id="59" class="l"><a class="l" href="#59"> 59: </a>            <span class="php-var">$this</span>-&gt;input-&gt;post-&gt;submit_forgot &amp;&amp; 
</span><span id="60" class="l"><a class="l" href="#60"> 60: </a>            <span class="php-var">$this</span>-&gt;session-&gt;userResetStep === <span class="php-num">1</span>) {
</span><span id="61" class="l"><a class="l" href="#61"> 61: </a>
</span><span id="62" class="l"><a class="l" href="#62"> 62: </a>            <span class="php-comment">// step 2</span>
</span><span id="63" class="l"><a class="l" href="#63"> 63: </a>
</span><span id="64" class="l"><a class="l" href="#64"> 64: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;step2_processForm();
</span><span id="65" class="l"><a class="l" href="#65"> 65: </a>
</span><span id="66" class="l"><a class="l" href="#66"> 66: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(  
</span><span id="67" class="l"><a class="l" href="#67"> 67: </a>            <span class="php-var">$this</span>-&gt;input-&gt;get-&gt;token &amp;&amp; 
</span><span id="68" class="l"><a class="l" href="#68"> 68: </a>            <span class="php-var">$this</span>-&gt;input-&gt;get-&gt;user_id) {
</span><span id="69" class="l"><a class="l" href="#69"> 69: </a>
</span><span id="70" class="l"><a class="l" href="#70"> 70: </a>            <span class="php-comment">// steps 3 and 4</span>
</span><span id="71" class="l"><a class="l" href="#71"> 71: </a>
</span><span id="72" class="l"><a class="l" href="#72"> 72: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;session-&gt;userResetStep &gt;= <span class="php-num">2</span> &amp;&amp; <span class="php-var">$this</span>-&gt;session-&gt;userResetID === (int) <span class="php-var">$this</span>-&gt;input-&gt;get-&gt;user_id) {
</span><span id="73" class="l"><a class="l" href="#73"> 73: </a>                <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;step3_processEmailClick();
</span><span id="74" class="l"><a class="l" href="#74"> 74: </a>
</span><span id="75" class="l"><a class="l" href="#75"> 75: </a>            } <span class="php-keyword1">else</span> {
</span><span id="76" class="l"><a class="l" href="#76"> 76: </a>                <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Unable to complete password reset. Please make sure you are on the same computer and in the same web browser that you originally submitted your request from.&quot;</span>)); 
</span><span id="77" class="l"><a class="l" href="#77"> 77: </a>                <span class="php-var">$this</span>-&gt;session-&gt;redirect(<span class="php-quote">&quot;./?forgot=1&quot;</span>); 
</span><span id="78" class="l"><a class="l" href="#78"> 78: </a>            }
</span><span id="79" class="l"><a class="l" href="#79"> 79: </a>
</span><span id="80" class="l"><a class="l" href="#80"> 80: </a>        } <span class="php-keyword1">else</span> {
</span><span id="81" class="l"><a class="l" href="#81"> 81: </a>
</span><span id="82" class="l"><a class="l" href="#82"> 82: </a>            <span class="php-comment">// step 1</span>
</span><span id="83" class="l"><a class="l" href="#83"> 83: </a>
</span><span id="84" class="l"><a class="l" href="#84"> 84: </a>            <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;step1_renderForm();
</span><span id="85" class="l"><a class="l" href="#85"> 85: </a>        }
</span><span id="86" class="l"><a class="l" href="#86"> 86: </a>
</span><span id="87" class="l"><a class="l" href="#87"> 87: </a>    }   
</span><span id="88" class="l"><a class="l" href="#88"> 88: </a>
</span><span id="89" class="l"><a class="l" href="#89"> 89: </a>    <span class="php-comment">/**
</span></span><span id="90" class="l"><a class="l" href="#90"> 90: </a><span class="php-comment">     * Render forgot password form
</span></span><span id="91" class="l"><a class="l" href="#91"> 91: </a><span class="php-comment">     *
</span></span><span id="92" class="l"><a class="l" href="#92"> 92: </a><span class="php-comment">     */</span>
</span><span id="93" class="l"><a class="l" href="#93"> 93: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_step1_renderForm" href="#_step1_renderForm">step1_renderForm</a>() {
</span><span id="94" class="l"><a class="l" href="#94"> 94: </a>
</span><span id="95" class="l"><a class="l" href="#95"> 95: </a>        <span class="php-var">$form</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldForm&quot;</span>); 
</span><span id="96" class="l"><a class="l" href="#96"> 96: </a>        <span class="php-var">$form</span>-&gt;attr(<span class="php-quote">'action'</span>, <span class="php-quote">'./?forgot=1'</span>); 
</span><span id="97" class="l"><a class="l" href="#97"> 97: </a>        <span class="php-var">$form</span>-&gt;attr(<span class="php-quote">'method'</span>, <span class="php-quote">'post'</span>);
</span><span id="98" class="l"><a class="l" href="#98"> 98: </a>    
</span><span id="99" class="l"><a class="l" href="#99"> 99: </a>        <span class="php-var">$field</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldText&quot;</span>);     
</span><span id="100" class="l"><a class="l" href="#100">100: </a>        <span class="php-var">$field</span>-&gt;attr(<span class="php-quote">'id+name'</span>, <span class="php-quote">'username'</span>);
</span><span id="101" class="l"><a class="l" href="#101">101: </a>        <span class="php-var">$field</span>-&gt;required = <span class="php-keyword1">true</span>; 
</span><span id="102" class="l"><a class="l" href="#102">102: </a>        <span class="php-var">$field</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Enter your user name&quot;</span>);
</span><span id="103" class="l"><a class="l" href="#103">103: </a>        <span class="php-var">$field</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;If you have an account in our system with a valid email address on file, an email will be sent to you after you submit this form. That email will contain a link that you may click on to reset your password.&quot;</span>);
</span><span id="104" class="l"><a class="l" href="#104">104: </a>        <span class="php-var">$form</span>-&gt;add(<span class="php-var">$field</span>);
</span><span id="105" class="l"><a class="l" href="#105">105: </a>    
</span><span id="106" class="l"><a class="l" href="#106">106: </a>        <span class="php-comment">/*
</span></span><span id="107" class="l"><a class="l" href="#107">107: </a><span class="php-comment">        $field = $this-&gt;modules-&gt;get(&quot;InputfieldEmail&quot;);
</span></span><span id="108" class="l"><a class="l" href="#108">108: </a><span class="php-comment">        $field-&gt;attr('id+name', 'useremail');
</span></span><span id="109" class="l"><a class="l" href="#109">109: </a><span class="php-comment">        $field-&gt;label = $this-&gt;_('Forgot your username?'); 
</span></span><span id="110" class="l"><a class="l" href="#110">110: </a><span class="php-comment">        $field-&gt;collapsed = Inputfield::collapsedYes; 
</span></span><span id="111" class="l"><a class="l" href="#111">111: </a><span class="php-comment">        $field-&gt;description = $this-&gt;_('Enter your email address and we will send you your account name.');
</span></span><span id="112" class="l"><a class="l" href="#112">112: </a><span class="php-comment">        $form-&gt;add($field); 
</span></span><span id="113" class="l"><a class="l" href="#113">113: </a><span class="php-comment">        */</span>
</span><span id="114" class="l"><a class="l" href="#114">114: </a>
</span><span id="115" class="l"><a class="l" href="#115">115: </a>        <span class="php-var">$submit</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldSubmit&quot;</span>); 
</span><span id="116" class="l"><a class="l" href="#116">116: </a>        <span class="php-var">$submit</span>-&gt;attr(<span class="php-quote">'id+name'</span>, <span class="php-quote">'submit_forgot'</span>); 
</span><span id="117" class="l"><a class="l" href="#117">117: </a>        <span class="php-var">$form</span>-&gt;add(<span class="php-var">$submit</span>);
</span><span id="118" class="l"><a class="l" href="#118">118: </a>
</span><span id="119" class="l"><a class="l" href="#119">119: </a>        <span class="php-var">$this</span>-&gt;session-&gt;userResetStep = <span class="php-num">1</span>; 
</span><span id="120" class="l"><a class="l" href="#120">120: </a>
</span><span id="121" class="l"><a class="l" href="#121">121: </a>        <span class="php-keyword1">return</span> <span class="php-var">$form</span>-&gt;render();
</span><span id="122" class="l"><a class="l" href="#122">122: </a>    }
</span><span id="123" class="l"><a class="l" href="#123">123: </a>
</span><span id="124" class="l"><a class="l" href="#124">124: </a>    <span class="php-comment">/**
</span></span><span id="125" class="l"><a class="l" href="#125">125: </a><span class="php-comment">     * Process the form submitted from step1 with username or email
</span></span><span id="126" class="l"><a class="l" href="#126">126: </a><span class="php-comment">     *
</span></span><span id="127" class="l"><a class="l" href="#127">127: </a><span class="php-comment">     * If it matches up to an account in the system, then send them an email.
</span></span><span id="128" class="l"><a class="l" href="#128">128: </a><span class="php-comment">     *
</span></span><span id="129" class="l"><a class="l" href="#129">129: </a><span class="php-comment">     */</span>
</span><span id="130" class="l"><a class="l" href="#130">130: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_step2_processForm" href="#_step2_processForm">step2_processForm</a>() {
</span><span id="131" class="l"><a class="l" href="#131">131: </a>        
</span><span id="132" class="l"><a class="l" href="#132">132: </a>        <span class="php-var">$user</span> = <span class="php-keyword1">null</span>;
</span><span id="133" class="l"><a class="l" href="#133">133: </a>        <span class="php-var">$name</span> = <span class="php-var">$this</span>-&gt;sanitizer-&gt;pageNameUTF8(<span class="php-var">$this</span>-&gt;input-&gt;post-&gt;username);
</span><span id="134" class="l"><a class="l" href="#134">134: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strlen</span>(<span class="php-var">$name</span>)) {
</span><span id="135" class="l"><a class="l" href="#135">135: </a>            <span class="php-var">$user</span> = <span class="php-var">$this</span>-&gt;users-&gt;get(<span class="php-quote">&quot;name=&quot;</span> . <span class="php-var">$this</span>-&gt;sanitizer-&gt;selectorValue(<span class="php-var">$name</span>));
</span><span id="136" class="l"><a class="l" href="#136">136: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$user</span> &amp;&amp; <span class="php-var">$user</span>-&gt;id &amp;&amp; <span class="php-var">$user</span>-&gt;email &amp;&amp; !<span class="php-var">$user</span>-&gt;isUnpublished()) {
</span><span id="137" class="l"><a class="l" href="#137">137: </a>                <span class="php-comment">// user was found, send them an email with reset link</span>
</span><span id="138" class="l"><a class="l" href="#138">138: </a>                <span class="php-var">$this</span>-&gt;step2_sendEmail(<span class="php-var">$user</span>);
</span><span id="139" class="l"><a class="l" href="#139">139: </a>            }
</span><span id="140" class="l"><a class="l" href="#140">140: </a>        }
</span><span id="141" class="l"><a class="l" href="#141">141: </a>
</span><span id="142" class="l"><a class="l" href="#142">142: </a>        <span class="php-var">$out</span> =  
</span><span id="143" class="l"><a class="l" href="#143">143: </a>            <span class="php-quote">&quot;&lt;h2&gt;&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Assuming your account information was found and we have an email address on file, an email was dispatched with password reset information.&quot;</span>) . <span class="php-quote">&quot;*&lt;/h2&gt;&quot;</span> .
</span><span id="144" class="l"><a class="l" href="#144">144: </a>            <span class="php-quote">&quot;&lt;p&gt;&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Please check your email for this message. If you do not receive an email within the next 15 minutes please contact the site administrator to reset your password. This password reset request will expire in 60 minutes.  Do NOT close this window until you have completed your password reset request.&quot;</span>) . <span class="php-quote">&quot;&lt;/p&gt;&quot;</span> .
</span><span id="145" class="l"><a class="l" href="#145">145: </a>            <span class="php-quote">&quot;&lt;p class='detail'&gt;*&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'For security reasons, we do not reveal whether an account exists on this screen.'</span>) . <span class="php-quote">&quot;&lt;/p&gt;&quot;</span>;
</span><span id="146" class="l"><a class="l" href="#146">146: </a>
</span><span id="147" class="l"><a class="l" href="#147">147: </a>        <span class="php-comment">/*
</span></span><span id="148" class="l"><a class="l" href="#148">148: </a><span class="php-comment">        $email = $this-&gt;sanitizer-&gt;email($this-&gt;input-&gt;post-&gt;useremail); 
</span></span><span id="149" class="l"><a class="l" href="#149">149: </a><span class="php-comment">        if(strlen($email)) {
</span></span><span id="150" class="l"><a class="l" href="#150">150: </a><span class="php-comment">            $users = $this-&gt;users-&gt;find(&quot;include=all, email=&quot; . strtolower($this-&gt;sanitizer-&gt;selectorValue($email)));
</span></span><span id="151" class="l"><a class="l" href="#151">151: </a><span class="php-comment">            $subject = $this-&gt;_('Account Information');
</span></span><span id="152" class="l"><a class="l" href="#152">152: </a><span class="php-comment">            $body = $this-&gt;_('You are receiving this email because you requested your account name.') . ' ';
</span></span><span id="153" class="l"><a class="l" href="#153">153: </a><span class="php-comment">            if(count($users) &gt; 1) {
</span></span><span id="154" class="l"><a class="l" href="#154">154: </a><span class="php-comment">                $body .= $this-&gt;_('Your email address appears to be associated with multiple accounts and we cannot reveal those for security reasons. Please contact the administrator for assistance.'); 
</span></span><span id="155" class="l"><a class="l" href="#155">155: </a><span class="php-comment">            } else {
</span></span><span id="156" class="l"><a class="l" href="#156">156: </a><span class="php-comment">                $user = $users-&gt;first();
</span></span><span id="157" class="l"><a class="l" href="#157">157: </a><span class="php-comment">                if($user &amp;&amp; strtolower($user-&gt;email) === $email) {
</span></span><span id="158" class="l"><a class="l" href="#158">158: </a><span class="php-comment">                    $body .= $this-&gt;_('Your account name is:') . ' ' . $user-&gt;name; 
</span></span><span id="159" class="l"><a class="l" href="#159">159: </a><span class="php-comment">                }
</span></span><span id="160" class="l"><a class="l" href="#160">160: </a><span class="php-comment">            }
</span></span><span id="161" class="l"><a class="l" href="#161">161: </a><span class="php-comment">            
</span></span><span id="162" class="l"><a class="l" href="#162">162: </a><span class="php-comment">        } 
</span></span><span id="163" class="l"><a class="l" href="#163">163: </a><span class="php-comment">        */</span>
</span><span id="164" class="l"><a class="l" href="#164">164: </a>
</span><span id="165" class="l"><a class="l" href="#165">165: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="166" class="l"><a class="l" href="#166">166: </a>    }
</span><span id="167" class="l"><a class="l" href="#167">167: </a>
</span><span id="168" class="l"><a class="l" href="#168">168: </a>    <span class="php-comment">/**
</span></span><span id="169" class="l"><a class="l" href="#169">169: </a><span class="php-comment">     * Send an email with password reset link to the given User account
</span></span><span id="170" class="l"><a class="l" href="#170">170: </a><span class="php-comment">     *
</span></span><span id="171" class="l"><a class="l" href="#171">171: </a><span class="php-comment">     */</span>
</span><span id="172" class="l"><a class="l" href="#172">172: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_step2_sendEmail" href="#_step2_sendEmail">step2_sendEmail</a>(User <span class="php-var">$user</span>) {
</span><span id="173" class="l"><a class="l" href="#173">173: </a>
</span><span id="174" class="l"><a class="l" href="#174">174: </a>        <span class="php-var">$subject</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Password Reset Information&quot;</span>); <span class="php-comment">// Email subject</span>
</span><span id="175" class="l"><a class="l" href="#175">175: </a>
</span><span id="176" class="l"><a class="l" href="#176">176: </a>        <span class="php-comment">// create the unique verification token that is stored on the server and sent in the email</span>
</span><span id="177" class="l"><a class="l" href="#177">177: </a>        <span class="php-var">$token</span> = <span class="php-keyword2">md5</span>(<span class="php-keyword2">mt_rand</span>() . <span class="php-var">$user</span>-&gt;name . <span class="php-var">$user</span>-&gt;id . <span class="php-keyword2">microtime</span>() . <span class="php-keyword2">mt_rand</span>()); 
</span><span id="178" class="l"><a class="l" href="#178">178: </a>
</span><span id="179" class="l"><a class="l" href="#179">179: </a>        <span class="php-comment">// set some session vars we'll use for comparison</span>
</span><span id="180" class="l"><a class="l" href="#180">180: </a>        <span class="php-var">$this</span>-&gt;session-&gt;userResetStep = <span class="php-num">2</span>; 
</span><span id="181" class="l"><a class="l" href="#181">181: </a>        <span class="php-var">$this</span>-&gt;session-&gt;userResetID = <span class="php-var">$user</span>-&gt;id; 
</span><span id="182" class="l"><a class="l" href="#182">182: </a>        <span class="php-var">$this</span>-&gt;session-&gt;userResetName = <span class="php-var">$user</span>-&gt;name;
</span><span id="183" class="l"><a class="l" href="#183">183: </a>
</span><span id="184" class="l"><a class="l" href="#184">184: </a>        <span class="php-var">$url</span> = <span class="php-var">$this</span>-&gt;page-&gt;httpUrl() . <span class="php-quote">&quot;?forgot=1&amp;user_id=</span><span class="php-var">{$user-&gt;id}</span><span class="php-quote">&amp;token=&quot;</span> . <span class="php-keyword2">urlencode</span>(<span class="php-var">$token</span>);
</span><span id="185" class="l"><a class="l" href="#185">185: </a>
</span><span id="186" class="l"><a class="l" href="#186">186: </a>        <span class="php-var">$body</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;To complete your password reset, click the URL below (or paste into your browser) and follow the instructions:&quot;</span>) . <span class="php-quote">&quot;\n\n&quot;</span>; <span class="php-comment">// Email body part 1</span>
</span><span id="187" class="l"><a class="l" href="#187">187: </a>        <span class="php-var">$body</span> .= <span class="php-var">$url</span> . <span class="php-quote">&quot;\n\n&quot;</span>;
</span><span id="188" class="l"><a class="l" href="#188">188: </a>        <span class="php-var">$body</span> .= <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;This URL will expire 60 minutes from time it was sent. This URL must be opened from the same computer and browser that the request was initiated from.&quot;</span>); <span class="php-comment">// Email body part 2</span>
</span><span id="189" class="l"><a class="l" href="#189">189: </a>        
</span><span id="190" class="l"><a class="l" href="#190">190: </a>        <span class="php-var">$emailFrom</span> = <span class="php-var">$this</span>-&gt;emailFrom;  
</span><span id="191" class="l"><a class="l" href="#191">191: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$emailFrom</span>) <span class="php-var">$emailFrom</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>)-&gt;adminEmail;
</span><span id="192" class="l"><a class="l" href="#192">192: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$emailFrom</span>) <span class="php-var">$emailFrom</span> = <span class="php-quote">'processwire@'</span> . <span class="php-var">$this</span>-&gt;config-&gt;httpHost;
</span><span id="193" class="l"><a class="l" href="#193">193: </a>
</span><span id="194" class="l"><a class="l" href="#194">194: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'mail'</span>)-&gt;send(<span class="php-var">$user</span>-&gt;email, <span class="php-var">$emailFrom</span>, <span class="php-var">$subject</span>, <span class="php-var">$body</span>)) {
</span><span id="195" class="l"><a class="l" href="#195">195: </a>
</span><span id="196" class="l"><a class="l" href="#196">196: </a>            <span class="php-comment">// for informational/debugging purposes</span>
</span><span id="197" class="l"><a class="l" href="#197">197: </a>            <span class="php-var">$ip</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/[^\d.]/'</span>, <span class="php-quote">''</span>, <span class="php-var">$_SERVER</span>[<span class="php-quote">'REMOTE_ADDR'</span>]);
</span><span id="198" class="l"><a class="l" href="#198">198: </a>
</span><span id="199" class="l"><a class="l" href="#199">199: </a>            <span class="php-comment">// clear space for this reset request, since there can only be one active for any given user</span>
</span><span id="200" class="l"><a class="l" href="#200">200: </a>            <span class="php-var">$database</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'database'</span>);
</span><span id="201" class="l"><a class="l" href="#201">201: </a>            <span class="php-var">$table</span> = <span class="php-var">$database</span>-&gt;escapeTable(<span class="php-var">$this</span>-&gt;table); 
</span><span id="202" class="l"><a class="l" href="#202">202: </a>            
</span><span id="203" class="l"><a class="l" href="#203">203: </a>            <span class="php-keyword1">try</span> {
</span><span id="204" class="l"><a class="l" href="#204">204: </a>                
</span><span id="205" class="l"><a class="l" href="#205">205: </a>                <span class="php-var">$query</span> = <span class="php-var">$database</span>-&gt;prepare(<span class="php-quote">&quot;DELETE FROM `</span><span class="php-var">{$table}</span><span class="php-quote">` WHERE id=:id&quot;</span>); 
</span><span id="206" class="l"><a class="l" href="#206">206: </a>                <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:id&quot;</span>, (int) <span class="php-var">$user</span>-&gt;id, \PDO::PARAM_INT);
</span><span id="207" class="l"><a class="l" href="#207">207: </a>                <span class="php-var">$query</span>-&gt;execute();
</span><span id="208" class="l"><a class="l" href="#208">208: </a>                
</span><span id="209" class="l"><a class="l" href="#209">209: </a>                <span class="php-var">$query</span> = <span class="php-var">$database</span>-&gt;prepare(<span class="php-quote">&quot;INSERT INTO `</span><span class="php-var">{$table}</span><span class="php-quote">` SET id=:id, name=:name, token=:token, ts=:ts, ip=:ip&quot;</span>); 
</span><span id="210" class="l"><a class="l" href="#210">210: </a>                <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:id&quot;</span>, <span class="php-var">$user</span>-&gt;id, \PDO::PARAM_INT);
</span><span id="211" class="l"><a class="l" href="#211">211: </a>                <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:name&quot;</span>, <span class="php-var">$user</span>-&gt;name); 
</span><span id="212" class="l"><a class="l" href="#212">212: </a>                <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:token&quot;</span>, <span class="php-var">$token</span>); 
</span><span id="213" class="l"><a class="l" href="#213">213: </a>                <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:ts&quot;</span>, <span class="php-keyword2">time</span>(), \PDO::PARAM_INT);
</span><span id="214" class="l"><a class="l" href="#214">214: </a>                <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:ip&quot;</span>, <span class="php-var">$ip</span>);
</span><span id="215" class="l"><a class="l" href="#215">215: </a>                <span class="php-var">$query</span>-&gt;execute();
</span><span id="216" class="l"><a class="l" href="#216">216: </a>                    
</span><span id="217" class="l"><a class="l" href="#217">217: </a>            } <span class="php-keyword1">catch</span>(\Exception <span class="php-var">$e</span>) {
</span><span id="218" class="l"><a class="l" href="#218">218: </a>                <span class="php-comment">// catch any errors, just to prevent anything from ever being reported to screen</span>
</span><span id="219" class="l"><a class="l" href="#219">219: </a>                <span class="php-var">$this</span>-&gt;session-&gt;clearErrors();
</span><span id="220" class="l"><a class="l" href="#220">220: </a>                <span class="php-var">$this</span>-&gt;error(<span class="php-quote">&quot;Unable to complete this step&quot;</span>); 
</span><span id="221" class="l"><a class="l" href="#221">221: </a>                <span class="php-keyword1">return</span>;
</span><span id="222" class="l"><a class="l" href="#222">222: </a>            }
</span><span id="223" class="l"><a class="l" href="#223">223: </a>        }
</span><span id="224" class="l"><a class="l" href="#224">224: </a>    }
</span><span id="225" class="l"><a class="l" href="#225">225: </a>
</span><span id="226" class="l"><a class="l" href="#226">226: </a>    <span class="php-comment">/**
</span></span><span id="227" class="l"><a class="l" href="#227">227: </a><span class="php-comment">     * User clicked URL from their email
</span></span><span id="228" class="l"><a class="l" href="#228">228: </a><span class="php-comment">     *
</span></span><span id="229" class="l"><a class="l" href="#229">229: </a><span class="php-comment">     * If valid, display form with new password entries. 
</span></span><span id="230" class="l"><a class="l" href="#230">230: </a><span class="php-comment">     *
</span></span><span id="231" class="l"><a class="l" href="#231">231: </a><span class="php-comment">     * If form submitted, send to step 4. 
</span></span><span id="232" class="l"><a class="l" href="#232">232: </a><span class="php-comment">     *
</span></span><span id="233" class="l"><a class="l" href="#233">233: </a><span class="php-comment">     */</span>
</span><span id="234" class="l"><a class="l" href="#234">234: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_step3_processEmailClick" href="#_step3_processEmailClick">step3_processEmailClick</a>() {
</span><span id="235" class="l"><a class="l" href="#235">235: </a>
</span><span id="236" class="l"><a class="l" href="#236">236: </a>        <span class="php-var">$id</span> = (int) <span class="php-var">$this</span>-&gt;input-&gt;get-&gt;user_id;
</span><span id="237" class="l"><a class="l" href="#237">237: </a>        <span class="php-var">$token</span> = <span class="php-var">$this</span>-&gt;input-&gt;get-&gt;token; 
</span><span id="238" class="l"><a class="l" href="#238">238: </a>        <span class="php-var">$database</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'database'</span>);
</span><span id="239" class="l"><a class="l" href="#239">239: </a>        <span class="php-var">$table</span> = <span class="php-var">$database</span>-&gt;escapeTable(<span class="php-var">$this</span>-&gt;table);
</span><span id="240" class="l"><a class="l" href="#240">240: </a>        
</span><span id="241" class="l"><a class="l" href="#241">241: </a>        <span class="php-var">$query</span> = <span class="php-var">$database</span>-&gt;prepare(<span class="php-quote">&quot;SELECT name, token, ip FROM `</span><span class="php-var">$table</span><span class="php-quote">` WHERE id=:id&quot;</span>);
</span><span id="242" class="l"><a class="l" href="#242">242: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:id&quot;</span>, <span class="php-var">$id</span>);
</span><span id="243" class="l"><a class="l" href="#243">243: </a>        <span class="php-var">$query</span>-&gt;execute();
</span><span id="244" class="l"><a class="l" href="#244">244: </a>        <span class="php-var">$row</span> = <span class="php-var">$query</span>-&gt;fetch(\PDO::FETCH_ASSOC);    
</span><span id="245" class="l"><a class="l" href="#245">245: </a>        
</span><span id="246" class="l"><a class="l" href="#246">246: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$row</span> &amp;&amp; <span class="php-var">$id</span> == <span class="php-var">$this</span>-&gt;session-&gt;userResetID) { 
</span><span id="247" class="l"><a class="l" href="#247">247: </a>
</span><span id="248" class="l"><a class="l" href="#248">248: </a>            <span class="php-keyword1">if</span>( <span class="php-var">$row</span>[<span class="php-quote">'token'</span>] &amp;&amp; (<span class="php-var">$row</span>[<span class="php-quote">'token'</span>] === <span class="php-var">$token</span>) &amp;&amp; 
</span><span id="249" class="l"><a class="l" href="#249">249: </a>                <span class="php-var">$row</span>[<span class="php-quote">'name'</span>] === <span class="php-var">$this</span>-&gt;session-&gt;userResetName) {
</span><span id="250" class="l"><a class="l" href="#250">250: </a>
</span><span id="251" class="l"><a class="l" href="#251">251: </a>                <span class="php-comment">// all conditions good - user may reset their password</span>
</span><span id="252" class="l"><a class="l" href="#252">252: </a>
</span><span id="253" class="l"><a class="l" href="#253">253: </a>                <span class="php-var">$form</span> = <span class="php-var">$this</span>-&gt;step3_buildForm(<span class="php-var">$id</span>, <span class="php-var">$token</span>);
</span><span id="254" class="l"><a class="l" href="#254">254: </a>
</span><span id="255" class="l"><a class="l" href="#255">255: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;input-&gt;post-&gt;submit_reset &amp;&amp; <span class="php-var">$this</span>-&gt;session-&gt;userResetStep === <span class="php-num">3</span>) {
</span><span id="256" class="l"><a class="l" href="#256">256: </a>                    <span class="php-var">$out</span> = <span class="php-var">$this</span>-&gt;step4_completeReset(<span class="php-var">$id</span>, <span class="php-var">$form</span>); 
</span><span id="257" class="l"><a class="l" href="#257">257: </a>
</span><span id="258" class="l"><a class="l" href="#258">258: </a>                } <span class="php-keyword1">else</span> {
</span><span id="259" class="l"><a class="l" href="#259">259: </a>                    <span class="php-var">$this</span>-&gt;session-&gt;userResetStep = <span class="php-num">3</span>; 
</span><span id="260" class="l"><a class="l" href="#260">260: </a>                    <span class="php-var">$out</span> = <span class="php-var">$form</span>-&gt;render(); 
</span><span id="261" class="l"><a class="l" href="#261">261: </a>                }
</span><span id="262" class="l"><a class="l" href="#262">262: </a>
</span><span id="263" class="l"><a class="l" href="#263">263: </a>                <span class="php-keyword1">return</span> <span class="php-var">$out</span>;
</span><span id="264" class="l"><a class="l" href="#264">264: </a>            }
</span><span id="265" class="l"><a class="l" href="#265">265: </a>        }
</span><span id="266" class="l"><a class="l" href="#266">266: </a>        
</span><span id="267" class="l"><a class="l" href="#267">267: </a>        <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Invalid reset request. Your request may have expired.&quot;</span>)); 
</span><span id="268" class="l"><a class="l" href="#268">268: </a>
</span><span id="269" class="l"><a class="l" href="#269">269: </a>        <span class="php-keyword1">return</span> <span class="php-quote">&quot;&lt;p&gt;&lt;a href='./?forgot=1'&gt;&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Continue&quot;</span>) . <span class="php-quote">&quot;&lt;/a&gt;&lt;/p&gt;&quot;</span>;
</span><span id="270" class="l"><a class="l" href="#270">270: </a>        
</span><span id="271" class="l"><a class="l" href="#271">271: </a>    }
</span><span id="272" class="l"><a class="l" href="#272">272: </a>
</span><span id="273" class="l"><a class="l" href="#273">273: </a>    <span class="php-comment">/**
</span></span><span id="274" class="l"><a class="l" href="#274">274: </a><span class="php-comment">     * Build the form with the reset password field
</span></span><span id="275" class="l"><a class="l" href="#275">275: </a><span class="php-comment">     *
</span></span><span id="276" class="l"><a class="l" href="#276">276: </a><span class="php-comment">     */</span>
</span><span id="277" class="l"><a class="l" href="#277">277: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_step3_buildForm" href="#_step3_buildForm">step3_buildForm</a>(<span class="php-var">$id</span>, <span class="php-var">$token</span>) {
</span><span id="278" class="l"><a class="l" href="#278">278: </a>
</span><span id="279" class="l"><a class="l" href="#279">279: </a>        <span class="php-var">$form</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldForm&quot;</span>); 
</span><span id="280" class="l"><a class="l" href="#280">280: </a>        <span class="php-var">$form</span>-&gt;attr(<span class="php-quote">'method'</span>, <span class="php-quote">'post'</span>);
</span><span id="281" class="l"><a class="l" href="#281">281: </a>        <span class="php-var">$form</span>-&gt;attr(<span class="php-quote">'action'</span>, <span class="php-quote">&quot;./?forgot=1&amp;user_id=</span><span class="php-var">$id</span><span class="php-quote">&amp;token=</span><span class="php-var">$token</span><span class="php-quote">&quot;</span>); 
</span><span id="282" class="l"><a class="l" href="#282">282: </a>
</span><span id="283" class="l"><a class="l" href="#283">283: </a>        <span class="php-var">$field</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldPassword&quot;</span>); 
</span><span id="284" class="l"><a class="l" href="#284">284: </a>        <span class="php-var">$field</span>-&gt;attr(<span class="php-quote">'id+name'</span>, <span class="php-quote">'pass'</span>); 
</span><span id="285" class="l"><a class="l" href="#285">285: </a>        <span class="php-var">$field</span>-&gt;required = <span class="php-keyword1">true</span>; 
</span><span id="286" class="l"><a class="l" href="#286">286: </a>        <span class="php-var">$field</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Reset Password&quot;</span>); <span class="php-comment">// New password field label</span>
</span><span id="287" class="l"><a class="l" href="#287">287: </a>        <span class="php-var">$form</span>-&gt;add(<span class="php-var">$field</span>);
</span><span id="288" class="l"><a class="l" href="#288">288: </a>
</span><span id="289" class="l"><a class="l" href="#289">289: </a>        <span class="php-var">$submit</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldSubmit&quot;</span>); 
</span><span id="290" class="l"><a class="l" href="#290">290: </a>        <span class="php-var">$submit</span>-&gt;attr(<span class="php-quote">'id+name'</span>, <span class="php-quote">'submit_reset'</span>); 
</span><span id="291" class="l"><a class="l" href="#291">291: </a>        <span class="php-var">$form</span>-&gt;add(<span class="php-var">$submit</span>); 
</span><span id="292" class="l"><a class="l" href="#292">292: </a>
</span><span id="293" class="l"><a class="l" href="#293">293: </a>        <span class="php-keyword1">return</span> <span class="php-var">$form</span>; 
</span><span id="294" class="l"><a class="l" href="#294">294: </a>    }
</span><span id="295" class="l"><a class="l" href="#295">295: </a>
</span><span id="296" class="l"><a class="l" href="#296">296: </a>    <span class="php-comment">/**
</span></span><span id="297" class="l"><a class="l" href="#297">297: </a><span class="php-comment">     * Process the submitted password reset form and reset password
</span></span><span id="298" class="l"><a class="l" href="#298">298: </a><span class="php-comment">     *
</span></span><span id="299" class="l"><a class="l" href="#299">299: </a><span class="php-comment">     */</span>
</span><span id="300" class="l"><a class="l" href="#300">300: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_step4_completeReset" href="#_step4_completeReset">step4_completeReset</a>(<span class="php-var">$id</span>, <span class="php-var">$form</span>) {
</span><span id="301" class="l"><a class="l" href="#301">301: </a>
</span><span id="302" class="l"><a class="l" href="#302">302: </a>        <span class="php-var">$form</span>-&gt;processInput(<span class="php-var">$this</span>-&gt;input-&gt;post);
</span><span id="303" class="l"><a class="l" href="#303">303: </a>        <span class="php-var">$user</span> = <span class="php-var">$this</span>-&gt;users-&gt;get((int) <span class="php-var">$id</span>); 
</span><span id="304" class="l"><a class="l" href="#304">304: </a>        <span class="php-var">$pass</span> = <span class="php-var">$form</span>-&gt;get(<span class="php-quote">'pass'</span>)-&gt;value; 
</span><span id="305" class="l"><a class="l" href="#305">305: </a>
</span><span id="306" class="l"><a class="l" href="#306">306: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">count</span>(<span class="php-var">$form</span>-&gt;getErrors()) || !<span class="php-var">$user</span>-&gt;id || !<span class="php-var">$pass</span>) <span class="php-keyword1">return</span> <span class="php-var">$form</span>-&gt;render();
</span><span id="307" class="l"><a class="l" href="#307">307: </a>
</span><span id="308" class="l"><a class="l" href="#308">308: </a>        <span class="php-var">$outputFormatting</span> = <span class="php-var">$user</span>-&gt;outputFormatting;
</span><span id="309" class="l"><a class="l" href="#309">309: </a>        <span class="php-var">$user</span>-&gt;setOutputFormatting(<span class="php-keyword1">false</span>);
</span><span id="310" class="l"><a class="l" href="#310">310: </a>        <span class="php-var">$user</span>-&gt;pass = <span class="php-var">$pass</span>; 
</span><span id="311" class="l"><a class="l" href="#311">311: </a>        <span class="php-var">$user</span>-&gt;save();
</span><span id="312" class="l"><a class="l" href="#312">312: </a>        <span class="php-var">$user</span>-&gt;setOutputFormatting(<span class="php-var">$outputFormatting</span>);
</span><span id="313" class="l"><a class="l" href="#313">313: </a>
</span><span id="314" class="l"><a class="l" href="#314">314: </a>        <span class="php-var">$this</span>-&gt;session-&gt;message(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Your password has been successfully reset. You may now login.&quot;</span>)); 
</span><span id="315" class="l"><a class="l" href="#315">315: </a>
</span><span id="316" class="l"><a class="l" href="#316">316: </a>        <span class="php-var">$this</span>-&gt;session-&gt;remove(<span class="php-quote">'userResetStep'</span>); 
</span><span id="317" class="l"><a class="l" href="#317">317: </a>        <span class="php-var">$this</span>-&gt;session-&gt;remove(<span class="php-quote">'userResetID'</span>); 
</span><span id="318" class="l"><a class="l" href="#318">318: </a>        <span class="php-var">$this</span>-&gt;session-&gt;remove(<span class="php-quote">'userResetName'</span>); 
</span><span id="319" class="l"><a class="l" href="#319">319: </a>
</span><span id="320" class="l"><a class="l" href="#320">320: </a>        <span class="php-var">$database</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'database'</span>);
</span><span id="321" class="l"><a class="l" href="#321">321: </a>        <span class="php-var">$table</span> = <span class="php-var">$database</span>-&gt;escapeTable(<span class="php-var">$this</span>-&gt;table);
</span><span id="322" class="l"><a class="l" href="#322">322: </a>        <span class="php-var">$query</span> = <span class="php-var">$database</span>-&gt;prepare(<span class="php-quote">&quot;DELETE FROM `</span><span class="php-var">$table</span><span class="php-quote">` WHERE id=:id&quot;</span>); 
</span><span id="323" class="l"><a class="l" href="#323">323: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:id&quot;</span>, <span class="php-var">$user</span>-&gt;id, \PDO::PARAM_INT); 
</span><span id="324" class="l"><a class="l" href="#324">324: </a>        <span class="php-var">$query</span>-&gt;execute();
</span><span id="325" class="l"><a class="l" href="#325">325: </a>        
</span><span id="326" class="l"><a class="l" href="#326">326: </a>        <span class="php-var">$this</span>-&gt;session-&gt;redirect(<span class="php-quote">&quot;./&quot;</span>); 
</span><span id="327" class="l"><a class="l" href="#327">327: </a>            
</span><span id="328" class="l"><a class="l" href="#328">328: </a>    }
</span><span id="329" class="l"><a class="l" href="#329">329: </a>
</span><span id="330" class="l"><a class="l" href="#330">330: </a>    <span class="php-comment">/**
</span></span><span id="331" class="l"><a class="l" href="#331">331: </a><span class="php-comment">     * Create the process_forgot_password table if it doesn't exist
</span></span><span id="332" class="l"><a class="l" href="#332">332: </a><span class="php-comment">     *
</span></span><span id="333" class="l"><a class="l" href="#333">333: </a><span class="php-comment">     * Delete any entries older than 60 minutes
</span></span><span id="334" class="l"><a class="l" href="#334">334: </a><span class="php-comment">     *
</span></span><span id="335" class="l"><a class="l" href="#335">335: </a><span class="php-comment">     */</span>
</span><span id="336" class="l"><a class="l" href="#336">336: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_setupResetTable" href="#_setupResetTable">setupResetTable</a>() {
</span><span id="337" class="l"><a class="l" href="#337">337: </a>
</span><span id="338" class="l"><a class="l" href="#338">338: </a>        <span class="php-comment">// create the DB table if it's not there already</span>
</span><span id="339" class="l"><a class="l" href="#339">339: </a>        <span class="php-var">$database</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'database'</span>);
</span><span id="340" class="l"><a class="l" href="#340">340: </a>        <span class="php-var">$table</span> = <span class="php-var">$database</span>-&gt;escapeTable(<span class="php-var">$this</span>-&gt;table);
</span><span id="341" class="l"><a class="l" href="#341">341: </a>        
</span><span id="342" class="l"><a class="l" href="#342">342: </a>        <span class="php-keyword1">try</span> {
</span><span id="343" class="l"><a class="l" href="#343">343: </a>            <span class="php-var">$query</span> = <span class="php-var">$database</span>-&gt;prepare(<span class="php-quote">&quot;SHOW COLUMNS FROM `</span><span class="php-var">$table</span><span class="php-quote">`&quot;</span>);
</span><span id="344" class="l"><a class="l" href="#344">344: </a>            <span class="php-var">$query</span>-&gt;execute();
</span><span id="345" class="l"><a class="l" href="#345">345: </a>        } <span class="php-keyword1">catch</span>(\Exception <span class="php-var">$e</span>) {
</span><span id="346" class="l"><a class="l" href="#346">346: </a>            <span class="php-var">$query</span> = <span class="php-keyword1">false</span>;
</span><span id="347" class="l"><a class="l" href="#347">347: </a>        }
</span><span id="348" class="l"><a class="l" href="#348">348: </a>
</span><span id="349" class="l"><a class="l" href="#349">349: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$query</span> || !<span class="php-var">$query</span>-&gt;rowCount()) <span class="php-var">$this</span>-&gt;install();
</span><span id="350" class="l"><a class="l" href="#350">350: </a>
</span><span id="351" class="l"><a class="l" href="#351">351: </a>        <span class="php-comment">// delete table entries that are older than one hour</span>
</span><span id="352" class="l"><a class="l" href="#352">352: </a>        <span class="php-var">$query</span> = <span class="php-var">$database</span>-&gt;prepare(<span class="php-quote">&quot;DELETE FROM `</span><span class="php-var">$table</span><span class="php-quote">` WHERE ts&lt;:ts&quot;</span>); 
</span><span id="353" class="l"><a class="l" href="#353">353: </a>        <span class="php-var">$query</span>-&gt;bindValue(<span class="php-quote">&quot;:ts&quot;</span>, <span class="php-keyword2">time</span>()-<span class="php-num">3600</span>, \PDO::PARAM_INT); 
</span><span id="354" class="l"><a class="l" href="#354">354: </a>        <span class="php-var">$query</span>-&gt;execute();
</span><span id="355" class="l"><a class="l" href="#355">355: </a>            
</span><span id="356" class="l"><a class="l" href="#356">356: </a>    }
</span><span id="357" class="l"><a class="l" href="#357">357: </a>
</span><span id="358" class="l"><a class="l" href="#358">358: </a>    <span class="php-comment">/**
</span></span><span id="359" class="l"><a class="l" href="#359">359: </a><span class="php-comment">     * Install this module by creating it's table
</span></span><span id="360" class="l"><a class="l" href="#360">360: </a><span class="php-comment">     *
</span></span><span id="361" class="l"><a class="l" href="#361">361: </a><span class="php-comment">     */</span>
</span><span id="362" class="l"><a class="l" href="#362">362: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____install" href="#____install">___install</a>() {
</span><span id="363" class="l"><a class="l" href="#363">363: </a>        
</span><span id="364" class="l"><a class="l" href="#364">364: </a>        <span class="php-var">$database</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'database'</span>);
</span><span id="365" class="l"><a class="l" href="#365">365: </a>        <span class="php-var">$table</span> = <span class="php-var">$database</span>-&gt;escapeTable(<span class="php-var">$this</span>-&gt;table);
</span><span id="366" class="l"><a class="l" href="#366">366: </a>        <span class="php-var">$engine</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'config'</span>)-&gt;dbEngine;
</span><span id="367" class="l"><a class="l" href="#367">367: </a>
</span><span id="368" class="l"><a class="l" href="#368">368: </a>        <span class="php-var">$sql</span> =  <span class="php-quote">&quot;CREATE TABLE `</span><span class="php-var">$table</span><span class="php-quote">` ( &quot;</span> . 
</span><span id="369" class="l"><a class="l" href="#369">369: </a>                <span class="php-quote">&quot;id INT unsigned NOT NULL PRIMARY KEY, &quot;</span> . 
</span><span id="370" class="l"><a class="l" href="#370">370: </a>                <span class="php-quote">&quot;name varchar(128) NOT NULL, &quot;</span> . 
</span><span id="371" class="l"><a class="l" href="#371">371: </a>                <span class="php-quote">&quot;token char(32) NOT NULL, &quot;</span> . 
</span><span id="372" class="l"><a class="l" href="#372">372: </a>                <span class="php-quote">&quot;ts INT unsigned NOT NULL, &quot;</span> . 
</span><span id="373" class="l"><a class="l" href="#373">373: </a>                <span class="php-quote">&quot;ip varchar(15) NOT NULL, &quot;</span> . 
</span><span id="374" class="l"><a class="l" href="#374">374: </a>                <span class="php-quote">&quot;KEY token (token), &quot;</span> . 
</span><span id="375" class="l"><a class="l" href="#375">375: </a>                <span class="php-quote">&quot;KEY ts (ts), &quot;</span> . 
</span><span id="376" class="l"><a class="l" href="#376">376: </a>                <span class="php-quote">&quot;KEY ip (ip) &quot;</span> . 
</span><span id="377" class="l"><a class="l" href="#377">377: </a>                <span class="php-quote">&quot;) ENGINE=</span><span class="php-var">$engine</span><span class="php-quote"> DEFAULT CHARSET=ascii;&quot;</span>; 
</span><span id="378" class="l"><a class="l" href="#378">378: </a>
</span><span id="379" class="l"><a class="l" href="#379">379: </a>        <span class="php-keyword1">try</span> { 
</span><span id="380" class="l"><a class="l" href="#380">380: </a>            <span class="php-var">$this</span>-&gt;message(<span class="php-quote">&quot;Creating table: </span><span class="php-var">$table</span><span class="php-quote">&quot;</span>, Notice::<span class="php-keyword2">log</span>);
</span><span id="381" class="l"><a class="l" href="#381">381: </a>            <span class="php-var">$database</span>-&gt;<span class="php-keyword2">exec</span>(<span class="php-var">$sql</span>);
</span><span id="382" class="l"><a class="l" href="#382">382: </a>        } <span class="php-keyword1">catch</span>(\Exception <span class="php-var">$e</span>) {
</span><span id="383" class="l"><a class="l" href="#383">383: </a>            <span class="php-var">$this</span>-&gt;error(<span class="php-var">$e</span>-&gt;getMessage(), Notice::<span class="php-keyword2">log</span>);
</span><span id="384" class="l"><a class="l" href="#384">384: </a>        }
</span><span id="385" class="l"><a class="l" href="#385">385: </a>    }
</span><span id="386" class="l"><a class="l" href="#386">386: </a>
</span><span id="387" class="l"><a class="l" href="#387">387: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____uninstall" href="#____uninstall">___uninstall</a>() {
</span><span id="388" class="l"><a class="l" href="#388">388: </a>        <span class="php-var">$database</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'database'</span>);
</span><span id="389" class="l"><a class="l" href="#389">389: </a>        <span class="php-var">$table</span> = <span class="php-var">$database</span>-&gt;escapeTable(<span class="php-var">$this</span>-&gt;table);
</span><span id="390" class="l"><a class="l" href="#390">390: </a>        <span class="php-var">$database</span>-&gt;<span class="php-keyword2">exec</span>(<span class="php-quote">&quot;DROP TABLE `</span><span class="php-var">$table</span><span class="php-quote">`&quot;</span>);     
</span><span id="391" class="l"><a class="l" href="#391">391: </a>    }
</span><span id="392" class="l"><a class="l" href="#392">392: </a>    
</span><span id="393" class="l"><a class="l" href="#393">393: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_getModuleConfigInputfields" href="#_getModuleConfigInputfields">getModuleConfigInputfields</a>(<span class="php-keyword1">array</span> <span class="php-var">$data</span>) {
</span><span id="394" class="l"><a class="l" href="#394">394: </a>        <span class="php-var">$form</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-keyword1">new</span> InputfieldWrapper());
</span><span id="395" class="l"><a class="l" href="#395">395: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;get(<span class="php-quote">'InputfieldEmail'</span>); 
</span><span id="396" class="l"><a class="l" href="#396">396: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'emailFrom'</span>);
</span><span id="397" class="l"><a class="l" href="#397">397: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Email address to send messages from'</span>); 
</span><span id="398" class="l"><a class="l" href="#398">398: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword1">isset</span>(<span class="php-var">$data</span>[<span class="php-quote">'emailFrom'</span>])) <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$data</span>[<span class="php-quote">'emailFrom'</span>]); 
</span><span id="399" class="l"><a class="l" href="#399">399: </a>        <span class="php-var">$form</span>-&gt;add(<span class="php-var">$f</span>); 
</span><span id="400" class="l"><a class="l" href="#400">400: </a>        <span class="php-keyword1">return</span> <span class="php-var">$form</span>; 
</span><span id="401" class="l"><a class="l" href="#401">401: </a>    }
</span><span id="402" class="l"><a class="l" href="#402">402: </a>
</span><span id="403" class="l"><a class="l" href="#403">403: </a>
</span><span id="404" class="l"><a class="l" href="#404">404: </a>}
</span><span id="405" class="l"><a class="l" href="#405">405: </a>
</span><span id="406" class="l"><a class="l" href="#406">406: </a></span></code></pre>

	<div id="footer">
		ProcessWire 2.8 API (master branch) API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
