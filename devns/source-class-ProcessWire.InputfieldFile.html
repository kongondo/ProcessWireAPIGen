<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="generator" content="ApiGen 2.8.0">
	<meta name="robots" content="noindex">

	<title>File modules/Inputfield/InputfieldFile/InputfieldFile.module | ProcessWire API (devns namespace branch)</title>

	<script type="text/javascript" src="resources/combined.js?2574835866"></script>
	<script type="text/javascript" src="elementlist.js?1311294761"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?2921310712">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview">
			<span>Overview version 3.0.11 devns</span>
		</a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li class="active main"><a href="namespace-ProcessWire.html">ProcessWire</a>
						</li>
				<li><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-ProcessWire.AdminTheme.html">AdminTheme</a></li>
				<li><a href="class-ProcessWire.AdminThemeDefault.html">AdminThemeDefault</a></li>
				<li><a href="class-ProcessWire.AdminThemeDefaultHelpers.html">AdminThemeDefaultHelpers</a></li>
				<li><a href="class-ProcessWire.AdminThemeReno.html">AdminThemeReno</a></li>
				<li><a href="class-ProcessWire.AdminThemeRenoHelpers.html">AdminThemeRenoHelpers</a></li>
				<li><a href="class-ProcessWire.Breadcrumb.html">Breadcrumb</a></li>
				<li><a href="class-ProcessWire.Breadcrumbs.html">Breadcrumbs</a></li>
				<li><a href="class-ProcessWire.CacheFile.html">CacheFile</a></li>
				<li><a href="class-ProcessWire.Comment.html">Comment</a></li>
				<li><a href="class-ProcessWire.CommentArray.html">CommentArray</a></li>
				<li><a href="class-ProcessWire.CommentFilter.html">CommentFilter</a></li>
				<li><a href="class-ProcessWire.CommentFilterAkismet.html">CommentFilterAkismet</a></li>
				<li><a href="class-ProcessWire.CommentForm.html">CommentForm</a></li>
				<li><a href="class-ProcessWire.CommentList.html">CommentList</a></li>
				<li><a href="class-ProcessWire.CommentNotifications.html">CommentNotifications</a></li>
				<li><a href="class-ProcessWire.CommentStars.html">CommentStars</a></li>
				<li><a href="class-ProcessWire.Config.html">Config</a></li>
				<li><a href="class-ProcessWire.Database.html">Database</a></li>
				<li><a href="class-ProcessWire.DatabaseMysqli.html">DatabaseMysqli</a></li>
				<li><a href="class-ProcessWire.DatabaseQuery.html">DatabaseQuery</a></li>
				<li><a href="class-ProcessWire.DatabaseQuerySelect.html">DatabaseQuerySelect</a></li>
				<li><a href="class-ProcessWire.DatabaseQuerySelectFulltext.html">DatabaseQuerySelectFulltext</a></li>
				<li><a href="class-ProcessWire.DatabaseStopwords.html">DatabaseStopwords</a></li>
				<li><a href="class-ProcessWire.Debug.html">Debug</a></li>
				<li><a href="class-ProcessWire.Field.html">Field</a></li>
				<li><a href="class-ProcessWire.Fieldgroup.html">Fieldgroup</a></li>
				<li><a href="class-ProcessWire.Fieldgroups.html">Fieldgroups</a></li>
				<li><a href="class-ProcessWire.FieldgroupsArray.html">FieldgroupsArray</a></li>
				<li><a href="class-ProcessWire.Fields.html">Fields</a></li>
				<li><a href="class-ProcessWire.FieldsArray.html">FieldsArray</a></li>
				<li><a href="class-ProcessWire.FieldSelectorInfo.html">FieldSelectorInfo</a></li>
				<li><a href="class-ProcessWire.Fieldtype.html">Fieldtype</a></li>
				<li><a href="class-ProcessWire.FieldtypeCache.html">FieldtypeCache</a></li>
				<li><a href="class-ProcessWire.FieldtypeCheckbox.html">FieldtypeCheckbox</a></li>
				<li><a href="class-ProcessWire.FieldtypeComments.html">FieldtypeComments</a></li>
				<li><a href="class-ProcessWire.FieldtypeDatetime.html">FieldtypeDatetime</a></li>
				<li><a href="class-ProcessWire.FieldtypeEmail.html">FieldtypeEmail</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetClose.html">FieldtypeFieldsetClose</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetOpen.html">FieldtypeFieldsetOpen</a></li>
				<li><a href="class-ProcessWire.FieldtypeFieldsetTabOpen.html">FieldtypeFieldsetTabOpen</a></li>
				<li><a href="class-ProcessWire.FieldtypeFile.html">FieldtypeFile</a></li>
				<li><a href="class-ProcessWire.FieldtypeFloat.html">FieldtypeFloat</a></li>
				<li><a href="class-ProcessWire.FieldtypeImage.html">FieldtypeImage</a></li>
				<li><a href="class-ProcessWire.FieldtypeInteger.html">FieldtypeInteger</a></li>
				<li><a href="class-ProcessWire.FieldtypeModule.html">FieldtypeModule</a></li>
				<li><a href="class-ProcessWire.FieldtypeMulti.html">FieldtypeMulti</a></li>
				<li><a href="class-ProcessWire.FieldtypeNotifications.html">FieldtypeNotifications</a></li>
				<li><a href="class-ProcessWire.FieldtypeOptions.html">FieldtypeOptions</a></li>
				<li><a href="class-ProcessWire.FieldtypePage.html">FieldtypePage</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTable.html">FieldtypePageTable</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTitle.html">FieldtypePageTitle</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTitleLanguage.html">FieldtypePageTitleLanguage</a></li>
				<li><a href="class-ProcessWire.FieldtypePassword.html">FieldtypePassword</a></li>
				<li><a href="class-ProcessWire.FieldtypeRepeater.html">FieldtypeRepeater</a></li>
				<li><a href="class-ProcessWire.FieldtypeRepeaterConfigHelper.html">FieldtypeRepeaterConfigHelper</a></li>
				<li><a href="class-ProcessWire.Fieldtypes.html">Fieldtypes</a></li>
				<li><a href="class-ProcessWire.FieldtypeSelector.html">FieldtypeSelector</a></li>
				<li><a href="class-ProcessWire.FieldtypeText.html">FieldtypeText</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextarea.html">FieldtypeTextarea</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextareaHelper.html">FieldtypeTextareaHelper</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextareaLanguage.html">FieldtypeTextareaLanguage</a></li>
				<li><a href="class-ProcessWire.FieldtypeTextLanguage.html">FieldtypeTextLanguage</a></li>
				<li><a href="class-ProcessWire.FieldtypeURL.html">FieldtypeURL</a></li>
				<li><a href="class-ProcessWire.FileCompiler.html">FileCompiler</a></li>
				<li><a href="class-ProcessWire.FileCompilerModule.html">FileCompilerModule</a></li>
				<li><a href="class-ProcessWire.FileCompilerTags.html">FileCompilerTags</a></li>
				<li><a href="class-ProcessWire.FileLog.html">FileLog</a></li>
				<li><a href="class-ProcessWire.FilenameArray.html">FilenameArray</a></li>
				<li><a href="class-ProcessWire.FileValidatorModule.html">FileValidatorModule</a></li>
				<li><a href="class-ProcessWire.Fuel.html">Fuel</a></li>
				<li><a href="class-ProcessWire.HookEvent.html">HookEvent</a></li>
				<li><a href="class-ProcessWire.ImageSizer.html">ImageSizer</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngine.html">ImageSizerEngine</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngineGD.html">ImageSizerEngineGD</a></li>
				<li><a href="class-ProcessWire.ImageSizerEngineIMagick.html">ImageSizerEngineIMagick</a></li>
				<li><a href="class-ProcessWire.Inputfield.html">Inputfield</a></li>
				<li><a href="class-ProcessWire.InputfieldAsmSelect.html">InputfieldAsmSelect</a></li>
				<li><a href="class-ProcessWire.InputfieldButton.html">InputfieldButton</a></li>
				<li><a href="class-ProcessWire.InputfieldCheckbox.html">InputfieldCheckbox</a></li>
				<li><a href="class-ProcessWire.InputfieldCheckboxes.html">InputfieldCheckboxes</a></li>
				<li><a href="class-ProcessWire.InputfieldCKEditor.html">InputfieldCKEditor</a></li>
				<li><a href="class-ProcessWire.InputfieldCommentsAdmin.html">InputfieldCommentsAdmin</a></li>
				<li><a href="class-ProcessWire.InputfieldDatetime.html">InputfieldDatetime</a></li>
				<li><a href="class-ProcessWire.InputfieldEmail.html">InputfieldEmail</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldset.html">InputfieldFieldset</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldsetClose.html">InputfieldFieldsetClose</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldsetOpen.html">InputfieldFieldsetOpen</a></li>
				<li><a href="class-ProcessWire.InputfieldFieldsetTabOpen.html">InputfieldFieldsetTabOpen</a></li>
				<li class="active"><a href="class-ProcessWire.InputfieldFile.html">InputfieldFile</a></li>
				<li><a href="class-ProcessWire.InputfieldFloat.html">InputfieldFloat</a></li>
				<li><a href="class-ProcessWire.InputfieldForm.html">InputfieldForm</a></li>
				<li><a href="class-ProcessWire.InputfieldHidden.html">InputfieldHidden</a></li>
				<li><a href="class-ProcessWire.InputfieldIcon.html">InputfieldIcon</a></li>
				<li><a href="class-ProcessWire.InputfieldImage.html">InputfieldImage</a></li>
				<li><a href="class-ProcessWire.InputfieldInteger.html">InputfieldInteger</a></li>
				<li><a href="class-ProcessWire.InputfieldMarkup.html">InputfieldMarkup</a></li>
				<li><a href="class-ProcessWire.InputfieldName.html">InputfieldName</a></li>
				<li><a href="class-ProcessWire.InputfieldPage.html">InputfieldPage</a></li>
				<li><a href="class-ProcessWire.InputfieldPageAutocomplete.html">InputfieldPageAutocomplete</a></li>
				<li><a href="class-ProcessWire.InputfieldPageListSelect.html">InputfieldPageListSelect</a></li>
				<li><a href="class-ProcessWire.InputfieldPageListSelectMultiple.html">InputfieldPageListSelectMultiple</a></li>
				<li><a href="class-ProcessWire.InputfieldPageName.html">InputfieldPageName</a></li>
				<li><a href="class-ProcessWire.InputfieldPageTable.html">InputfieldPageTable</a></li>
				<li><a href="class-ProcessWire.InputfieldPageTableAjax.html">InputfieldPageTableAjax</a></li>
				<li><a href="class-ProcessWire.InputfieldPageTitle.html">InputfieldPageTitle</a></li>
				<li><a href="class-ProcessWire.InputfieldPassword.html">InputfieldPassword</a></li>
				<li><a href="class-ProcessWire.InputfieldRadios.html">InputfieldRadios</a></li>
				<li><a href="class-ProcessWire.InputfieldRepeater.html">InputfieldRepeater</a></li>
				<li><a href="class-ProcessWire.InputfieldsArray.html">InputfieldsArray</a></li>
				<li><a href="class-ProcessWire.InputfieldSelect.html">InputfieldSelect</a></li>
				<li><a href="class-ProcessWire.InputfieldSelectMultiple.html">InputfieldSelectMultiple</a></li>
				<li><a href="class-ProcessWire.InputfieldSelector.html">InputfieldSelector</a></li>
				<li><a href="class-ProcessWire.InputfieldSubmit.html">InputfieldSubmit</a></li>
				<li><a href="class-ProcessWire.InputfieldText.html">InputfieldText</a></li>
				<li><a href="class-ProcessWire.InputfieldTextarea.html">InputfieldTextarea</a></li>
				<li><a href="class-ProcessWire.InputfieldURL.html">InputfieldURL</a></li>
				<li><a href="class-ProcessWire.InputfieldWrapper.html">InputfieldWrapper</a></li>
				<li><a href="class-ProcessWire.JqueryCore.html">JqueryCore</a></li>
				<li><a href="class-ProcessWire.JqueryMagnific.html">JqueryMagnific</a></li>
				<li><a href="class-ProcessWire.JqueryTableSorter.html">JqueryTableSorter</a></li>
				<li><a href="class-ProcessWire.JqueryUI.html">JqueryUI</a></li>
				<li><a href="class-ProcessWire.JqueryWireTabs.html">JqueryWireTabs</a></li>
				<li><a href="class-ProcessWire.Language.html">Language</a></li>
				<li><a href="class-ProcessWire.LanguageParser.html">LanguageParser</a></li>
				<li><a href="class-ProcessWire.Languages.html">Languages</a></li>
				<li><a href="class-ProcessWire.LanguagesPageFieldValue.html">LanguagesPageFieldValue</a></li>
				<li><a href="class-ProcessWire.LanguageSupport.html">LanguageSupport</a></li>
				<li><a href="class-ProcessWire.LanguageSupportFields.html">LanguageSupportFields</a></li>
				<li><a href="class-ProcessWire.LanguageSupportInstall.html">LanguageSupportInstall</a></li>
				<li><a href="class-ProcessWire.LanguageSupportPageNames.html">LanguageSupportPageNames</a></li>
				<li><a href="class-ProcessWire.LanguageTabs.html">LanguageTabs</a></li>
				<li><a href="class-ProcessWire.LanguageTranslator.html">LanguageTranslator</a></li>
				<li><a href="class-ProcessWire.LazyCron.html">LazyCron</a></li>
				<li><a href="class-ProcessWire.LogEntriesArray.html">LogEntriesArray</a></li>
				<li><a href="class-ProcessWire.MarkupAdminDataTable.html">MarkupAdminDataTable</a></li>
				<li><a href="class-ProcessWire.MarkupCache.html">MarkupCache</a></li>
				<li><a href="class-ProcessWire.MarkupFieldtype.html">MarkupFieldtype</a></li>
				<li><a href="class-ProcessWire.MarkupHTMLPurifier.html">MarkupHTMLPurifier</a></li>
				<li><a href="class-ProcessWire.MarkupPageArray.html">MarkupPageArray</a></li>
				<li><a href="class-ProcessWire.MarkupPageFields.html">MarkupPageFields</a></li>
				<li><a href="class-ProcessWire.MarkupPagerNav.html">MarkupPagerNav</a></li>
				<li><a href="class-ProcessWire.MarkupQA.html">MarkupQA</a></li>
				<li><a href="class-ProcessWire.MarkupRSS.html">MarkupRSS</a></li>
				<li><a href="class-ProcessWire.ModuleConfig.html">ModuleConfig</a></li>
				<li><a href="class-ProcessWire.ModuleJS.html">ModuleJS</a></li>
				<li><a href="class-ProcessWire.ModulePlaceholder.html">ModulePlaceholder</a></li>
				<li><a href="class-ProcessWire.Modules.html">Modules</a></li>
				<li><a href="class-ProcessWire.ModulesDuplicates.html">ModulesDuplicates</a></li>
				<li><a href="class-ProcessWire.Notice.html">Notice</a></li>
				<li><a href="class-ProcessWire.NoticeError.html">NoticeError</a></li>
				<li><a href="class-ProcessWire.NoticeMessage.html">NoticeMessage</a></li>
				<li><a href="class-ProcessWire.Notices.html">Notices</a></li>
				<li><a href="class-ProcessWire.NoticeWarning.html">NoticeWarning</a></li>
				<li><a href="class-ProcessWire.Notification.html">Notification</a></li>
				<li><a href="class-ProcessWire.NotificationArray.html">NotificationArray</a></li>
				<li><a href="class-ProcessWire.NullField.html">NullField</a></li>
				<li><a href="class-ProcessWire.NullPage.html">NullPage</a></li>
				<li><a href="class-ProcessWire.Page.html">Page</a></li>
				<li><a href="class-ProcessWire.PageAccess.html">PageAccess</a></li>
				<li><a href="class-ProcessWire.PageAction.html">PageAction</a></li>
				<li><a href="class-ProcessWire.PageArray.html">PageArray</a></li>
				<li><a href="class-ProcessWire.PageBookmarks.html">PageBookmarks</a></li>
				<li><a href="class-ProcessWire.PageComparison.html">PageComparison</a></li>
				<li><a href="class-ProcessWire.PageExport.html">PageExport</a></li>
				<li><a href="class-ProcessWire.Pagefile.html">Pagefile</a></li>
				<li><a href="class-ProcessWire.Pagefiles.html">Pagefiles</a></li>
				<li><a href="class-ProcessWire.PagefilesManager.html">PagefilesManager</a></li>
				<li><a href="class-ProcessWire.PageFinder.html">PageFinder</a></li>
				<li><a href="class-ProcessWire.PageFrontEdit.html">PageFrontEdit</a></li>
				<li><a href="class-ProcessWire.PageFrontEditConfig.html">PageFrontEditConfig</a></li>
				<li><a href="class-ProcessWire.Pageimage.html">Pageimage</a></li>
				<li><a href="class-ProcessWire.Pageimages.html">Pageimages</a></li>
				<li><a href="class-ProcessWire.PagePathHistory.html">PagePathHistory</a></li>
				<li><a href="class-ProcessWire.PagePaths.html">PagePaths</a></li>
				<li><a href="class-ProcessWire.PagePermissions.html">PagePermissions</a></li>
				<li><a href="class-ProcessWire.PageRender.html">PageRender</a></li>
				<li><a href="class-ProcessWire.PagerNav.html">PagerNav</a></li>
				<li><a href="class-ProcessWire.PagerNavItem.html">PagerNavItem</a></li>
				<li><a href="class-ProcessWire.Pages.html">Pages</a></li>
				<li><a href="class-ProcessWire.PagesAccess.html">PagesAccess</a></li>
				<li><a href="class-ProcessWire.PagesEditor.html">PagesEditor</a></li>
				<li><a href="class-ProcessWire.PagesLoader.html">PagesLoader</a></li>
				<li><a href="class-ProcessWire.PagesLoaderCache.html">PagesLoaderCache</a></li>
				<li><a href="class-ProcessWire.PagesSortfields.html">PagesSortfields</a></li>
				<li><a href="class-ProcessWire.PagesTrash.html">PagesTrash</a></li>
				<li><a href="class-ProcessWire.PagesType.html">PagesType</a></li>
				<li><a href="class-ProcessWire.PageTraversal.html">PageTraversal</a></li>
				<li><a href="class-ProcessWire.PaginatedArray.html">PaginatedArray</a></li>
				<li><a href="class-ProcessWire.Password.html">Password</a></li>
				<li><a href="class-ProcessWire.Paths.html">Paths</a></li>
				<li><a href="class-ProcessWire.Permission.html">Permission</a></li>
				<li><a href="class-ProcessWire.Permissions.html">Permissions</a></li>
				<li><a href="class-ProcessWire.Process.html">Process</a></li>
				<li><a href="class-ProcessWire.ProcessCommentsManager.html">ProcessCommentsManager</a></li>
				<li><a href="class-ProcessWire.ProcessController.html">ProcessController</a></li>
				<li><a href="class-ProcessWire.ProcessField.html">ProcessField</a></li>
				<li><a href="class-ProcessWire.ProcessFieldExportImport.html">ProcessFieldExportImport</a></li>
				<li><a href="class-ProcessWire.ProcessForgotPassword.html">ProcessForgotPassword</a></li>
				<li><a href="class-ProcessWire.ProcessHome.html">ProcessHome</a></li>
				<li><a href="class-ProcessWire.ProcessLanguage.html">ProcessLanguage</a></li>
				<li><a href="class-ProcessWire.ProcessLanguageTranslator.html">ProcessLanguageTranslator</a></li>
				<li><a href="class-ProcessWire.ProcessList.html">ProcessList</a></li>
				<li><a href="class-ProcessWire.ProcessLogger.html">ProcessLogger</a></li>
				<li><a href="class-ProcessWire.ProcessLogin.html">ProcessLogin</a></li>
				<li><a href="class-ProcessWire.ProcessModule.html">ProcessModule</a></li>
				<li><a href="class-ProcessWire.ProcessModuleInstall.html">ProcessModuleInstall</a></li>
				<li><a href="class-ProcessWire.ProcessPageAdd.html">ProcessPageAdd</a></li>
				<li><a href="class-ProcessWire.ProcessPageClone.html">ProcessPageClone</a></li>
				<li><a href="class-ProcessWire.ProcessPageEdit.html">ProcessPageEdit</a></li>
				<li><a href="class-ProcessWire.ProcessPageEditImageSelect.html">ProcessPageEditImageSelect</a></li>
				<li><a href="class-ProcessWire.ProcessPageEditLink.html">ProcessPageEditLink</a></li>
				<li><a href="class-ProcessWire.ProcessPageList.html">ProcessPageList</a></li>
				<li><a href="class-ProcessWire.ProcessPageListActions.html">ProcessPageListActions</a></li>
				<li><a href="class-ProcessWire.ProcessPageLister.html">ProcessPageLister</a></li>
				<li><a href="class-ProcessWire.ProcessPageListerBookmarks.html">ProcessPageListerBookmarks</a></li>
				<li><a href="class-ProcessWire.ProcessPageListRender.html">ProcessPageListRender</a></li>
				<li><a href="class-ProcessWire.ProcessPageListRenderJSON.html">ProcessPageListRenderJSON</a></li>
				<li><a href="class-ProcessWire.ProcessPageSearch.html">ProcessPageSearch</a></li>
				<li><a href="class-ProcessWire.ProcessPageSort.html">ProcessPageSort</a></li>
				<li><a href="class-ProcessWire.ProcessPageTrash.html">ProcessPageTrash</a></li>
				<li><a href="class-ProcessWire.ProcessPageType.html">ProcessPageType</a></li>
				<li><a href="class-ProcessWire.ProcessPageView.html">ProcessPageView</a></li>
				<li><a href="class-ProcessWire.ProcessPermission.html">ProcessPermission</a></li>
				<li><a href="class-ProcessWire.ProcessProfile.html">ProcessProfile</a></li>
				<li><a href="class-ProcessWire.ProcessRecentPages.html">ProcessRecentPages</a></li>
				<li><a href="class-ProcessWire.ProcessRole.html">ProcessRole</a></li>
				<li><a href="class-ProcessWire.ProcessSessionDB.html">ProcessSessionDB</a></li>
				<li><a href="class-ProcessWire.ProcessTemplate.html">ProcessTemplate</a></li>
				<li><a href="class-ProcessWire.ProcessTemplateExportImport.html">ProcessTemplateExportImport</a></li>
				<li><a href="class-ProcessWire.ProcessUser.html">ProcessUser</a></li>
				<li><a href="class-ProcessWire.ProcessUserConfig.html">ProcessUserConfig</a></li>
				<li><a href="class-ProcessWire.ProcessWire.html">ProcessWire</a></li>
				<li><a href="class-ProcessWire.RepeaterPage.html">RepeaterPage</a></li>
				<li><a href="class-ProcessWire.RepeaterPageArray.html">RepeaterPageArray</a></li>
				<li><a href="class-ProcessWire.Role.html">Role</a></li>
				<li><a href="class-ProcessWire.Roles.html">Roles</a></li>
				<li><a href="class-ProcessWire.Sanitizer.html">Sanitizer</a></li>
				<li><a href="class-ProcessWire.SelectableOption.html">SelectableOption</a></li>
				<li><a href="class-ProcessWire.SelectableOptionArray.html">SelectableOptionArray</a></li>
				<li><a href="class-ProcessWire.SelectableOptionConfig.html">SelectableOptionConfig</a></li>
				<li><a href="class-ProcessWire.SelectableOptionManager.html">SelectableOptionManager</a></li>
				<li><a href="class-ProcessWire.Selector.html">Selector</a></li>
				<li><a href="class-ProcessWire.SelectorBitwiseAnd.html">SelectorBitwiseAnd</a></li>
				<li><a href="class-ProcessWire.SelectorContains.html">SelectorContains</a></li>
				<li><a href="class-ProcessWire.SelectorContainsLike.html">SelectorContainsLike</a></li>
				<li><a href="class-ProcessWire.SelectorContainsWords.html">SelectorContainsWords</a></li>
				<li><a href="class-ProcessWire.SelectorEnds.html">SelectorEnds</a></li>
				<li><a href="class-ProcessWire.SelectorEndsLike.html">SelectorEndsLike</a></li>
				<li><a href="class-ProcessWire.SelectorEqual.html">SelectorEqual</a></li>
				<li><a href="class-ProcessWire.SelectorGreaterThan.html">SelectorGreaterThan</a></li>
				<li><a href="class-ProcessWire.SelectorGreaterThanEqual.html">SelectorGreaterThanEqual</a></li>
				<li><a href="class-ProcessWire.SelectorLessThan.html">SelectorLessThan</a></li>
				<li><a href="class-ProcessWire.SelectorLessThanEqual.html">SelectorLessThanEqual</a></li>
				<li><a href="class-ProcessWire.SelectorNotEqual.html">SelectorNotEqual</a></li>
				<li><a href="class-ProcessWire.Selectors.html">Selectors</a></li>
				<li><a href="class-ProcessWire.SelectorStarts.html">SelectorStarts</a></li>
				<li><a href="class-ProcessWire.SelectorStartsLike.html">SelectorStartsLike</a></li>
				<li><a href="class-ProcessWire.Session.html">Session</a></li>
				<li><a href="class-ProcessWire.SessionCSRF.html">SessionCSRF</a></li>
				<li><a href="class-ProcessWire.SessionHandlerDB.html">SessionHandlerDB</a></li>
				<li><a href="class-ProcessWire.SessionLoginThrottle.html">SessionLoginThrottle</a></li>
				<li><a href="class-ProcessWire.SystemNotifications.html">SystemNotifications</a></li>
				<li><a href="class-ProcessWire.SystemNotificationsConfig.html">SystemNotificationsConfig</a></li>
				<li><a href="class-ProcessWire.SystemUpdate.html">SystemUpdate</a></li>
				<li><a href="class-ProcessWire.SystemUpdate1.html">SystemUpdate1</a></li>
				<li><a href="class-ProcessWire.SystemUpdate10.html">SystemUpdate10</a></li>
				<li><a href="class-ProcessWire.SystemUpdate11.html">SystemUpdate11</a></li>
				<li><a href="class-ProcessWire.SystemUpdate12.html">SystemUpdate12</a></li>
				<li><a href="class-ProcessWire.SystemUpdate13.html">SystemUpdate13</a></li>
				<li><a href="class-ProcessWire.SystemUpdate14.html">SystemUpdate14</a></li>
				<li><a href="class-ProcessWire.SystemUpdate4.html">SystemUpdate4</a></li>
				<li><a href="class-ProcessWire.SystemUpdate5.html">SystemUpdate5</a></li>
				<li><a href="class-ProcessWire.SystemUpdate6.html">SystemUpdate6</a></li>
				<li><a href="class-ProcessWire.SystemUpdate7.html">SystemUpdate7</a></li>
				<li><a href="class-ProcessWire.SystemUpdate9.html">SystemUpdate9</a></li>
				<li><a href="class-ProcessWire.SystemUpdater.html">SystemUpdater</a></li>
				<li><a href="class-ProcessWire.Template.html">Template</a></li>
				<li><a href="class-ProcessWire.TemplateFile.html">TemplateFile</a></li>
				<li><a href="class-ProcessWire.Templates.html">Templates</a></li>
				<li><a href="class-ProcessWire.TemplatesArray.html">TemplatesArray</a></li>
				<li><a href="class-ProcessWire.Textformatter.html">Textformatter</a></li>
				<li><a href="class-ProcessWire.TextformatterEntities.html">TextformatterEntities</a></li>
				<li><a href="class-ProcessWire.TextformatterMarkdownExtra.html">TextformatterMarkdownExtra</a></li>
				<li><a href="class-ProcessWire.TextformatterNewlineBR.html">TextformatterNewlineBR</a></li>
				<li><a href="class-ProcessWire.TextformatterNewlineUL.html">TextformatterNewlineUL</a></li>
				<li><a href="class-ProcessWire.TextformatterPstripper.html">TextformatterPstripper</a></li>
				<li><a href="class-ProcessWire.TextformatterSmartypants.html">TextformatterSmartypants</a></li>
				<li><a href="class-ProcessWire.TextformatterStripTags.html">TextformatterStripTags</a></li>
				<li><a href="class-ProcessWire.User.html">User</a></li>
				<li><a href="class-ProcessWire.Users.html">Users</a></li>
				<li><a href="class-ProcessWire.Wire.html">Wire</a></li>
				<li><a href="class-ProcessWire.WireAction.html">WireAction</a></li>
				<li><a href="class-ProcessWire.WireArray.html">WireArray</a></li>
				<li><a href="class-ProcessWire.WireCache.html">WireCache</a></li>
				<li><a href="class-ProcessWire.WireClassLoader.html">WireClassLoader</a></li>
				<li><a href="class-ProcessWire.WireData.html">WireData</a></li>
				<li><a href="class-ProcessWire.WireDatabaseBackup.html">WireDatabaseBackup</a></li>
				<li><a href="class-ProcessWire.WireDatabasePDO.html">WireDatabasePDO</a></li>
				<li><a href="class-ProcessWire.WireDateTime.html">WireDateTime</a></li>
				<li><a href="class-ProcessWire.WireDebugInfo.html">WireDebugInfo</a></li>
				<li><a href="class-ProcessWire.WireFileTools.html">WireFileTools</a></li>
				<li><a href="class-ProcessWire.WireHooks.html">WireHooks</a></li>
				<li><a href="class-ProcessWire.WireHttp.html">WireHttp</a></li>
				<li><a href="class-ProcessWire.WireInput.html">WireInput</a></li>
				<li><a href="class-ProcessWire.WireInputData.html">WireInputData</a></li>
				<li><a href="class-ProcessWire.WireLog.html">WireLog</a></li>
				<li><a href="class-ProcessWire.WireMail.html">WireMail</a></li>
				<li><a href="class-ProcessWire.WireMailTools.html">WireMailTools</a></li>
				<li><a href="class-ProcessWire.WireSaveableItems.html">WireSaveableItems</a></li>
				<li><a href="class-ProcessWire.WireSaveableItemsLookup.html">WireSaveableItemsLookup</a></li>
				<li><a href="class-ProcessWire.WireSessionHandler.html">WireSessionHandler</a></li>
				<li><a href="class-ProcessWire.WireShutdown.html">WireShutdown</a></li>
				<li><a href="class-ProcessWire.WireTempDir.html">WireTempDir</a></li>
				<li><a href="class-ProcessWire.WireUpload.html">WireUpload</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-ProcessWire.CommentFormInterface.html">CommentFormInterface</a></li>
				<li><a href="class-ProcessWire.CommentListInterface.html">CommentListInterface</a></li>
				<li><a href="class-ProcessWire.ConfigurableModule.html">ConfigurableModule</a></li>
				<li><a href="class-ProcessWire.Exportable.html">Exportable</a></li>
				<li><a href="class-ProcessWire.FieldtypeLanguageInterface.html">FieldtypeLanguageInterface</a></li>
				<li><a href="class-ProcessWire.FieldtypePageTitleCompatible.html">FieldtypePageTitleCompatible</a></li>
				<li><a href="class-ProcessWire.HasLookupItems.html">HasLookupItems</a></li>
				<li><a href="class-ProcessWire.InputfieldHasArrayValue.html">InputfieldHasArrayValue</a></li>
				<li><a href="class-ProcessWire.InputfieldItemList.html">InputfieldItemList</a></li>
				<li><a href="class-ProcessWire.InputfieldPageListSelection.html">InputfieldPageListSelection</a></li>
				<li><a href="class-ProcessWire.LanguagesValueInterface.html">LanguagesValueInterface</a></li>
				<li><a href="class-ProcessWire.Module.html">Module</a></li>
				<li><a href="class-ProcessWire.Saveable.html">Saveable</a></li>
				<li><a href="class-ProcessWire.WireDatabase.html">WireDatabase</a></li>
				<li><a href="class-ProcessWire.WireFuelable.html">WireFuelable</a></li>
				<li><a href="class-ProcessWire.WireMailInterface.html">WireMailInterface</a></li>
				<li><a href="class-ProcessWire.WireMatchable.html">WireMatchable</a></li>
				<li><a href="class-ProcessWire.WireNoticeable.html">WireNoticeable</a></li>
				<li><a href="class-ProcessWire.WirePageEditor.html">WirePageEditor</a></li>
				<li><a href="class-ProcessWire.WirePaginatable.html">WirePaginatable</a></li>
				<li><a href="class-ProcessWire.WireTrackable.html">WireTrackable</a></li>
				<li><a href="class-ProcessWire.WireTranslatable.html">WireTranslatable</a></li>
			</ul>


			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-ProcessWire.PageFinderException.html">PageFinderException</a></li>
				<li><a href="class-ProcessWire.PageFinderSyntaxException.html">PageFinderSyntaxException</a></li>
				<li><a href="class-ProcessWire.ProcessController404Exception.html">ProcessController404Exception</a></li>
				<li><a href="class-ProcessWire.ProcessControllerPermissionException.html">ProcessControllerPermissionException</a></li>
				<li><a href="class-ProcessWire.Wire404Exception.html">Wire404Exception</a></li>
				<li><a href="class-ProcessWire.WireCSRFException.html">WireCSRFException</a></li>
				<li><a href="class-ProcessWire.WireDatabaseException.html">WireDatabaseException</a></li>
				<li><a href="class-ProcessWire.WireException.html">WireException</a></li>
				<li><a href="class-ProcessWire.WirePermissionException.html">WirePermissionException</a></li>
			</ul>


			<h3>Functions</h3>
			<ul>
				<li><a href="function-ProcessWire.__.html">__</a></li>
				<li><a href="function-ProcessWire._checkForHttpHostError.html">_checkForHttpHostError</a></li>
				<li><a href="function-ProcessWire._hookSessionRedirectModal.html">_hookSessionRedirectModal</a></li>
				<li><a href="function-ProcessWire._n.html">_n</a></li>
				<li><a href="function-ProcessWire._x.html">_x</a></li>
				<li><a href="function-ProcessWire.hookMarkupPagerNavRender.html">hookMarkupPagerNavRender</a></li>
				<li><a href="function-ProcessWire.InputfieldPageName_saveModuleConfigData.html">InputfieldPageName_saveModuleConfigData</a></li>
				<li><a href="function-ProcessWire.ProcessWireHostSiteConfig.html">ProcessWireHostSiteConfig</a></li>
				<li><a href="function-ProcessWire.tabIndent.html">tabIndent</a></li>
				<li><a href="function-ProcessWire.wire.html">wire</a></li>
				<li><a href="function-ProcessWire.wireBytesStr.html">wireBytesStr</a></li>
				<li><a href="function-ProcessWire.wireChmod.html">wireChmod</a></li>
				<li><a href="function-ProcessWire.wireClassExists.html">wireClassExists</a></li>
				<li><a href="function-ProcessWire.wireClassImplements.html">wireClassImplements</a></li>
				<li><a href="function-ProcessWire.wireClassName.html">wireClassName</a></li>
				<li><a href="function-ProcessWire.wireClassParents.html">wireClassParents</a></li>
				<li><a href="function-ProcessWire.wireCopy.html">wireCopy</a></li>
				<li><a href="function-ProcessWire.wireDate.html">wireDate</a></li>
				<li><a href="function-ProcessWire.wireDecodeJSON.html">wireDecodeJSON</a></li>
				<li><a href="function-ProcessWire.wireEncodeJSON.html">wireEncodeJSON</a></li>
				<li><a href="function-ProcessWire.wireIconMarkup.html">wireIconMarkup</a></li>
				<li><a href="function-ProcessWire.wireIconMarkupFile.html">wireIconMarkupFile</a></li>
				<li><a href="function-ProcessWire.wireIncludeFile.html">wireIncludeFile</a></li>
				<li><a href="function-ProcessWire.wireIsCallable.html">wireIsCallable</a></li>
				<li><a href="function-ProcessWire.wireMail.html">wireMail</a></li>
				<li><a href="function-ProcessWire.wireMethodExists.html">wireMethodExists</a></li>
				<li><a href="function-ProcessWire.wireMinArray.html">wireMinArray</a></li>
				<li><a href="function-ProcessWire.wireMkdir.html">wireMkdir</a></li>
				<li><a href="function-ProcessWire.wirePopulateStringTags.html">wirePopulateStringTags</a></li>
				<li><a href="function-ProcessWire.wireRelativeTimeStr.html">wireRelativeTimeStr</a></li>
				<li><a href="function-ProcessWire.wireRenderFile.html">wireRenderFile</a></li>
				<li><a href="function-ProcessWire.wireRmdir.html">wireRmdir</a></li>
				<li><a href="function-ProcessWire.wireSendFile.html">wireSendFile</a></li>
				<li><a href="function-ProcessWire.wireTempDir.html">wireTempDir</a></li>
				<li><a href="function-ProcessWire.wireUnzipFile.html">wireUnzipFile</a></li>
				<li><a href="function-ProcessWire.wireZipFile.html">wireZipFile</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">	
	<div id="switch">
	<span id="switch_sel">
		<a id="light" href="#" class="themes" title="Light theme"></a>
		<a id="dark" href="#" class="themes" title="Dark theme"></a>
	</span>
	</div>

	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text">
		<input type="submit" value="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-ProcessWire.html" title="Summary of ProcessWire"><span>Namespace</span></a>
			</li>
			<li>
				<a href="class-ProcessWire.InputfieldFile.html" title="Summary of ProcessWire\InputfieldFile"><span>Class</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
			<li>
				<a href="todo.html" title="Todo list"><span>Todo</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<pre><code><span id="1" class="l"><a class="l" href="#1">  1: </a><span class="xlang">&lt;?php</span> <span class="php-keyword1">namespace</span> ProcessWire;
</span><span id="2" class="l"><a class="l" href="#2">  2: </a>
</span><span id="3" class="l"><a class="l" href="#3">  3: </a><span class="php-comment">/**
</span></span><span id="4" class="l"><a class="l" href="#4">  4: </a><span class="php-comment"> * An Inputfield for handling file uploads
</span></span><span id="5" class="l"><a class="l" href="#5">  5: </a><span class="php-comment"> * 
</span></span><span id="6" class="l"><a class="l" href="#6">  6: </a><span class="php-comment"> * @property string $extensions Allowed file extensions, space separated
</span></span><span id="7" class="l"><a class="l" href="#7">  7: </a><span class="php-comment"> * @property int $maxFiles Maximum number of files allowed
</span></span><span id="8" class="l"><a class="l" href="#8">  8: </a><span class="php-comment"> * @property int $maxFilesize Maximum file size
</span></span><span id="9" class="l"><a class="l" href="#9">  9: </a><span class="php-comment"> * @property bool $useTags Whether or not tags are enabled
</span></span><span id="10" class="l"><a class="l" href="#10"> 10: </a><span class="php-comment"> * @property bool|int $unzip Whether or not unzip is enabled
</span></span><span id="11" class="l"><a class="l" href="#11"> 11: </a><span class="php-comment"> * @property bool|int $overwrite Whether or not overwrite mode is enabled
</span></span><span id="12" class="l"><a class="l" href="#12"> 12: </a><span class="php-comment"> * @property int $descriptionRows Number of rows for description field (default=1, 0=disable)
</span></span><span id="13" class="l"><a class="l" href="#13"> 13: </a><span class="php-comment"> * @property string $destinationPath Destination path for uploaded file
</span></span><span id="14" class="l"><a class="l" href="#14"> 14: </a><span class="php-comment"> * @property string $itemClass Class name(s) for each file item (default=InputfieldFileItem ui-widget ui-widget-content)
</span></span><span id="15" class="l"><a class="l" href="#15"> 15: </a><span class="php-comment"> * @property string $descriptionFieldLabel Label for description field (default=Description)
</span></span><span id="16" class="l"><a class="l" href="#16"> 16: </a><span class="php-comment"> * @property string $tagsFieldLabel Label for tags field (default=Tags)
</span></span><span id="17" class="l"><a class="l" href="#17"> 17: </a><span class="php-comment"> * @property bool|int $noUpload Set to true or 1 to disable uploading to this field
</span></span><span id="18" class="l"><a class="l" href="#18"> 18: </a><span class="php-comment"> * @property bool|int $noLang Set to true or 1 to disable multi-language descriptions
</span></span><span id="19" class="l"><a class="l" href="#19"> 19: </a><span class="php-comment"> * @property bool|int $noAjax Set to true or 1 to disable ajax uploading
</span></span><span id="20" class="l"><a class="l" href="#20"> 20: </a><span class="php-comment"> * @property bool|int $uploadOnlyMode Set to true or 1 to disable existing file list display
</span></span><span id="21" class="l"><a class="l" href="#21"> 21: </a><span class="php-comment"> * @property bool|int $noCollapseItem Set to true to disable collapsed items (like for LanguageTranslator tool or other things that add tools to files)
</span></span><span id="22" class="l"><a class="l" href="#22"> 22: </a><span class="php-comment"> * @property bool|int $noShortName Set to true to disable shortened filenames in output
</span></span><span id="23" class="l"><a class="l" href="#23"> 23: </a><span class="php-comment"> *
</span></span><span id="24" class="l"><a class="l" href="#24"> 24: </a><span class="php-comment"> */</span>
</span><span id="25" class="l"><a class="l" href="#25"> 25: </a><span class="php-keyword1">class</span> <a id="InputfieldFile" href="#InputfieldFile">InputfieldFile</a> <span class="php-keyword1">extends</span> Inputfield <span class="php-keyword1">implements</span> InputfieldItemList {
</span><span id="26" class="l"><a class="l" href="#26"> 26: </a>
</span><span id="27" class="l"><a class="l" href="#27"> 27: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> <a id="_getModuleInfo" href="#_getModuleInfo">getModuleInfo</a>() {
</span><span id="28" class="l"><a class="l" href="#28"> 28: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">array</span>(
</span><span id="29" class="l"><a class="l" href="#29"> 29: </a>            <span class="php-quote">'title'</span> =&gt; __(<span class="php-quote">'Files'</span>, __FILE__), <span class="php-comment">// Module Title</span>
</span><span id="30" class="l"><a class="l" href="#30"> 30: </a>            <span class="php-quote">'summary'</span> =&gt; __(<span class="php-quote">'One or more file uploads (sortable)'</span>, __FILE__), <span class="php-comment">// Module Summary</span>
</span><span id="31" class="l"><a class="l" href="#31"> 31: </a>            <span class="php-quote">'version'</span> =&gt; <span class="php-num">124</span>,
</span><span id="32" class="l"><a class="l" href="#32"> 32: </a>            <span class="php-quote">'permanent'</span> =&gt; <span class="php-keyword1">true</span>, 
</span><span id="33" class="l"><a class="l" href="#33"> 33: </a>            );
</span><span id="34" class="l"><a class="l" href="#34"> 34: </a>    }
</span><span id="35" class="l"><a class="l" href="#35"> 35: </a>    
</span><span id="36" class="l"><a class="l" href="#36"> 36: </a>    <span class="php-comment">/**
</span></span><span id="37" class="l"><a class="l" href="#37"> 37: </a><span class="php-comment">     * Cache of responses we'll be sending on ajax requests
</span></span><span id="38" class="l"><a class="l" href="#38"> 38: </a><span class="php-comment">     *
</span></span><span id="39" class="l"><a class="l" href="#39"> 39: </a><span class="php-comment">     */</span>
</span><span id="40" class="l"><a class="l" href="#40"> 40: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$ajaxResponses" href="#$ajaxResponses">$ajaxResponses</a></span> = <span class="php-keyword1">array</span>();
</span><span id="41" class="l"><a class="l" href="#41"> 41: </a>
</span><span id="42" class="l"><a class="l" href="#42"> 42: </a>    <span class="php-comment">/**
</span></span><span id="43" class="l"><a class="l" href="#43"> 43: </a><span class="php-comment">     * Was a file replaced? 
</span></span><span id="44" class="l"><a class="l" href="#44"> 44: </a><span class="php-comment">     *
</span></span><span id="45" class="l"><a class="l" href="#45"> 45: </a><span class="php-comment">     */</span>
</span><span id="46" class="l"><a class="l" href="#46"> 46: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$singleFileReplacement" href="#$singleFileReplacement">$singleFileReplacement</a></span> = <span class="php-keyword1">false</span>;
</span><span id="47" class="l"><a class="l" href="#47"> 47: </a>
</span><span id="48" class="l"><a class="l" href="#48"> 48: </a>    <span class="php-comment">/**
</span></span><span id="49" class="l"><a class="l" href="#49"> 49: </a><span class="php-comment">     * Saved instanceof WireUpload in case API retrieval is needed (see getWireUpload() method)
</span></span><span id="50" class="l"><a class="l" href="#50"> 50: </a><span class="php-comment">     *
</span></span><span id="51" class="l"><a class="l" href="#51"> 51: </a><span class="php-comment">     */</span>
</span><span id="52" class="l"><a class="l" href="#52"> 52: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$wireUpload" href="#$wireUpload">$wireUpload</a></span> = <span class="php-keyword1">null</span>;
</span><span id="53" class="l"><a class="l" href="#53"> 53: </a>
</span><span id="54" class="l"><a class="l" href="#54"> 54: </a>    <span class="php-comment">/**
</span></span><span id="55" class="l"><a class="l" href="#55"> 55: </a><span class="php-comment">     * Set to the current Pagefile item when doing iteration
</span></span><span id="56" class="l"><a class="l" href="#56"> 56: </a><span class="php-comment">     * 
</span></span><span id="57" class="l"><a class="l" href="#57"> 57: </a><span class="php-comment">     * @var Pagefile|null
</span></span><span id="58" class="l"><a class="l" href="#58"> 58: </a><span class="php-comment">     * 
</span></span><span id="59" class="l"><a class="l" href="#59"> 59: </a><span class="php-comment">     */</span>
</span><span id="60" class="l"><a class="l" href="#60"> 60: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$currentItem" href="#$currentItem">$currentItem</a></span> = <span class="php-keyword1">null</span>;
</span><span id="61" class="l"><a class="l" href="#61"> 61: </a>
</span><span id="62" class="l"><a class="l" href="#62"> 62: </a>    <span class="php-comment">/**
</span></span><span id="63" class="l"><a class="l" href="#63"> 63: </a><span class="php-comment">     * True when field should behave in an upload only mode
</span></span><span id="64" class="l"><a class="l" href="#64"> 64: </a><span class="php-comment">     * 
</span></span><span id="65" class="l"><a class="l" href="#65"> 65: </a><span class="php-comment">     * @var bool
</span></span><span id="66" class="l"><a class="l" href="#66"> 66: </a><span class="php-comment">     * 
</span></span><span id="67" class="l"><a class="l" href="#67"> 67: </a><span class="php-comment">     */</span>
</span><span id="68" class="l"><a class="l" href="#68"> 68: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$uploadOnlyMode" href="#$uploadOnlyMode">$uploadOnlyMode</a></span> = <span class="php-keyword1">false</span>;
</span><span id="69" class="l"><a class="l" href="#69"> 69: </a>    
</span><span id="70" class="l"><a class="l" href="#70"> 70: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$renderValueMode" href="#$renderValueMode">$renderValueMode</a></span> = <span class="php-keyword1">false</span>;
</span><span id="71" class="l"><a class="l" href="#71"> 71: </a>    
</span><span id="72" class="l"><a class="l" href="#72"> 72: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$isAjax" href="#$isAjax">$isAjax</a></span> = <span class="php-keyword1">false</span>;
</span><span id="73" class="l"><a class="l" href="#73"> 73: </a>
</span><span id="74" class="l"><a class="l" href="#74"> 74: </a>    <span class="php-comment">/**
</span></span><span id="75" class="l"><a class="l" href="#75"> 75: </a><span class="php-comment">     * Initialize the InputfieldFile
</span></span><span id="76" class="l"><a class="l" href="#76"> 76: </a><span class="php-comment">     *
</span></span><span id="77" class="l"><a class="l" href="#77"> 77: </a><span class="php-comment">     */</span>
</span><span id="78" class="l"><a class="l" href="#78"> 78: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_init" href="#_init">init</a>() {
</span><span id="79" class="l"><a class="l" href="#79"> 79: </a>        parent::init();
</span><span id="80" class="l"><a class="l" href="#80"> 80: </a>
</span><span id="81" class="l"><a class="l" href="#81"> 81: </a>        <span class="php-comment">// note: these two fields originate from FieldtypeFile. </span>
</span><span id="82" class="l"><a class="l" href="#82"> 82: </a>        <span class="php-comment">// Initializing them here ensures this Inputfield has the values set automatically.</span>
</span><span id="83" class="l"><a class="l" href="#83"> 83: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'extensions'</span>, <span class="php-quote">''</span>);
</span><span id="84" class="l"><a class="l" href="#84"> 84: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'maxFiles'</span>, <span class="php-num">0</span>); 
</span><span id="85" class="l"><a class="l" href="#85"> 85: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'maxFilesize'</span>, <span class="php-num">0</span>); 
</span><span id="86" class="l"><a class="l" href="#86"> 86: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'useTags'</span>, <span class="php-num">0</span>);
</span><span id="87" class="l"><a class="l" href="#87"> 87: </a>
</span><span id="88" class="l"><a class="l" href="#88"> 88: </a>        <span class="php-comment">// native to this Inputfield</span>
</span><span id="89" class="l"><a class="l" href="#89"> 89: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'unzip'</span>, <span class="php-num">0</span>); 
</span><span id="90" class="l"><a class="l" href="#90"> 90: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'overwrite'</span>, <span class="php-num">0</span>); 
</span><span id="91" class="l"><a class="l" href="#91"> 91: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'descriptionRows'</span>, <span class="php-num">1</span>); 
</span><span id="92" class="l"><a class="l" href="#92"> 92: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'destinationPath'</span>, <span class="php-quote">''</span>); 
</span><span id="93" class="l"><a class="l" href="#93"> 93: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'itemClass'</span>, <span class="php-quote">'InputfieldFileItem ui-widget ui-widget-content'</span>); 
</span><span id="94" class="l"><a class="l" href="#94"> 94: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'descriptionFieldLabel'</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Description'</span>)); <span class="php-comment">// Description field label</span>
</span><span id="95" class="l"><a class="l" href="#95"> 95: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'tagsFieldLabel'</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Tags'</span>)); <span class="php-comment">// Tags field label</span>
</span><span id="96" class="l"><a class="l" href="#96"> 96: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'noUpload'</span>, <span class="php-num">0</span>); <span class="php-comment">// set to 1 to disable uploading to this field</span>
</span><span id="97" class="l"><a class="l" href="#97"> 97: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'noLang'</span>, <span class="php-num">0</span>); 
</span><span id="98" class="l"><a class="l" href="#98"> 98: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'noAjax'</span>, <span class="php-num">0</span>); <span class="php-comment">// disable ajax uploading</span>
</span><span id="99" class="l"><a class="l" href="#99"> 99: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'noCollapseItem'</span>, <span class="php-num">0</span>);
</span><span id="100" class="l"><a class="l" href="#100">100: </a>        <span class="php-var">$this</span>-&gt;set(<span class="php-quote">'noShortName'</span>, <span class="php-num">0</span>);
</span><span id="101" class="l"><a class="l" href="#101">101: </a>        <span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'type'</span>, <span class="php-quote">'file'</span>); 
</span><span id="102" class="l"><a class="l" href="#102">102: </a>        
</span><span id="103" class="l"><a class="l" href="#103">103: </a>        <span class="php-var">$this</span>-&gt;isAjax = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'input'</span>)-&gt;get(<span class="php-quote">'InputfieldFileAjax'</span>) 
</span><span id="104" class="l"><a class="l" href="#104">104: </a>            || <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'input'</span>)-&gt;get(<span class="php-quote">'reloadInputfieldAjax'</span>)
</span><span id="105" class="l"><a class="l" href="#105">105: </a>            || <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'input'</span>)-&gt;get(<span class="php-quote">'renderInputfieldAjax'</span>);
</span><span id="106" class="l"><a class="l" href="#106">106: </a>
</span><span id="107" class="l"><a class="l" href="#107">107: </a>        <span class="php-comment">// get the max filesize</span>
</span><span id="108" class="l"><a class="l" href="#108">108: </a>        <span class="php-var">$filesize</span> = <span class="php-keyword2">trim</span>(<span class="php-keyword2">ini_get</span>(<span class="php-quote">'post_max_size'</span>));
</span><span id="109" class="l"><a class="l" href="#109">109: </a>        <span class="php-var">$last</span> = <span class="php-keyword2">strtolower</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$filesize</span>, -<span class="php-num">1</span>));
</span><span id="110" class="l"><a class="l" href="#110">110: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$last</span> == <span class="php-quote">'g'</span>) <span class="php-var">$this</span>-&gt;maxFilesize = ((<span class="php-var">$filesize</span>*<span class="php-num">1024</span>)*<span class="php-num">1024</span>)*<span class="php-num">1024</span>;
</span><span id="111" class="l"><a class="l" href="#111">111: </a>            <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$last</span> == <span class="php-quote">'m'</span>) <span class="php-var">$this</span>-&gt;maxFilesize = (<span class="php-var">$filesize</span>*<span class="php-num">1024</span>)*<span class="php-num">1024</span>;
</span><span id="112" class="l"><a class="l" href="#112">112: </a>            <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$last</span> == <span class="php-quote">'k'</span>) <span class="php-var">$this</span>-&gt;maxFilesize = <span class="php-var">$filesize</span>*<span class="php-num">1024</span>;
</span><span id="113" class="l"><a class="l" href="#113">113: </a>            <span class="php-keyword1">else</span> <span class="php-var">$this</span>-&gt;maxFilesize = (<span class="php-num">5</span>*<span class="php-num">1024</span>)*<span class="php-num">1024</span>; 
</span><span id="114" class="l"><a class="l" href="#114">114: </a>        
</span><span id="115" class="l"><a class="l" href="#115">115: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'input'</span>)-&gt;get(<span class="php-quote">'uploadOnlyMode'</span>)) <span class="php-var">$this</span>-&gt;uploadOnlyMode = <span class="php-keyword1">true</span>;
</span><span id="116" class="l"><a class="l" href="#116">116: </a>        <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldItemList'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="117" class="l"><a class="l" href="#117">117: </a>        <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldHasFileList'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="118" class="l"><a class="l" href="#118">118: </a>    }
</span><span id="119" class="l"><a class="l" href="#119">119: </a>    
</span><span id="120" class="l"><a class="l" href="#120">120: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_get" href="#_get">get</a>(<span class="php-var">$key</span>) {
</span><span id="121" class="l"><a class="l" href="#121">121: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$key</span> == <span class="php-quote">'renderValueMode'</span>) <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;renderValueMode;
</span><span id="122" class="l"><a class="l" href="#122">122: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$key</span> == <span class="php-quote">'singleFileReplacement'</span>) <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;singleFileReplacement;
</span><span id="123" class="l"><a class="l" href="#123">123: </a>        <span class="php-keyword1">return</span> parent::get(<span class="php-var">$key</span>);
</span><span id="124" class="l"><a class="l" href="#124">124: </a>    }
</span><span id="125" class="l"><a class="l" href="#125">125: </a>
</span><span id="126" class="l"><a class="l" href="#126">126: </a>    <span class="php-comment">/**
</span></span><span id="127" class="l"><a class="l" href="#127">127: </a><span class="php-comment">     * Per Inputfield interface, returns true when this field is empty
</span></span><span id="128" class="l"><a class="l" href="#128">128: </a><span class="php-comment">     *
</span></span><span id="129" class="l"><a class="l" href="#129">129: </a><span class="php-comment">     */</span>
</span><span id="130" class="l"><a class="l" href="#130">130: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_isEmpty" href="#_isEmpty">isEmpty</a>() {
</span><span id="131" class="l"><a class="l" href="#131">131: </a>        <span class="php-keyword1">return</span> !<span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;value);
</span><span id="132" class="l"><a class="l" href="#132">132: </a>    }
</span><span id="133" class="l"><a class="l" href="#133">133: </a>    
</span><span id="134" class="l"><a class="l" href="#134">134: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_setAttribute" href="#_setAttribute">setAttribute</a>(<span class="php-var">$key</span>, <span class="php-var">$value</span>) {
</span><span id="135" class="l"><a class="l" href="#135">135: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$key</span> == <span class="php-quote">'value'</span>) {
</span><span id="136" class="l"><a class="l" href="#136">136: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$value</span> <span class="php-keyword1">instanceof</span> Pagefile) {
</span><span id="137" class="l"><a class="l" href="#137">137: </a>                <span class="php-comment">// if given a Pagefile rather than a Pagefiles, use the Pagefiles instead</span>
</span><span id="138" class="l"><a class="l" href="#138">138: </a>                <span class="php-var">$value</span> = <span class="php-var">$value</span>-&gt;pagefiles; 
</span><span id="139" class="l"><a class="l" href="#139">139: </a>            }
</span><span id="140" class="l"><a class="l" href="#140">140: </a>        }
</span><span id="141" class="l"><a class="l" href="#141">141: </a>        <span class="php-keyword1">return</span> parent::setAttribute(<span class="php-var">$key</span>, <span class="php-var">$value</span>);
</span><span id="142" class="l"><a class="l" href="#142">142: </a>    }
</span><span id="143" class="l"><a class="l" href="#143">143: </a>    
</span><span id="144" class="l"><a class="l" href="#144">144: </a>    <span class="php-comment">/**
</span></span><span id="145" class="l"><a class="l" href="#145">145: </a><span class="php-comment">     * Check to ensure that the containing form as an 'enctype' attr needed for uploading files
</span></span><span id="146" class="l"><a class="l" href="#146">146: </a><span class="php-comment">     *
</span></span><span id="147" class="l"><a class="l" href="#147">147: </a><span class="php-comment">     */</span>
</span><span id="148" class="l"><a class="l" href="#148">148: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_checkFormEnctype" href="#_checkFormEnctype">checkFormEnctype</a>() {
</span><span id="149" class="l"><a class="l" href="#149">149: </a>        <span class="php-var">$parent</span> = <span class="php-var">$this</span>-&gt;parent;
</span><span id="150" class="l"><a class="l" href="#150">150: </a>        <span class="php-keyword1">while</span>(<span class="php-var">$parent</span>) {
</span><span id="151" class="l"><a class="l" href="#151">151: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$parent</span>-&gt;attr(<span class="php-quote">'method'</span>) == <span class="php-quote">'post'</span>) {
</span><span id="152" class="l"><a class="l" href="#152">152: </a>                <span class="php-keyword1">if</span>(!<span class="php-var">$parent</span>-&gt;attr(<span class="php-quote">'enctype'</span>)) <span class="php-var">$parent</span>-&gt;attr(<span class="php-quote">'enctype'</span>, <span class="php-quote">'multipart/form-data'</span>);
</span><span id="153" class="l"><a class="l" href="#153">153: </a>                <span class="php-keyword1">break</span>;
</span><span id="154" class="l"><a class="l" href="#154">154: </a>            }
</span><span id="155" class="l"><a class="l" href="#155">155: </a>            <span class="php-var">$parent</span> = <span class="php-var">$parent</span>-&gt;parent; 
</span><span id="156" class="l"><a class="l" href="#156">156: </a>        }
</span><span id="157" class="l"><a class="l" href="#157">157: </a>    }
</span><span id="158" class="l"><a class="l" href="#158">158: </a>
</span><span id="159" class="l"><a class="l" href="#159">159: </a>    <span class="php-comment">/**
</span></span><span id="160" class="l"><a class="l" href="#160">160: </a><span class="php-comment">     * Set the parent of this Inputfield
</span></span><span id="161" class="l"><a class="l" href="#161">161: </a><span class="php-comment">     *
</span></span><span id="162" class="l"><a class="l" href="#162">162: </a><span class="php-comment">     * @param InputfieldWrapper $parent
</span></span><span id="163" class="l"><a class="l" href="#163">163: </a><span class="php-comment">     * @return this
</span></span><span id="164" class="l"><a class="l" href="#164">164: </a><span class="php-comment">     *
</span></span><span id="165" class="l"><a class="l" href="#165">165: </a><span class="php-comment">     */</span>
</span><span id="166" class="l"><a class="l" href="#166">166: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_setParent" href="#_setParent">setParent</a>(InputfieldWrapper <span class="php-var">$parent</span>) {
</span><span id="167" class="l"><a class="l" href="#167">167: </a>        parent::setParent(<span class="php-var">$parent</span>); 
</span><span id="168" class="l"><a class="l" href="#168">168: </a>        <span class="php-var">$this</span>-&gt;checkFormEnctype();
</span><span id="169" class="l"><a class="l" href="#169">169: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>;
</span><span id="170" class="l"><a class="l" href="#170">170: </a>    }
</span><span id="171" class="l"><a class="l" href="#171">171: </a>
</span><span id="172" class="l"><a class="l" href="#172">172: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_pagefileId" href="#_pagefileId">pagefileId</a>(Pagefile <span class="php-var">$pagefile</span>) {
</span><span id="173" class="l"><a class="l" href="#173">173: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;name . <span class="php-quote">&quot;_&quot;</span> . <span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">hash</span>; 
</span><span id="174" class="l"><a class="l" href="#174">174: </a>    }
</span><span id="175" class="l"><a class="l" href="#175">175: </a>
</span><span id="176" class="l"><a class="l" href="#176">176: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_renderItemDescriptionField" href="#_renderItemDescriptionField">renderItemDescriptionField</a>(Pagefile <span class="php-var">$pagefile</span>, <span class="php-var">$id</span>, <span class="php-var">$n</span>) {
</span><span id="177" class="l"><a class="l" href="#177">177: </a>        
</span><span id="178" class="l"><a class="l" href="#178">178: </a>        <span class="php-var">$out</span> = <span class="php-quote">''</span>;
</span><span id="179" class="l"><a class="l" href="#179">179: </a>        <span class="php-var">$tabs</span> = <span class="php-quote">''</span>;
</span><span id="180" class="l"><a class="l" href="#180">180: </a>        <span class="php-keyword1">static</span> <span class="php-var"><a id="$hasLangTabs" href="#$hasLangTabs">$hasLangTabs</a></span> = <span class="php-keyword1">null</span>;
</span><span id="181" class="l"><a class="l" href="#181">181: </a>
</span><span id="182" class="l"><a class="l" href="#182">182: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;renderValueMode) {
</span><span id="183" class="l"><a class="l" href="#183">183: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'languages'</span>)) {
</span><span id="184" class="l"><a class="l" href="#184">184: </a>                <span class="php-var">$description</span> = <span class="php-var">$pagefile</span>-&gt;description(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'user'</span>)-&gt;language);
</span><span id="185" class="l"><a class="l" href="#185">185: </a>            } <span class="php-keyword1">else</span> {
</span><span id="186" class="l"><a class="l" href="#186">186: </a>                <span class="php-var">$description</span> = <span class="php-var">$pagefile</span>-&gt;description;
</span><span id="187" class="l"><a class="l" href="#187">187: </a>            }
</span><span id="188" class="l"><a class="l" href="#188">188: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword2">strlen</span>(<span class="php-var">$description</span>)) <span class="php-var">$description</span> = 
</span><span id="189" class="l"><a class="l" href="#189">189: </a>                <span class="php-quote">&quot;&lt;div class='InputfieldFileDescription detail'&gt;&quot;</span> . <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;entities1(<span class="php-var">$description</span>) . <span class="php-quote">&quot;&lt;/div&gt;&quot;</span>;
</span><span id="190" class="l"><a class="l" href="#190">190: </a>            <span class="php-keyword1">return</span> <span class="php-var">$description</span>;
</span><span id="191" class="l"><a class="l" href="#191">191: </a>        }
</span><span id="192" class="l"><a class="l" href="#192">192: </a>        
</span><span id="193" class="l"><a class="l" href="#193">193: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;descriptionRows &gt; <span class="php-num">0</span>) {
</span><span id="194" class="l"><a class="l" href="#194">194: </a>
</span><span id="195" class="l"><a class="l" href="#195">195: </a>            <span class="php-var">$userLanguage</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'user'</span>)-&gt;language;
</span><span id="196" class="l"><a class="l" href="#196">196: </a>            <span class="php-var">$languages</span> = <span class="php-var">$this</span>-&gt;noLang ? <span class="php-keyword1">null</span> : <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'languages'</span>);
</span><span id="197" class="l"><a class="l" href="#197">197: </a>
</span><span id="198" class="l"><a class="l" href="#198">198: </a>            <span class="php-keyword1">if</span>(!<span class="php-var">$userLanguage</span> || !<span class="php-var">$languages</span> || <span class="php-var">$languages</span>-&gt;<span class="php-keyword2">count</span>() &lt; <span class="php-num">2</span>) {
</span><span id="199" class="l"><a class="l" href="#199">199: </a>                <span class="php-var">$numLanguages</span> = <span class="php-num">0</span>;
</span><span id="200" class="l"><a class="l" href="#200">200: </a>                <span class="php-var">$languages</span> = <span class="php-keyword1">array</span>(<span class="php-keyword1">null</span>);
</span><span id="201" class="l"><a class="l" href="#201">201: </a>            } <span class="php-keyword1">else</span> {
</span><span id="202" class="l"><a class="l" href="#202">202: </a>                <span class="php-var">$numLanguages</span> = <span class="php-var">$languages</span>-&gt;<span class="php-keyword2">count</span>();
</span><span id="203" class="l"><a class="l" href="#203">203: </a>                <span class="php-keyword1">if</span>(<span class="php-keyword2">is_null</span>(<span class="php-var">$hasLangTabs</span>)) <span class="php-var">$hasLangTabs</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'modules'</span>)-&gt;isInstalled(<span class="php-quote">'LanguageTabs'</span>);
</span><span id="204" class="l"><a class="l" href="#204">204: </a>            }
</span><span id="205" class="l"><a class="l" href="#205">205: </a>
</span><span id="206" class="l"><a class="l" href="#206">206: </a>            <span class="php-keyword1">foreach</span>(<span class="php-var">$languages</span> <span class="php-keyword1">as</span> <span class="php-var">$language</span>) {
</span><span id="207" class="l"><a class="l" href="#207">207: </a>
</span><span id="208" class="l"><a class="l" href="#208">208: </a>                <span class="php-var">$descriptionFieldName</span> = <span class="php-quote">&quot;description_</span><span class="php-var">$id</span><span class="php-quote">&quot;</span>;
</span><span id="209" class="l"><a class="l" href="#209">209: </a>                <span class="php-var">$descriptionFieldLabel</span> = <span class="php-var">$this</span>-&gt;descriptionFieldLabel;
</span><span id="210" class="l"><a class="l" href="#210">210: </a>                <span class="php-var">$labelClass</span> = <span class="php-quote">&quot;detail&quot;</span>;
</span><span id="211" class="l"><a class="l" href="#211">211: </a>
</span><span id="212" class="l"><a class="l" href="#212">212: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$language</span>) {
</span><span id="213" class="l"><a class="l" href="#213">213: </a>                    <span class="php-var">$descriptionFieldLabel</span> = (string) <span class="php-var">$language</span>-&gt;getUnformatted(<span class="php-quote">'title'</span>);
</span><span id="214" class="l"><a class="l" href="#214">214: </a>                    <span class="php-keyword1">if</span>(<span class="php-keyword1">empty</span>(<span class="php-var">$descriptionFieldLabel</span>)) <span class="php-var">$descriptionFieldLabel</span> = <span class="php-var">$language</span>-&gt;get(<span class="php-quote">'name'</span>);
</span><span id="215" class="l"><a class="l" href="#215">215: </a>                    <span class="php-var">$descriptionFieldLabel</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;entities(<span class="php-var">$descriptionFieldLabel</span>);
</span><span id="216" class="l"><a class="l" href="#216">216: </a>                    <span class="php-keyword1">if</span>(!<span class="php-var">$language</span>-&gt;isDefault()) <span class="php-var">$descriptionFieldName</span> = <span class="php-quote">&quot;description</span><span class="php-var">{$language-&gt;id}</span><span class="php-quote">_</span><span class="php-var">$id</span><span class="php-quote">&quot;</span>;
</span><span id="217" class="l"><a class="l" href="#217">217: </a>                    <span class="php-var">$labelClass</span> .= <span class="php-quote">' LanguageSupportLabel'</span>;
</span><span id="218" class="l"><a class="l" href="#218">218: </a>                    <span class="php-keyword1">if</span>(!<span class="php-var">$languages</span>-&gt;editable(<span class="php-var">$language</span>)) {
</span><span id="219" class="l"><a class="l" href="#219">219: </a>                        <span class="php-var">$labelClass</span> .= <span class="php-quote">' LanguageNotEditable'</span>;
</span><span id="220" class="l"><a class="l" href="#220">220: </a>                        <span class="php-var">$descriptionFieldLabel</span> = <span class="php-quote">&quot;&lt;s&gt;</span><span class="php-var">$descriptionFieldLabel</span><span class="php-quote">&lt;/s&gt;&quot;</span>;
</span><span id="221" class="l"><a class="l" href="#221">221: </a>                    }
</span><span id="222" class="l"><a class="l" href="#222">222: </a>                    <span class="php-var">$tabID</span> = <span class="php-quote">&quot;langTab_</span><span class="php-var">{$id}</span><span class="php-quote">__</span><span class="php-var">$language</span><span class="php-quote">&quot;</span>;
</span><span id="223" class="l"><a class="l" href="#223">223: </a>                    <span class="php-var">$tabs</span> .= <span class="php-quote">&quot;&lt;li&gt;&lt;a href='#</span><span class="php-var">$tabID</span><span class="php-quote">'&gt;</span><span class="php-var">$descriptionFieldLabel</span><span class="php-quote">&lt;/a&gt;&lt;/li&gt;&quot;</span>;
</span><span id="224" class="l"><a class="l" href="#224">224: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;div class='InputfieldFileDescription LanguageSupport' data-language='</span><span class="php-var">$language</span><span class="php-quote">' id='</span><span class="php-var">$tabID</span><span class="php-quote">'&gt;&quot;</span>; <span class="php-comment">// open wrapper</span>
</span><span id="225" class="l"><a class="l" href="#225">225: </a>                } <span class="php-keyword1">else</span> {
</span><span id="226" class="l"><a class="l" href="#226">226: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;div class='InputfieldFileDescription'&gt;&quot;</span>; <span class="php-comment">// open wrapper</span>
</span><span id="227" class="l"><a class="l" href="#227">227: </a>                }
</span><span id="228" class="l"><a class="l" href="#228">228: </a>
</span><span id="229" class="l"><a class="l" href="#229">229: </a>                <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;label for='</span><span class="php-var">$descriptionFieldName</span><span class="php-quote">' class='</span><span class="php-var">$labelClass</span><span class="php-quote">'&gt;</span><span class="php-var">$descriptionFieldLabel</span><span class="php-quote">&lt;/label&gt;&quot;</span>;
</span><span id="230" class="l"><a class="l" href="#230">230: </a>
</span><span id="231" class="l"><a class="l" href="#231">231: </a>                <span class="php-var">$description</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;entities(<span class="php-var">$pagefile</span>-&gt;description(<span class="php-var">$language</span>));
</span><span id="232" class="l"><a class="l" href="#232">232: </a>
</span><span id="233" class="l"><a class="l" href="#233">233: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;descriptionRows &gt; <span class="php-num">1</span>) {
</span><span id="234" class="l"><a class="l" href="#234">234: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;textarea name='</span><span class="php-var">$descriptionFieldName</span><span class="php-quote">' id='</span><span class="php-var">$descriptionFieldName</span><span class="php-quote">' rows='</span><span class="php-var">{$this-&gt;descriptionRows}</span><span class="php-quote">'&gt;</span><span class="php-var">$description</span><span class="php-quote">&lt;/textarea&gt;&quot;</span>;
</span><span id="235" class="l"><a class="l" href="#235">235: </a>                } <span class="php-keyword1">else</span> {
</span><span id="236" class="l"><a class="l" href="#236">236: </a>                    <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;input type='text' name='</span><span class="php-var">$descriptionFieldName</span><span class="php-quote">' id='</span><span class="php-var">$descriptionFieldName</span><span class="php-quote">' value='</span><span class="php-var">$description</span><span class="php-quote">' /&gt;&quot;</span>;
</span><span id="237" class="l"><a class="l" href="#237">237: </a>                }
</span><span id="238" class="l"><a class="l" href="#238">238: </a>
</span><span id="239" class="l"><a class="l" href="#239">239: </a>                <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;/div&gt;&quot;</span>; <span class="php-comment">// close wrapper</span>
</span><span id="240" class="l"><a class="l" href="#240">240: </a>            }
</span><span id="241" class="l"><a class="l" href="#241">241: </a>            
</span><span id="242" class="l"><a class="l" href="#242">242: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$numLanguages</span> &amp;&amp; <span class="php-var">$hasLangTabs</span>) {
</span><span id="243" class="l"><a class="l" href="#243">243: </a>                <span class="php-var">$out</span> = <span class="php-quote">&quot;&lt;div class='hasLangTabs langTabsContainer'&gt;&lt;div class='langTabs'&gt;&lt;ul&gt;</span><span class="php-var">$tabs</span><span class="php-quote">&lt;/ul&gt;</span><span class="php-var">$out</span><span class="php-quote">&lt;/div&gt;&lt;/div&gt;&quot;</span>;
</span><span id="244" class="l"><a class="l" href="#244">244: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;isAjax) <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;script&gt;setupLanguageTabs(</span><span class="php-var">$</span><span class="php-quote">('#wrap_&quot;</span> . <span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'id'</span>) . <span class="php-quote">&quot;'));&lt;/script&gt;&quot;</span>;
</span><span id="245" class="l"><a class="l" href="#245">245: </a>            }
</span><span id="246" class="l"><a class="l" href="#246">246: </a>
</span><span id="247" class="l"><a class="l" href="#247">247: </a>        }
</span><span id="248" class="l"><a class="l" href="#248">248: </a>        
</span><span id="249" class="l"><a class="l" href="#249">249: </a>
</span><span id="250" class="l"><a class="l" href="#250">250: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;useTags) {
</span><span id="251" class="l"><a class="l" href="#251">251: </a>            <span class="php-var">$tags</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;entities(<span class="php-var">$pagefile</span>-&gt;tags);
</span><span id="252" class="l"><a class="l" href="#252">252: </a>            <span class="php-var">$out</span> .= <span class="php-quote">&quot;&lt;span class='InputfieldFileTags'&gt;&quot;</span> .
</span><span id="253" class="l"><a class="l" href="#253">253: </a>                <span class="php-quote">&quot;&lt;label for='tags_</span><span class="php-var">$id</span><span class="php-quote">' class='detail'&gt;</span><span class="php-var">{$this-&gt;tagsFieldLabel}</span><span class="php-quote">&lt;/label&gt;&quot;</span> .
</span><span id="254" class="l"><a class="l" href="#254">254: </a>                <span class="php-quote">&quot;&lt;input type='text' name='tags_</span><span class="php-var">$id</span><span class="php-quote">' id='tags_</span><span class="php-var">$id</span><span class="php-quote">' value='</span><span class="php-var">$tags</span><span class="php-quote">' /&gt;&quot;</span> .
</span><span id="255" class="l"><a class="l" href="#255">255: </a>                <span class="php-quote">&quot;&lt;/span&gt;&quot;</span>;
</span><span id="256" class="l"><a class="l" href="#256">256: </a>        }
</span><span id="257" class="l"><a class="l" href="#257">257: </a>
</span><span id="258" class="l"><a class="l" href="#258">258: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>;
</span><span id="259" class="l"><a class="l" href="#259">259: </a>    }
</span><span id="260" class="l"><a class="l" href="#260">260: </a>
</span><span id="261" class="l"><a class="l" href="#261">261: </a>    <span class="php-comment">/**
</span></span><span id="262" class="l"><a class="l" href="#262">262: </a><span class="php-comment">     * Get a basename for the file, possibly shortened, suitable for display in InputfieldFileList
</span></span><span id="263" class="l"><a class="l" href="#263">263: </a><span class="php-comment">     * 
</span></span><span id="264" class="l"><a class="l" href="#264">264: </a><span class="php-comment">     * @param Pagefile $pagefile
</span></span><span id="265" class="l"><a class="l" href="#265">265: </a><span class="php-comment">     * @param int $maxLength
</span></span><span id="266" class="l"><a class="l" href="#266">266: </a><span class="php-comment">     * @return string
</span></span><span id="267" class="l"><a class="l" href="#267">267: </a><span class="php-comment">     * 
</span></span><span id="268" class="l"><a class="l" href="#268">268: </a><span class="php-comment">     */</span>
</span><span id="269" class="l"><a class="l" href="#269">269: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_getDisplayBasename" href="#_getDisplayBasename">getDisplayBasename</a>(Pagefile <span class="php-var">$pagefile</span>, <span class="php-var">$maxLength</span> = <span class="php-num">25</span>) {
</span><span id="270" class="l"><a class="l" href="#270">270: </a>        <span class="php-var">$displayName</span> = <span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">basename</span>;
</span><span id="271" class="l"><a class="l" href="#271">271: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;noShortName) <span class="php-keyword1">return</span> <span class="php-var">$displayName</span>;
</span><span id="272" class="l"><a class="l" href="#272">272: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">strlen</span>(<span class="php-var">$displayName</span>) &gt; <span class="php-var">$maxLength</span>) {
</span><span id="273" class="l"><a class="l" href="#273">273: </a>            <span class="php-var">$ext</span> = <span class="php-quote">&quot;.</span><span class="php-var">$pagefile</span><span class="php-quote">-&gt;ext&quot;</span>;
</span><span id="274" class="l"><a class="l" href="#274">274: </a>            <span class="php-var">$maxLength</span> -= (<span class="php-keyword2">strlen</span>(<span class="php-var">$ext</span>) + <span class="php-num">1</span>);
</span><span id="275" class="l"><a class="l" href="#275">275: </a>            <span class="php-var">$displayName</span> = <span class="php-keyword2">basename</span>(<span class="php-var">$displayName</span>, <span class="php-var">$ext</span>);
</span><span id="276" class="l"><a class="l" href="#276">276: </a>            <span class="php-var">$displayName</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$displayName</span>, <span class="php-num">0</span>, <span class="php-var">$maxLength</span>);
</span><span id="277" class="l"><a class="l" href="#277">277: </a>            <span class="php-var">$displayName</span> .= <span class="php-quote">&quot;&amp;hellip;&quot;</span> . <span class="php-keyword2">ltrim</span>(<span class="php-var">$ext</span>, <span class="php-quote">'.'</span>);
</span><span id="278" class="l"><a class="l" href="#278">278: </a>        }
</span><span id="279" class="l"><a class="l" href="#279">279: </a>        <span class="php-keyword1">return</span> <span class="php-var">$displayName</span>;    
</span><span id="280" class="l"><a class="l" href="#280">280: </a>    }
</span><span id="281" class="l"><a class="l" href="#281">281: </a>
</span><span id="282" class="l"><a class="l" href="#282">282: </a>    <span class="php-comment">/**
</span></span><span id="283" class="l"><a class="l" href="#283">283: </a><span class="php-comment">     * Render markup for a file item
</span></span><span id="284" class="l"><a class="l" href="#284">284: </a><span class="php-comment">     * 
</span></span><span id="285" class="l"><a class="l" href="#285">285: </a><span class="php-comment">     * @param Pagefile $pagefile
</span></span><span id="286" class="l"><a class="l" href="#286">286: </a><span class="php-comment">     * @param string $id
</span></span><span id="287" class="l"><a class="l" href="#287">287: </a><span class="php-comment">     * @param int $n
</span></span><span id="288" class="l"><a class="l" href="#288">288: </a><span class="php-comment">     * @return string
</span></span><span id="289" class="l"><a class="l" href="#289">289: </a><span class="php-comment">     * 
</span></span><span id="290" class="l"><a class="l" href="#290">290: </a><span class="php-comment">     */</span>
</span><span id="291" class="l"><a class="l" href="#291">291: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____renderItem" href="#____renderItem">___renderItem</a>(<span class="php-var">$pagefile</span>, <span class="php-var">$id</span>, <span class="php-var">$n</span>) {
</span><span id="292" class="l"><a class="l" href="#292">292: </a>    
</span><span id="293" class="l"><a class="l" href="#293">293: </a>        <span class="php-var">$displayName</span> = <span class="php-var">$this</span>-&gt;getDisplayBasename(<span class="php-var">$pagefile</span>);
</span><span id="294" class="l"><a class="l" href="#294">294: </a>    
</span><span id="295" class="l"><a class="l" href="#295">295: </a>        <span class="php-var">$out</span> = 
</span><span id="296" class="l"><a class="l" href="#296">296: </a>            <span class="php-quote">&quot;\n\t\t&lt;p class='InputfieldFileInfo InputfieldItemHeader ui-state-default ui-widget-header'&gt;&quot;</span> . 
</span><span id="297" class="l"><a class="l" href="#297">297: </a>            <span class="php-quote">&quot;\n\t\t\t&quot;</span> . wireIconMarkupFile(<span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">basename</span>, <span class="php-quote">&quot;fa-fw HideIfEmpty&quot;</span>) . 
</span><span id="298" class="l"><a class="l" href="#298">298: </a>            <span class="php-quote">&quot;\n\t\t\t&lt;a class='InputfieldFileName' title='</span><span class="php-var">$pagefile</span><span class="php-quote">-&gt;basename' target='_blank' href='</span><span class="php-var">{$pagefile-&gt;url}</span><span class="php-quote">'&gt;</span><span class="php-var">$displayName</span><span class="php-quote">&lt;/a&gt; &quot;</span> . 
</span><span id="299" class="l"><a class="l" href="#299">299: </a>            <span class="php-quote">&quot;\n\t\t\t&lt;span class='InputfieldFileStats'&gt;&quot;</span> . <span class="php-keyword2">str_replace</span>(<span class="php-quote">' '</span>, <span class="php-quote">'&amp;nbsp;'</span>, <span class="php-var">$pagefile</span>-&gt;filesizeStr) . <span class="php-quote">&quot;&lt;/span&gt; &quot;</span>;
</span><span id="300" class="l"><a class="l" href="#300">300: </a>        
</span><span id="301" class="l"><a class="l" href="#301">301: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;renderValueMode) <span class="php-var">$out</span> .=
</span><span id="302" class="l"><a class="l" href="#302">302: </a>            <span class="php-quote">&quot;\n\t\t\t&lt;label class='InputfieldFileDelete'&gt;&quot;</span> . 
</span><span id="303" class="l"><a class="l" href="#303">303: </a>                <span class="php-quote">&quot;&lt;input type='checkbox' name='delete_</span><span class="php-var">$id</span><span class="php-quote">' value='1' title='&quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Delete'</span>) . <span class="php-quote">&quot;' /&gt;&quot;</span> . 
</span><span id="304" class="l"><a class="l" href="#304">304: </a>                <span class="php-quote">&quot;&lt;i class='fa fa-fw fa-trash'&gt;&lt;/i&gt;&lt;/label&gt;&quot;</span>;
</span><span id="305" class="l"><a class="l" href="#305">305: </a>        
</span><span id="306" class="l"><a class="l" href="#306">306: </a>        <span class="php-var">$out</span> .= 
</span><span id="307" class="l"><a class="l" href="#307">307: </a>            <span class="php-quote">&quot;\n\t\t&lt;/p&gt;&quot;</span> . 
</span><span id="308" class="l"><a class="l" href="#308">308: </a>            <span class="php-quote">&quot;\n\t\t&lt;div class='InputfieldFileData description ui-widget-content'&gt;&quot;</span> . 
</span><span id="309" class="l"><a class="l" href="#309">309: </a>            <span class="php-quote">&quot;\n\t\t\t&quot;</span> . <span class="php-var">$this</span>-&gt;renderItemDescriptionField(<span class="php-var">$pagefile</span>, <span class="php-var">$id</span>, <span class="php-var">$n</span>);
</span><span id="310" class="l"><a class="l" href="#310">310: </a>        
</span><span id="311" class="l"><a class="l" href="#311">311: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;renderValueMode) <span class="php-var">$out</span> .= 
</span><span id="312" class="l"><a class="l" href="#312">312: </a>            <span class="php-quote">&quot;\n\t\t\t&lt;input class='InputfieldFileSort' type='text' name='sort_</span><span class="php-var">$id</span><span class="php-quote">' value='</span><span class="php-var">$n</span><span class="php-quote">' /&gt;&quot;</span>;
</span><span id="313" class="l"><a class="l" href="#313">313: </a>        
</span><span id="314" class="l"><a class="l" href="#314">314: </a>        <span class="php-var">$out</span> .= 
</span><span id="315" class="l"><a class="l" href="#315">315: </a>            <span class="php-quote">&quot;\n\t\t&lt;/div&gt;&quot;</span>;
</span><span id="316" class="l"><a class="l" href="#316">316: </a>
</span><span id="317" class="l"><a class="l" href="#317">317: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="318" class="l"><a class="l" href="#318">318: </a>    }
</span><span id="319" class="l"><a class="l" href="#319">319: </a>
</span><span id="320" class="l"><a class="l" href="#320">320: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_renderItemWrap" href="#_renderItemWrap">renderItemWrap</a>(<span class="php-var">$out</span>) {
</span><span id="321" class="l"><a class="l" href="#321">321: </a>        <span class="php-comment">// note: using currentItem rather than a new argument since there are now a few modules extending</span>
</span><span id="322" class="l"><a class="l" href="#322">322: </a>        <span class="php-comment">// this one and if they implement their own calls to this method or version of this method then </span>
</span><span id="323" class="l"><a class="l" href="#323">323: </a>        <span class="php-comment">// they will get strict notices from php if we add a new argument here. </span>
</span><span id="324" class="l"><a class="l" href="#324">324: </a>        <span class="php-var">$item</span> = <span class="php-var">$this</span>-&gt;currentItem; 
</span><span id="325" class="l"><a class="l" href="#325">325: </a>        <span class="php-var">$id</span> = <span class="php-var">$item</span> &amp;&amp; !<span class="php-var">$this</span>-&gt;renderValueMode ? <span class="php-quote">&quot; id='file_</span><span class="php-var">$item</span><span class="php-quote">-&gt;hash'&quot;</span> : <span class="php-quote">&quot;&quot;</span>;
</span><span id="326" class="l"><a class="l" href="#326">326: </a>        <span class="php-keyword1">return</span>  <span class="php-quote">&quot;\n\t&lt;li</span><span class="php-var">$id</span><span class="php-quote"> class='</span><span class="php-var">{$this-&gt;itemClass}</span><span class="php-quote">'&gt;</span><span class="php-var">$out</span><span class="php-quote">\n\t&lt;/li&gt;&quot;</span>;
</span><span id="327" class="l"><a class="l" href="#327">327: </a>    }
</span><span id="328" class="l"><a class="l" href="#328">328: </a>
</span><span id="329" class="l"><a class="l" href="#329">329: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____renderList" href="#____renderList">___renderList</a>(<span class="php-var">$value</span>) {
</span><span id="330" class="l"><a class="l" href="#330">330: </a>
</span><span id="331" class="l"><a class="l" href="#331">331: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$value</span>) <span class="php-keyword1">return</span> <span class="php-quote">''</span>;
</span><span id="332" class="l"><a class="l" href="#332">332: </a>        <span class="php-var">$out</span> = <span class="php-quote">''</span>;
</span><span id="333" class="l"><a class="l" href="#333">333: </a>        <span class="php-var">$n</span> = <span class="php-num">0</span>; 
</span><span id="334" class="l"><a class="l" href="#334">334: </a>        
</span><span id="335" class="l"><a class="l" href="#335">335: </a>        
</span><span id="336" class="l"><a class="l" href="#336">336: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;renderValueMode) {
</span><span id="337" class="l"><a class="l" href="#337">337: </a>            <span class="php-comment">// if just rendering the files list (as opposed to saving it), delete any temp files that may have accumulated</span>
</span><span id="338" class="l"><a class="l" href="#338">338: </a>            <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;overwrite &amp;&amp; !<span class="php-keyword2">count</span>(<span class="php-var">$_POST</span>) &amp;&amp; !<span class="php-var">$this</span>-&gt;isAjax &amp;&amp; !<span class="php-var">$this</span>-&gt;uploadOnlyMode) {
</span><span id="339" class="l"><a class="l" href="#339">339: </a>                <span class="php-comment">// don't delete files when in render single field or fields mode</span>
</span><span id="340" class="l"><a class="l" href="#340">340: </a>                <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'input'</span>)-&gt;get(<span class="php-quote">'field'</span>) &amp;&amp; !<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'input'</span>)-&gt;get(<span class="php-quote">'fields'</span>)) {
</span><span id="341" class="l"><a class="l" href="#341">341: </a>                    <span class="php-var">$value</span>-&gt;deleteAllTemp();
</span><span id="342" class="l"><a class="l" href="#342">342: </a>                }
</span><span id="343" class="l"><a class="l" href="#343">343: </a>            }
</span><span id="344" class="l"><a class="l" href="#344">344: </a>        }
</span><span id="345" class="l"><a class="l" href="#345">345: </a>
</span><span id="346" class="l"><a class="l" href="#346">346: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;uploadOnlyMode &amp;&amp; WireArray::iterable(<span class="php-var">$value</span>)) {
</span><span id="347" class="l"><a class="l" href="#347">347: </a>            <span class="php-keyword1">foreach</span>(<span class="php-var">$value</span> <span class="php-keyword1">as</span> <span class="php-var">$k</span> =&gt; <span class="php-var">$pagefile</span>) {
</span><span id="348" class="l"><a class="l" href="#348">348: </a>                <span class="php-var">$id</span> = <span class="php-var">$this</span>-&gt;pagefileId(<span class="php-var">$pagefile</span>);
</span><span id="349" class="l"><a class="l" href="#349">349: </a>                <span class="php-var">$this</span>-&gt;currentItem = <span class="php-var">$pagefile</span>;
</span><span id="350" class="l"><a class="l" href="#350">350: </a>                <span class="php-var">$out</span> .= <span class="php-var">$this</span>-&gt;renderItemWrap(<span class="php-var">$this</span>-&gt;renderItem(<span class="php-var">$pagefile</span>, <span class="php-var">$id</span>, <span class="php-var">$n</span>++));
</span><span id="351" class="l"><a class="l" href="#351">351: </a>            }
</span><span id="352" class="l"><a class="l" href="#352">352: </a>        }
</span><span id="353" class="l"><a class="l" href="#353">353: </a>
</span><span id="354" class="l"><a class="l" href="#354">354: </a>        <span class="php-var">$class</span> = <span class="php-quote">'InputfieldFileList ui-helper-clearfix'</span>;
</span><span id="355" class="l"><a class="l" href="#355">355: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;overwrite &amp;&amp; !<span class="php-var">$this</span>-&gt;renderValueMode) <span class="php-var">$class</span> .= <span class="php-quote">&quot; InputfieldFileOverwrite&quot;</span>;
</span><span id="356" class="l"><a class="l" href="#356">356: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$out</span>) <span class="php-var">$out</span> = <span class="php-quote">&quot;\n&lt;ul class='</span><span class="php-var">$class</span><span class="php-quote">'&gt;</span><span class="php-var">$out</span><span class="php-quote">\n&lt;/ul&gt;&quot;</span>;
</span><span id="357" class="l"><a class="l" href="#357">357: </a>        
</span><span id="358" class="l"><a class="l" href="#358">358: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="359" class="l"><a class="l" href="#359">359: </a>    }
</span><span id="360" class="l"><a class="l" href="#360">360: </a>
</span><span id="361" class="l"><a class="l" href="#361">361: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____renderUpload" href="#____renderUpload">___renderUpload</a>(<span class="php-var">$value</span>) {
</span><span id="362" class="l"><a class="l" href="#362">362: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;noUpload || <span class="php-var">$this</span>-&gt;renderValueMode) <span class="php-keyword1">return</span> <span class="php-quote">''</span>;
</span><span id="363" class="l"><a class="l" href="#363">363: </a>
</span><span id="364" class="l"><a class="l" href="#364">364: </a>        <span class="php-comment">// enables user to choose more than one file</span>
</span><span id="365" class="l"><a class="l" href="#365">365: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles != <span class="php-num">1</span>) <span class="php-var">$this</span>-&gt;setAttribute(<span class="php-quote">'multiple'</span>, <span class="php-quote">'multiple'</span>); 
</span><span id="366" class="l"><a class="l" href="#366">366: </a>
</span><span id="367" class="l"><a class="l" href="#367">367: </a>        <span class="php-var">$attrs</span> = <span class="php-var">$this</span>-&gt;getAttributes();
</span><span id="368" class="l"><a class="l" href="#368">368: </a>        <span class="php-keyword1">unset</span>(<span class="php-var">$attrs</span>[<span class="php-quote">'value'</span>]); 
</span><span id="369" class="l"><a class="l" href="#369">369: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$attrs</span>[<span class="php-quote">'name'</span>], -<span class="php-num">1</span>) != <span class="php-quote">']'</span>) <span class="php-var">$attrs</span>[<span class="php-quote">'name'</span>] .= <span class="php-quote">'[]'</span>;
</span><span id="370" class="l"><a class="l" href="#370">370: </a>
</span><span id="371" class="l"><a class="l" href="#371">371: </a>        <span class="php-var">$extensions</span> = <span class="php-var">$this</span>-&gt;extensions; 
</span><span id="372" class="l"><a class="l" href="#372">372: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;unzip &amp;&amp; !<span class="php-var">$this</span>-&gt;maxFiles) <span class="php-var">$extensions</span> .= <span class="php-quote">' zip'</span>;
</span><span id="373" class="l"><a class="l" href="#373">373: </a>
</span><span id="374" class="l"><a class="l" href="#374">374: </a>        <span class="php-var">$out</span> =  
</span><span id="375" class="l"><a class="l" href="#375">375: </a>            <span class="php-quote">&quot;\n&lt;p data-maxfilesize='</span><span class="php-var">{$this-&gt;maxFilesize}</span><span class="php-quote">' data-extensions='</span><span class="php-var">{$extensions}</span><span class="php-quote">' data-fieldname='</span><span class="php-var">$attrs</span><span class="php-quote">[name]' class='InputfieldFileUpload'&gt;&quot;</span> . 
</span><span id="376" class="l"><a class="l" href="#376">376: </a>            <span class="php-quote">&quot;\n\t&lt;input type='hidden' class='InputfieldFileMaxFiles' value='</span><span class="php-var">{$this-&gt;maxFiles}</span><span class="php-quote">' /&gt;&quot;</span> . 
</span><span id="377" class="l"><a class="l" href="#377">377: </a>            <span class="php-quote">&quot;\n\t&lt;input &quot;</span> . <span class="php-var">$this</span>-&gt;getAttributesString(<span class="php-var">$attrs</span>) . <span class="php-quote">&quot; /&gt;&quot;</span> . 
</span><span id="378" class="l"><a class="l" href="#378">378: </a>            <span class="php-quote">&quot;\n\t&lt;span class='InputfieldFileValidExtensions detail'&gt;&quot;</span> . <span class="php-keyword2">htmlspecialchars</span>(<span class="php-keyword2">str_replace</span>(<span class="php-quote">' '</span>, <span class="php-quote">', '</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$extensions</span>))) . <span class="php-quote">&quot;&lt;/span&gt;&quot;</span>;
</span><span id="379" class="l"><a class="l" href="#379">379: </a>        
</span><span id="380" class="l"><a class="l" href="#380">380: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;noAjax) <span class="php-var">$out</span> .= 
</span><span id="381" class="l"><a class="l" href="#381">381: </a>            <span class="php-quote">&quot;\n\t&lt;span class='AjaxUploadDropHere description'&gt;&lt;i class='fa fa-upload'&gt;&lt;/i&gt;&amp;nbsp; &quot;</span> . <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'drag and drop files in here'</span>) . <span class="php-quote">&quot;&lt;/span&gt;&quot;</span>; <span class="php-comment">// Ajax upload instruction</span>
</span><span id="382" class="l"><a class="l" href="#382">382: </a>        
</span><span id="383" class="l"><a class="l" href="#383">383: </a>        <span class="php-var">$out</span> .= <span class="php-quote">&quot;\n&lt;/p&gt;&quot;</span>;
</span><span id="384" class="l"><a class="l" href="#384">384: </a>
</span><span id="385" class="l"><a class="l" href="#385">385: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="386" class="l"><a class="l" href="#386">386: </a>    }
</span><span id="387" class="l"><a class="l" href="#387">387: </a>
</span><span id="388" class="l"><a class="l" href="#388">388: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_renderReady" href="#_renderReady">renderReady</a>(Inputfield <span class="php-var">$parent</span> = <span class="php-keyword1">null</span>, <span class="php-var">$renderValueMode</span> = <span class="php-keyword1">false</span>) {
</span><span id="389" class="l"><a class="l" href="#389">389: </a>        <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldNoFocus'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="390" class="l"><a class="l" href="#390">390: </a>        <span class="php-keyword1">return</span> parent::renderReady(<span class="php-var">$parent</span>, <span class="php-var">$renderValueMode</span>); 
</span><span id="391" class="l"><a class="l" href="#391">391: </a>    }
</span><span id="392" class="l"><a class="l" href="#392">392: </a>
</span><span id="393" class="l"><a class="l" href="#393">393: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____render" href="#____render">___render</a>() {
</span><span id="394" class="l"><a class="l" href="#394">394: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;extensions) <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'No file extensions are defined for this field.'</span>)); 
</span><span id="395" class="l"><a class="l" href="#395">395: </a>        <span class="php-var">$numItems</span> = <span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;value);
</span><span id="396" class="l"><a class="l" href="#396">396: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;allowCollapsedItems()) <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldItemListCollapse'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="397" class="l"><a class="l" href="#397">397: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$numItems</span> == <span class="php-num">0</span>) {
</span><span id="398" class="l"><a class="l" href="#398">398: </a>            <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldFileEmpty'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="399" class="l"><a class="l" href="#399">399: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$numItems</span> == <span class="php-num">1</span>) {
</span><span id="400" class="l"><a class="l" href="#400">400: </a>            <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldFileSingle'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="401" class="l"><a class="l" href="#401">401: </a>        } <span class="php-keyword1">else</span> {
</span><span id="402" class="l"><a class="l" href="#402">402: </a>            <span class="php-var">$this</span>-&gt;addClass(<span class="php-quote">'InputfieldFileMultiple'</span>, <span class="php-quote">'wrapClass'</span>);
</span><span id="403" class="l"><a class="l" href="#403">403: </a>        }
</span><span id="404" class="l"><a class="l" href="#404">404: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;renderList(<span class="php-var">$this</span>-&gt;value) . <span class="php-var">$this</span>-&gt;renderUpload(<span class="php-var">$this</span>-&gt;value);
</span><span id="405" class="l"><a class="l" href="#405">405: </a>    }
</span><span id="406" class="l"><a class="l" href="#406">406: </a>    
</span><span id="407" class="l"><a class="l" href="#407">407: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____renderValue" href="#____renderValue">___renderValue</a>() {
</span><span id="408" class="l"><a class="l" href="#408">408: </a>        <span class="php-var">$this</span>-&gt;renderValueMode = <span class="php-keyword1">true</span>; 
</span><span id="409" class="l"><a class="l" href="#409">409: </a>        <span class="php-var">$out</span> = <span class="php-var">$this</span>-&gt;render();
</span><span id="410" class="l"><a class="l" href="#410">410: </a>        <span class="php-var">$this</span>-&gt;renderValueMode = <span class="php-keyword1">false</span>;
</span><span id="411" class="l"><a class="l" href="#411">411: </a>        <span class="php-keyword1">return</span> <span class="php-var">$out</span>; 
</span><span id="412" class="l"><a class="l" href="#412">412: </a>    }
</span><span id="413" class="l"><a class="l" href="#413">413: </a>
</span><span id="414" class="l"><a class="l" href="#414">414: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____fileAdded" href="#____fileAdded">___fileAdded</a>(Pagefile <span class="php-var">$pagefile</span>) {
</span><span id="415" class="l"><a class="l" href="#415">415: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;noUpload) <span class="php-keyword1">return</span>;
</span><span id="416" class="l"><a class="l" href="#416">416: </a>        
</span><span id="417" class="l"><a class="l" href="#417">417: </a>        <span class="php-var">$isValid</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;validateFile(<span class="php-var">$pagefile</span>-&gt;filename(), <span class="php-keyword1">array</span>(
</span><span id="418" class="l"><a class="l" href="#418">418: </a>            <span class="php-quote">'pagefile'</span> =&gt; <span class="php-var">$pagefile</span>
</span><span id="419" class="l"><a class="l" href="#419">419: </a>        ));
</span><span id="420" class="l"><a class="l" href="#420">420: </a>        
</span><span id="421" class="l"><a class="l" href="#421">421: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$isValid</span> === <span class="php-keyword1">false</span>) {
</span><span id="422" class="l"><a class="l" href="#422">422: </a>            <span class="php-var">$errors</span> = <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'sanitizer'</span>)-&gt;errors(<span class="php-quote">'clear array'</span>);
</span><span id="423" class="l"><a class="l" href="#423">423: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> WireException(
</span><span id="424" class="l"><a class="l" href="#424">424: </a>                <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'File failed validation'</span>) . 
</span><span id="425" class="l"><a class="l" href="#425">425: </a>                (<span class="php-keyword2">count</span>(<span class="php-var">$errors</span>) ? <span class="php-quote">&quot;: &quot;</span> . <span class="php-keyword2">implode</span>(<span class="php-quote">', '</span>, <span class="php-var">$errors</span>) : <span class="php-quote">&quot;&quot;</span>)
</span><span id="426" class="l"><a class="l" href="#426">426: </a>            );
</span><span id="427" class="l"><a class="l" href="#427">427: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$isValid</span> === <span class="php-keyword1">null</span>) {
</span><span id="428" class="l"><a class="l" href="#428">428: </a>            <span class="php-comment">// there was no validator available for this file type</span>
</span><span id="429" class="l"><a class="l" href="#429">429: </a>        }
</span><span id="430" class="l"><a class="l" href="#430">430: </a>
</span><span id="431" class="l"><a class="l" href="#431">431: </a>        <span class="php-var">$message</span> = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Added file:'</span>) . <span class="php-quote">&quot; </span><span class="php-var">{$pagefile-&gt;basename}</span><span class="php-quote">&quot;</span>; <span class="php-comment">// Label that precedes an added filename</span>
</span><span id="432" class="l"><a class="l" href="#432">432: </a>
</span><span id="433" class="l"><a class="l" href="#433">433: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;isAjax &amp;&amp; !<span class="php-var">$this</span>-&gt;noAjax) {
</span><span id="434" class="l"><a class="l" href="#434">434: </a>            <span class="php-var">$n</span> = <span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;value); 
</span><span id="435" class="l"><a class="l" href="#435">435: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$n</span>) <span class="php-var">$n</span>--; <span class="php-comment">// for sorting</span>
</span><span id="436" class="l"><a class="l" href="#436">436: </a>            <span class="php-var">$this</span>-&gt;currentItem = <span class="php-var">$pagefile</span>; 
</span><span id="437" class="l"><a class="l" href="#437">437: </a>            <span class="php-var">$markup</span> = <span class="php-var">$this</span>-&gt;renderItemWrap(<span class="php-var">$this</span>-&gt;renderItem(<span class="php-var">$pagefile</span>, <span class="php-var">$this</span>-&gt;pagefileId(<span class="php-var">$pagefile</span>), <span class="php-var">$n</span>));    
</span><span id="438" class="l"><a class="l" href="#438">438: </a>            <span class="php-var">$this</span>-&gt;ajaxResponse(<span class="php-keyword1">false</span>, <span class="php-var">$message</span>, <span class="php-var">$pagefile</span>-&gt;url, <span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">filesize</span>(), <span class="php-var">$markup</span>); 
</span><span id="439" class="l"><a class="l" href="#439">439: </a>        } <span class="php-keyword1">else</span> {
</span><span id="440" class="l"><a class="l" href="#440">440: </a>            <span class="php-var">$this</span>-&gt;message(<span class="php-var">$message</span>); 
</span><span id="441" class="l"><a class="l" href="#441">441: </a>        }
</span><span id="442" class="l"><a class="l" href="#442">442: </a>    }
</span><span id="443" class="l"><a class="l" href="#443">443: </a>
</span><span id="444" class="l"><a class="l" href="#444">444: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____processInputAddFile" href="#____processInputAddFile">___processInputAddFile</a>(<span class="php-var">$filename</span>) {
</span><span id="445" class="l"><a class="l" href="#445">445: </a>
</span><span id="446" class="l"><a class="l" href="#446">446: </a>        <span class="php-var">$total</span> = <span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;value); 
</span><span id="447" class="l"><a class="l" href="#447">447: </a>        <span class="php-var">$description</span> = <span class="php-quote">''</span>;
</span><span id="448" class="l"><a class="l" href="#448">448: </a>        <span class="php-var">$tags</span> = <span class="php-quote">''</span>;
</span><span id="449" class="l"><a class="l" href="#449">449: </a>        <span class="php-var">$rm</span> = <span class="php-keyword1">null</span>;
</span><span id="450" class="l"><a class="l" href="#450">450: </a>
</span><span id="451" class="l"><a class="l" href="#451">451: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles &gt; <span class="php-num">1</span> &amp;&amp; <span class="php-var">$total</span> &gt;= <span class="php-var">$this</span>-&gt;maxFiles) <span class="php-keyword1">return</span>; 
</span><span id="452" class="l"><a class="l" href="#452">452: </a>        
</span><span id="453" class="l"><a class="l" href="#453">453: </a>        <span class="php-comment">// allow replacement of file if maxFiles is 1</span>
</span><span id="454" class="l"><a class="l" href="#454">454: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles == <span class="php-num">1</span> &amp;&amp; <span class="php-var">$total</span>) {
</span><span id="455" class="l"><a class="l" href="#455">455: </a>            <span class="php-var">$pagefile</span> = <span class="php-var">$this</span>-&gt;value-&gt;first();
</span><span id="456" class="l"><a class="l" href="#456">456: </a>            <span class="php-var">$description</span> = <span class="php-var">$pagefile</span>-&gt;description;
</span><span id="457" class="l"><a class="l" href="#457">457: </a>            <span class="php-var">$tags</span> = <span class="php-var">$pagefile</span>-&gt;tags;
</span><span id="458" class="l"><a class="l" href="#458">458: </a>            <span class="php-var">$rm</span> = <span class="php-keyword1">true</span>; 
</span><span id="459" class="l"><a class="l" href="#459">459: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$filename</span> == <span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">basename</span>) {
</span><span id="460" class="l"><a class="l" href="#460">460: </a>                <span class="php-comment">// use overwrite mode rather than replace mode when single file and same filename</span>
</span><span id="461" class="l"><a class="l" href="#461">461: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;overwrite) <span class="php-var">$rm</span> = <span class="php-keyword1">false</span>;
</span><span id="462" class="l"><a class="l" href="#462">462: </a>            }
</span><span id="463" class="l"><a class="l" href="#463">463: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$rm</span>) {
</span><span id="464" class="l"><a class="l" href="#464">464: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;overwrite) <span class="php-var">$this</span>-&gt;processInputDeleteFile(<span class="php-var">$pagefile</span>);
</span><span id="465" class="l"><a class="l" href="#465">465: </a>                <span class="php-var">$this</span>-&gt;singleFileReplacement = <span class="php-keyword1">true</span>; 
</span><span id="466" class="l"><a class="l" href="#466">466: </a>            }
</span><span id="467" class="l"><a class="l" href="#467">467: </a>        } 
</span><span id="468" class="l"><a class="l" href="#468">468: </a>    
</span><span id="469" class="l"><a class="l" href="#469">469: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;overwrite) {
</span><span id="470" class="l"><a class="l" href="#470">470: </a>            <span class="php-var">$pagefile</span> = <span class="php-var">$this</span>-&gt;value-&gt;get(<span class="php-var">$filename</span>); 
</span><span id="471" class="l"><a class="l" href="#471">471: </a>            <span class="php-keyword2">clearstatcache</span>();
</span><span id="472" class="l"><a class="l" href="#472">472: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$pagefile</span>) {
</span><span id="473" class="l"><a class="l" href="#473">473: </a>                <span class="php-comment">// already have a file of the same name</span>
</span><span id="474" class="l"><a class="l" href="#474">474: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$pagefile</span> <span class="php-keyword1">instanceof</span> Pageimage) <span class="php-var">$pagefile</span>-&gt;removeVariations(); 
</span><span id="475" class="l"><a class="l" href="#475">475: </a>                <span class="php-var">$description</span> = <span class="php-var">$pagefile</span>-&gt;description;
</span><span id="476" class="l"><a class="l" href="#476">476: </a>                <span class="php-var">$tags</span> = <span class="php-var">$pagefile</span>-&gt;tags;
</span><span id="477" class="l"><a class="l" href="#477">477: </a>            } <span class="php-keyword1">else</span> {
</span><span id="478" class="l"><a class="l" href="#478">478: </a>                <span class="php-comment">// we don't have a file with the same name as the one that was uploaded</span>
</span><span id="479" class="l"><a class="l" href="#479">479: </a>                <span class="php-comment">// file must be in another files field on the same page, that could be problematic</span>
</span><span id="480" class="l"><a class="l" href="#480">480: </a>                <span class="php-var">$ul</span> = <span class="php-var">$this</span>-&gt;getWireUpload();
</span><span id="481" class="l"><a class="l" href="#481">481: </a>                <span class="php-comment">// see if any files were overwritten that weren't part of our field</span>
</span><span id="482" class="l"><a class="l" href="#482">482: </a>                <span class="php-comment">// if so, we need to restore them and issue an error</span>
</span><span id="483" class="l"><a class="l" href="#483">483: </a>                <span class="php-var">$err</span> = <span class="php-keyword1">false</span>;
</span><span id="484" class="l"><a class="l" href="#484">484: </a>                <span class="php-keyword1">foreach</span>(<span class="php-var">$ul</span>-&gt;getOverwrittenFiles() <span class="php-keyword1">as</span> <span class="php-var">$bakFile</span> =&gt; <span class="php-var">$newFile</span>) {
</span><span id="485" class="l"><a class="l" href="#485">485: </a>                    <span class="php-keyword1">if</span>(<span class="php-keyword2">basename</span>(<span class="php-var">$newFile</span>) != <span class="php-var">$filename</span>) <span class="php-keyword1">continue</span>; 
</span><span id="486" class="l"><a class="l" href="#486">486: </a>                    <span class="php-keyword2">unlink</span>(<span class="php-var">$newFile</span>);   
</span><span id="487" class="l"><a class="l" href="#487">487: </a>                    <span class="php-keyword2">rename</span>(<span class="php-var">$bakFile</span>, <span class="php-var">$newFile</span>); <span class="php-comment">// restore</span>
</span><span id="488" class="l"><a class="l" href="#488">488: </a>                    <span class="php-var">$ul</span>-&gt;error(<span class="php-keyword2">sprintf</span>(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Refused file %s because it is already on the file system and owned by a different field.'</span>), <span class="php-var">$filename</span>)); 
</span><span id="489" class="l"><a class="l" href="#489">489: </a>                    <span class="php-var">$err</span> = <span class="php-keyword1">true</span>; 
</span><span id="490" class="l"><a class="l" href="#490">490: </a>                }
</span><span id="491" class="l"><a class="l" href="#491">491: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$err</span>) <span class="php-keyword1">return</span>;
</span><span id="492" class="l"><a class="l" href="#492">492: </a>            }
</span><span id="493" class="l"><a class="l" href="#493">493: </a>        }
</span><span id="494" class="l"><a class="l" href="#494">494: </a>
</span><span id="495" class="l"><a class="l" href="#495">495: </a>        <span class="php-var">$this</span>-&gt;value-&gt;add(<span class="php-var">$filename</span>); 
</span><span id="496" class="l"><a class="l" href="#496">496: </a>        <span class="php-var">$item</span> = <span class="php-var">$this</span>-&gt;value-&gt;last();
</span><span id="497" class="l"><a class="l" href="#497">497: </a>        
</span><span id="498" class="l"><a class="l" href="#498">498: </a>        <span class="php-keyword1">try</span> {
</span><span id="499" class="l"><a class="l" href="#499">499: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$description</span>) <span class="php-var">$item</span>-&gt;description = <span class="php-var">$description</span>;
</span><span id="500" class="l"><a class="l" href="#500">500: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$tags</span>) <span class="php-var">$item</span>-&gt;tags = <span class="php-var">$tags</span>;
</span><span id="501" class="l"><a class="l" href="#501">501: </a>            <span class="php-comment">// items saved in ajax or uploadOnly mode are temporary till saved in non-ajax/non-uploadOnly</span>
</span><span id="502" class="l"><a class="l" href="#502">502: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;isAjax &amp;&amp; !<span class="php-var">$this</span>-&gt;overwrite) <span class="php-var">$item</span>-&gt;isTemp(<span class="php-keyword1">true</span>); 
</span><span id="503" class="l"><a class="l" href="#503">503: </a>            <span class="php-var">$this</span>-&gt;fileAdded(<span class="php-var">$item</span>); 
</span><span id="504" class="l"><a class="l" href="#504">504: </a>        } <span class="php-keyword1">catch</span>(\Exception <span class="php-var">$e</span>) {
</span><span id="505" class="l"><a class="l" href="#505">505: </a>            <span class="php-var">$item</span>-&gt;<span class="php-keyword2">unlink</span>();
</span><span id="506" class="l"><a class="l" href="#506">506: </a>            <span class="php-var">$this</span>-&gt;value-&gt;remove(<span class="php-var">$item</span>); 
</span><span id="507" class="l"><a class="l" href="#507">507: </a>            <span class="php-keyword1">throw</span> <span class="php-keyword1">new</span> WireException(<span class="php-var">$e</span>-&gt;getMessage()); 
</span><span id="508" class="l"><a class="l" href="#508">508: </a>        }
</span><span id="509" class="l"><a class="l" href="#509">509: </a>    }
</span><span id="510" class="l"><a class="l" href="#510">510: </a>
</span><span id="511" class="l"><a class="l" href="#511">511: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____processInputDeleteFile" href="#____processInputDeleteFile">___processInputDeleteFile</a>(Pagefile <span class="php-var">$pagefile</span>) {
</span><span id="512" class="l"><a class="l" href="#512">512: </a>        <span class="php-var">$this</span>-&gt;message(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Deleted file:&quot;</span>) . <span class="php-quote">&quot; </span><span class="php-var">$pagefile</span><span class="php-quote">&quot;</span>); <span class="php-comment">// Label that precedes a deleted filename</span>
</span><span id="513" class="l"><a class="l" href="#513">513: </a>        <span class="php-var">$this</span>-&gt;value-&gt;<span class="php-keyword2">delete</span>(<span class="php-var">$pagefile</span>); 
</span><span id="514" class="l"><a class="l" href="#514">514: </a>        <span class="php-var">$this</span>-&gt;trackChange(<span class="php-quote">'value'</span>);
</span><span id="515" class="l"><a class="l" href="#515">515: </a>    }
</span><span id="516" class="l"><a class="l" href="#516">516: </a>
</span><span id="517" class="l"><a class="l" href="#517">517: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="____processInputFile" href="#____processInputFile">___processInputFile</a>(WireInputData <span class="php-var">$input</span>, Pagefile <span class="php-var">$pagefile</span>, <span class="php-var">$n</span>) {
</span><span id="518" class="l"><a class="l" href="#518">518: </a>        
</span><span id="519" class="l"><a class="l" href="#519">519: </a>
</span><span id="520" class="l"><a class="l" href="#520">520: </a>        <span class="php-var">$id</span> = <span class="php-var">$this</span>-&gt;name . <span class="php-quote">'_'</span> . <span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">hash</span>;
</span><span id="521" class="l"><a class="l" href="#521">521: </a>    
</span><span id="522" class="l"><a class="l" href="#522">522: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;uploadOnlyMode) {
</span><span id="523" class="l"><a class="l" href="#523">523: </a>            <span class="php-comment">// skip files that aren't present as just uploaded</span>
</span><span id="524" class="l"><a class="l" href="#524">524: </a>            <span class="php-var">$key</span> = <span class="php-quote">&quot;sort_</span><span class="php-var">$id</span><span class="php-quote">&quot;</span>;
</span><span id="525" class="l"><a class="l" href="#525">525: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$input</span>-&gt;<span class="php-var">$key</span> === <span class="php-keyword1">null</span>) <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="526" class="l"><a class="l" href="#526">526: </a>        }
</span><span id="527" class="l"><a class="l" href="#527">527: </a>        
</span><span id="528" class="l"><a class="l" href="#528">528: </a>        <span class="php-var">$changed</span> = <span class="php-keyword1">false</span>; 
</span><span id="529" class="l"><a class="l" href="#529">529: </a>        <span class="php-var">$languages</span> = <span class="php-var">$this</span>-&gt;noLang ? <span class="php-keyword1">null</span> : <span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'languages'</span>); 
</span><span id="530" class="l"><a class="l" href="#530">530: </a>        <span class="php-var">$keys</span> = <span class="php-var">$languages</span> ? <span class="php-keyword1">array</span>(<span class="php-quote">'tags'</span>) : <span class="php-keyword1">array</span>(<span class="php-quote">'description'</span>, <span class="php-quote">'tags'</span>); 
</span><span id="531" class="l"><a class="l" href="#531">531: </a>
</span><span id="532" class="l"><a class="l" href="#532">532: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$keys</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span>) { 
</span><span id="533" class="l"><a class="l" href="#533">533: </a>            <span class="php-keyword1">if</span>(<span class="php-keyword1">isset</span>(<span class="php-var">$input</span>[<span class="php-var">$key</span> . <span class="php-quote">'_'</span> . <span class="php-var">$id</span>])) { 
</span><span id="534" class="l"><a class="l" href="#534">534: </a>                <span class="php-var">$value</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$input</span>[<span class="php-var">$key</span> . <span class="php-quote">'_'</span> . <span class="php-var">$id</span>]); 
</span><span id="535" class="l"><a class="l" href="#535">535: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$value</span> != <span class="php-var">$pagefile</span>-&gt;<span class="php-var">$key</span>) {
</span><span id="536" class="l"><a class="l" href="#536">536: </a>                    <span class="php-var">$pagefile</span>-&gt;<span class="php-var">$key</span> = <span class="php-var">$value</span>; 
</span><span id="537" class="l"><a class="l" href="#537">537: </a>                    <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>; 
</span><span id="538" class="l"><a class="l" href="#538">538: </a>                }
</span><span id="539" class="l"><a class="l" href="#539">539: </a>            }
</span><span id="540" class="l"><a class="l" href="#540">540: </a>        }
</span><span id="541" class="l"><a class="l" href="#541">541: </a>
</span><span id="542" class="l"><a class="l" href="#542">542: </a>        <span class="php-comment">// multi-language descriptions</span>
</span><span id="543" class="l"><a class="l" href="#543">543: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$languages</span>) <span class="php-keyword1">foreach</span>(<span class="php-var">$languages</span> <span class="php-keyword1">as</span> <span class="php-var">$language</span>) {
</span><span id="544" class="l"><a class="l" href="#544">544: </a>            <span class="php-keyword1">if</span>(!<span class="php-var">$languages</span>-&gt;editable(<span class="php-var">$language</span>)) <span class="php-keyword1">continue</span>; 
</span><span id="545" class="l"><a class="l" href="#545">545: </a>            <span class="php-var">$key</span> = <span class="php-var">$language</span>-&gt;isDefault() ? <span class="php-quote">&quot;description_</span><span class="php-var">$id</span><span class="php-quote">&quot;</span> : <span class="php-quote">&quot;description</span><span class="php-var">{$language-&gt;id}</span><span class="php-quote">_</span><span class="php-var">$id</span><span class="php-quote">&quot;</span>;
</span><span id="546" class="l"><a class="l" href="#546">546: </a>            <span class="php-keyword1">if</span>(!<span class="php-keyword1">isset</span>(<span class="php-var">$input</span>[<span class="php-var">$key</span>])) <span class="php-keyword1">continue</span>; 
</span><span id="547" class="l"><a class="l" href="#547">547: </a>            <span class="php-var">$value</span> = <span class="php-keyword2">trim</span>(<span class="php-var">$input</span>[<span class="php-var">$key</span>]); 
</span><span id="548" class="l"><a class="l" href="#548">548: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$value</span> != <span class="php-var">$pagefile</span>-&gt;description(<span class="php-var">$language</span>)) {
</span><span id="549" class="l"><a class="l" href="#549">549: </a>                <span class="php-var">$pagefile</span>-&gt;description(<span class="php-var">$language</span>, <span class="php-var">$value</span>); 
</span><span id="550" class="l"><a class="l" href="#550">550: </a>                <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>; 
</span><span id="551" class="l"><a class="l" href="#551">551: </a>            }
</span><span id="552" class="l"><a class="l" href="#552">552: </a>        }
</span><span id="553" class="l"><a class="l" href="#553">553: </a>        
</span><span id="554" class="l"><a class="l" href="#554">554: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;uploadOnlyMode) {
</span><span id="555" class="l"><a class="l" href="#555">555: </a>            <span class="php-var">$sort</span> = <span class="php-keyword1">null</span>;
</span><span id="556" class="l"><a class="l" href="#556">556: </a>            <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>; 
</span><span id="557" class="l"><a class="l" href="#557">557: </a>        } <span class="php-keyword1">else</span> {
</span><span id="558" class="l"><a class="l" href="#558">558: </a>            <span class="php-var">$key</span> = <span class="php-quote">&quot;sort_</span><span class="php-var">$id</span><span class="php-quote">&quot;</span>;
</span><span id="559" class="l"><a class="l" href="#559">559: </a>            <span class="php-var">$sort</span> = <span class="php-var">$input</span>-&gt;<span class="php-var">$key</span>;
</span><span id="560" class="l"><a class="l" href="#560">560: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$sort</span> !== <span class="php-keyword1">null</span>) {
</span><span id="561" class="l"><a class="l" href="#561">561: </a>                <span class="php-var">$sort</span> = (int) <span class="php-var">$sort</span>; 
</span><span id="562" class="l"><a class="l" href="#562">562: </a>                <span class="php-var">$pagefile</span>-&gt;<span class="php-keyword2">sort</span> = <span class="php-var">$sort</span>;
</span><span id="563" class="l"><a class="l" href="#563">563: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$n</span> !== <span class="php-var">$sort</span>) <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>;
</span><span id="564" class="l"><a class="l" href="#564">564: </a>            }
</span><span id="565" class="l"><a class="l" href="#565">565: </a>        }
</span><span id="566" class="l"><a class="l" href="#566">566: </a>
</span><span id="567" class="l"><a class="l" href="#567">567: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword1">isset</span>(<span class="php-var">$input</span>[<span class="php-quote">'delete_'</span> . <span class="php-var">$id</span>])) {
</span><span id="568" class="l"><a class="l" href="#568">568: </a>            <span class="php-var">$this</span>-&gt;processInputDeleteFile(<span class="php-var">$pagefile</span>); 
</span><span id="569" class="l"><a class="l" href="#569">569: </a>            <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>; 
</span><span id="570" class="l"><a class="l" href="#570">570: </a>            
</span><span id="571" class="l"><a class="l" href="#571">571: </a>        } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;isAjax &amp;&amp; !<span class="php-var">$this</span>-&gt;overwrite &amp;&amp; <span class="php-var">$pagefile</span>-&gt;isTemp() &amp;&amp; <span class="php-var">$sort</span> !== <span class="php-keyword1">null</span>) {
</span><span id="572" class="l"><a class="l" href="#572">572: </a>            <span class="php-comment">// if page saved with temporary items when not ajax, those temporary items become non-temp</span>
</span><span id="573" class="l"><a class="l" href="#573">573: </a>            <span class="php-var">$pagefile</span>-&gt;isTemp(<span class="php-keyword1">false</span>);
</span><span id="574" class="l"><a class="l" href="#574">574: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles == <span class="php-num">1</span>) <span class="php-keyword1">while</span>(<span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;value) &gt; <span class="php-num">1</span>) {
</span><span id="575" class="l"><a class="l" href="#575">575: </a>                <span class="php-var">$item</span> = <span class="php-var">$this</span>-&gt;value-&gt;first();
</span><span id="576" class="l"><a class="l" href="#576">576: </a>                <span class="php-var">$this</span>-&gt;value-&gt;remove(<span class="php-var">$item</span>);
</span><span id="577" class="l"><a class="l" href="#577">577: </a>            }
</span><span id="578" class="l"><a class="l" href="#578">578: </a>            <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>;
</span><span id="579" class="l"><a class="l" href="#579">579: </a>        }
</span><span id="580" class="l"><a class="l" href="#580">580: </a>
</span><span id="581" class="l"><a class="l" href="#581">581: </a>        <span class="php-keyword1">return</span> <span class="php-var">$changed</span>; 
</span><span id="582" class="l"><a class="l" href="#582">582: </a>    }
</span><span id="583" class="l"><a class="l" href="#583">583: </a>
</span><span id="584" class="l"><a class="l" href="#584">584: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____processInput" href="#____processInput">___processInput</a>(WireInputData <span class="php-var">$input</span>) {
</span><span id="585" class="l"><a class="l" href="#585">585: </a>        
</span><span id="586" class="l"><a class="l" href="#586">586: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">is_null</span>(<span class="php-var">$this</span>-&gt;value)) <span class="php-var">$this</span>-&gt;value = <span class="php-var">$this</span>-&gt;wire(<span class="php-keyword1">new</span> Pagefiles(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'page'</span>)));
</span><span id="587" class="l"><a class="l" href="#587">587: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;destinationPath) <span class="php-var">$this</span>-&gt;destinationPath = <span class="php-var">$this</span>-&gt;value-&gt;path();
</span><span id="588" class="l"><a class="l" href="#588">588: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;destinationPath || !<span class="php-keyword2">is_dir</span>(<span class="php-var">$this</span>-&gt;destinationPath)) <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;destinationPath is empty or does not exist&quot;</span>));
</span><span id="589" class="l"><a class="l" href="#589">589: </a>        <span class="php-keyword1">if</span>(!<span class="php-keyword2">is_writable</span>(<span class="php-var">$this</span>-&gt;destinationPath)) <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;error(<span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;destinationPath is not writable&quot;</span>));
</span><span id="590" class="l"><a class="l" href="#590">590: </a>
</span><span id="591" class="l"><a class="l" href="#591">591: </a>        <span class="php-var">$changed</span> = <span class="php-keyword1">false</span>; 
</span><span id="592" class="l"><a class="l" href="#592">592: </a>        <span class="php-var">$total</span> = <span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;value); 
</span><span id="593" class="l"><a class="l" href="#593">593: </a>
</span><span id="594" class="l"><a class="l" href="#594">594: </a>        <span class="php-keyword1">if</span>(!<span class="php-var">$this</span>-&gt;noUpload) { 
</span><span id="595" class="l"><a class="l" href="#595">595: </a>
</span><span id="596" class="l"><a class="l" href="#596">596: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles &lt;= <span class="php-num">1</span> || <span class="php-var">$total</span> &lt; <span class="php-var">$this</span>-&gt;maxFiles) { 
</span><span id="597" class="l"><a class="l" href="#597">597: </a>
</span><span id="598" class="l"><a class="l" href="#598">598: </a>                <span class="php-var">$ul</span> = <span class="php-var">$this</span>-&gt;getWireUpload();
</span><span id="599" class="l"><a class="l" href="#599">599: </a>                <span class="php-var">$ul</span>-&gt;setName(<span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'name'</span>)); 
</span><span id="600" class="l"><a class="l" href="#600">600: </a>                <span class="php-var">$ul</span>-&gt;setDestinationPath(<span class="php-var">$this</span>-&gt;destinationPath); 
</span><span id="601" class="l"><a class="l" href="#601">601: </a>                <span class="php-var">$ul</span>-&gt;setOverwrite(<span class="php-var">$this</span>-&gt;overwrite); 
</span><span id="602" class="l"><a class="l" href="#602">602: </a>                <span class="php-var">$ul</span>-&gt;setAllowAjax(<span class="php-var">$this</span>-&gt;noAjax ? <span class="php-keyword1">false</span> : <span class="php-keyword1">true</span>);
</span><span id="603" class="l"><a class="l" href="#603">603: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFilesize) <span class="php-var">$ul</span>-&gt;setMaxFileSize(<span class="php-var">$this</span>-&gt;maxFilesize); 
</span><span id="604" class="l"><a class="l" href="#604">604: </a>
</span><span id="605" class="l"><a class="l" href="#605">605: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles == <span class="php-num">1</span>) {
</span><span id="606" class="l"><a class="l" href="#606">606: </a>                    <span class="php-var">$ul</span>-&gt;setMaxFiles(<span class="php-num">1</span>); 
</span><span id="607" class="l"><a class="l" href="#607">607: </a>
</span><span id="608" class="l"><a class="l" href="#608">608: </a>                } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles) {
</span><span id="609" class="l"><a class="l" href="#609">609: </a>                    <span class="php-var">$maxFiles</span> = <span class="php-var">$this</span>-&gt;maxFiles - <span class="php-var">$total</span>; 
</span><span id="610" class="l"><a class="l" href="#610">610: </a>                    <span class="php-var">$ul</span>-&gt;setMaxFiles(<span class="php-var">$maxFiles</span>); 
</span><span id="611" class="l"><a class="l" href="#611">611: </a>
</span><span id="612" class="l"><a class="l" href="#612">612: </a>                } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;unzip) { 
</span><span id="613" class="l"><a class="l" href="#613">613: </a>                    <span class="php-var">$ul</span>-&gt;setExtractArchives(<span class="php-keyword1">true</span>); 
</span><span id="614" class="l"><a class="l" href="#614">614: </a>                }
</span><span id="615" class="l"><a class="l" href="#615">615: </a>
</span><span id="616" class="l"><a class="l" href="#616">616: </a>                <span class="php-var">$ul</span>-&gt;setValidExtensions(<span class="php-keyword2">explode</span>(<span class="php-quote">' '</span>, <span class="php-keyword2">trim</span>(<span class="php-var">$this</span>-&gt;extensions))); 
</span><span id="617" class="l"><a class="l" href="#617">617: </a>
</span><span id="618" class="l"><a class="l" href="#618">618: </a>                <span class="php-keyword1">foreach</span>(<span class="php-var">$ul</span>-&gt;execute() <span class="php-keyword1">as</span> <span class="php-var">$filename</span>) {
</span><span id="619" class="l"><a class="l" href="#619">619: </a>                    <span class="php-var">$this</span>-&gt;processInputAddFile(<span class="php-var">$filename</span>); 
</span><span id="620" class="l"><a class="l" href="#620">620: </a>                    <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>; 
</span><span id="621" class="l"><a class="l" href="#621">621: </a>                }
</span><span id="622" class="l"><a class="l" href="#622">622: </a>
</span><span id="623" class="l"><a class="l" href="#623">623: </a>                <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;isAjax &amp;&amp; !<span class="php-var">$this</span>-&gt;noAjax) <span class="php-keyword1">foreach</span>(<span class="php-var">$ul</span>-&gt;getErrors() <span class="php-keyword1">as</span> <span class="php-var">$error</span>) { 
</span><span id="624" class="l"><a class="l" href="#624">624: </a>                    <span class="php-var">$this</span>-&gt;ajaxResponse(<span class="php-keyword1">true</span>, <span class="php-var">$error</span>); 
</span><span id="625" class="l"><a class="l" href="#625">625: </a>                }
</span><span id="626" class="l"><a class="l" href="#626">626: </a>
</span><span id="627" class="l"><a class="l" href="#627">627: </a>            } <span class="php-keyword1">else</span> <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;maxFiles) {
</span><span id="628" class="l"><a class="l" href="#628">628: </a>                <span class="php-comment">// over the limit</span>
</span><span id="629" class="l"><a class="l" href="#629">629: </a>                <span class="php-var">$this</span>-&gt;ajaxResponse(<span class="php-keyword1">true</span>, <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Max file upload limit reached&quot;</span>)); 
</span><span id="630" class="l"><a class="l" href="#630">630: </a>            }
</span><span id="631" class="l"><a class="l" href="#631">631: </a>        }
</span><span id="632" class="l"><a class="l" href="#632">632: </a>
</span><span id="633" class="l"><a class="l" href="#633">633: </a>        <span class="php-var">$n</span> = <span class="php-num">0</span>; 
</span><span id="634" class="l"><a class="l" href="#634">634: </a>
</span><span id="635" class="l"><a class="l" href="#635">635: </a>        <span class="php-keyword1">foreach</span>(<span class="php-var">$this</span>-&gt;value <span class="php-keyword1">as</span> <span class="php-var">$pagefile</span>) {
</span><span id="636" class="l"><a class="l" href="#636">636: </a>            <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;processInputFile(<span class="php-var">$input</span>, <span class="php-var">$pagefile</span>, <span class="php-var">$n</span>)) <span class="php-var">$changed</span> = <span class="php-keyword1">true</span>; 
</span><span id="637" class="l"><a class="l" href="#637">637: </a>            <span class="php-var">$n</span>++; 
</span><span id="638" class="l"><a class="l" href="#638">638: </a>        }
</span><span id="639" class="l"><a class="l" href="#639">639: </a>
</span><span id="640" class="l"><a class="l" href="#640">640: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$changed</span>) {
</span><span id="641" class="l"><a class="l" href="#641">641: </a>            <span class="php-var">$this</span>-&gt;value-&gt;<span class="php-keyword2">sort</span>(<span class="php-quote">'sort'</span>); 
</span><span id="642" class="l"><a class="l" href="#642">642: </a>            <span class="php-var">$this</span>-&gt;trackChange(<span class="php-quote">'value'</span>); 
</span><span id="643" class="l"><a class="l" href="#643">643: </a>        }
</span><span id="644" class="l"><a class="l" href="#644">644: </a>
</span><span id="645" class="l"><a class="l" href="#645">645: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">count</span>(<span class="php-var">$this</span>-&gt;ajaxResponses) &amp;&amp; <span class="php-var">$this</span>-&gt;isAjax) {
</span><span id="646" class="l"><a class="l" href="#646">646: </a>            <span class="php-keyword1">echo</span> <span class="php-keyword2">json_encode</span>(<span class="php-var">$this</span>-&gt;ajaxResponses); 
</span><span id="647" class="l"><a class="l" href="#647">647: </a>        }
</span><span id="648" class="l"><a class="l" href="#648">648: </a>
</span><span id="649" class="l"><a class="l" href="#649">649: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>; 
</span><span id="650" class="l"><a class="l" href="#650">650: </a>    }
</span><span id="651" class="l"><a class="l" href="#651">651: </a>
</span><span id="652" class="l"><a class="l" href="#652">652: </a>    <span class="php-comment">/**
</span></span><span id="653" class="l"><a class="l" href="#653">653: </a><span class="php-comment">     * Send an ajax response
</span></span><span id="654" class="l"><a class="l" href="#654">654: </a><span class="php-comment">     *
</span></span><span id="655" class="l"><a class="l" href="#655">655: </a><span class="php-comment">     * $error bool Whether it was successful
</span></span><span id="656" class="l"><a class="l" href="#656">656: </a><span class="php-comment">     * $message string Message you want to return
</span></span><span id="657" class="l"><a class="l" href="#657">657: </a><span class="php-comment">     * $file string Full path and filename or blank if not applicable
</span></span><span id="658" class="l"><a class="l" href="#658">658: </a><span class="php-comment">     *
</span></span><span id="659" class="l"><a class="l" href="#659">659: </a><span class="php-comment">     */</span>
</span><span id="660" class="l"><a class="l" href="#660">660: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_ajaxResponse" href="#_ajaxResponse">ajaxResponse</a>(<span class="php-var">$error</span>, <span class="php-var">$message</span>, <span class="php-var">$file</span> = <span class="php-quote">''</span>, <span class="php-var">$size</span> = <span class="php-quote">''</span>, <span class="php-var">$markup</span> = <span class="php-quote">''</span>) {
</span><span id="661" class="l"><a class="l" href="#661">661: </a>        <span class="php-var">$response</span> = <span class="php-keyword1">array</span>(
</span><span id="662" class="l"><a class="l" href="#662">662: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-var">$error</span>, 
</span><span id="663" class="l"><a class="l" href="#663">663: </a>            <span class="php-quote">'message'</span> =&gt; <span class="php-var">$message</span>, 
</span><span id="664" class="l"><a class="l" href="#664">664: </a>            <span class="php-quote">'file'</span> =&gt; <span class="php-var">$file</span>,
</span><span id="665" class="l"><a class="l" href="#665">665: </a>            <span class="php-quote">'size'</span> =&gt; <span class="php-var">$size</span>,
</span><span id="666" class="l"><a class="l" href="#666">666: </a>            <span class="php-quote">'markup'</span> =&gt; <span class="php-var">$markup</span>, 
</span><span id="667" class="l"><a class="l" href="#667">667: </a>            <span class="php-quote">'replace'</span> =&gt; <span class="php-var">$this</span>-&gt;singleFileReplacement,
</span><span id="668" class="l"><a class="l" href="#668">668: </a>            <span class="php-quote">'overwrite'</span> =&gt; <span class="php-var">$this</span>-&gt;overwrite
</span><span id="669" class="l"><a class="l" href="#669">669: </a>            );
</span><span id="670" class="l"><a class="l" href="#670">670: </a>
</span><span id="671" class="l"><a class="l" href="#671">671: </a>        <span class="php-var">$this</span>-&gt;ajaxResponses[] = <span class="php-var">$response</span>; 
</span><span id="672" class="l"><a class="l" href="#672">672: </a>    }
</span><span id="673" class="l"><a class="l" href="#673">673: </a>
</span><span id="674" class="l"><a class="l" href="#674">674: </a>    <span class="php-comment">/**
</span></span><span id="675" class="l"><a class="l" href="#675">675: </a><span class="php-comment">     * Return the current WireUpload instance or create a new one if not yet created
</span></span><span id="676" class="l"><a class="l" href="#676">676: </a><span class="php-comment">     *
</span></span><span id="677" class="l"><a class="l" href="#677">677: </a><span class="php-comment">     * @return WireUpload
</span></span><span id="678" class="l"><a class="l" href="#678">678: </a><span class="php-comment">     *
</span></span><span id="679" class="l"><a class="l" href="#679">679: </a><span class="php-comment">     */</span>
</span><span id="680" class="l"><a class="l" href="#680">680: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_getWireUpload" href="#_getWireUpload">getWireUpload</a>() {
</span><span id="681" class="l"><a class="l" href="#681">681: </a>        <span class="php-keyword1">if</span>(<span class="php-keyword2">is_null</span>(<span class="php-var">$this</span>-&gt;wireUpload)) <span class="php-var">$this</span>-&gt;wireUpload = <span class="php-var">$this</span>-&gt;wire(<span class="php-keyword1">new</span> WireUpload(<span class="php-var">$this</span>-&gt;attr(<span class="php-quote">'name'</span>))); 
</span><span id="682" class="l"><a class="l" href="#682">682: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;wireUpload; 
</span><span id="683" class="l"><a class="l" href="#683">683: </a>    }
</span><span id="684" class="l"><a class="l" href="#684">684: </a>
</span><span id="685" class="l"><a class="l" href="#685">685: </a>    <span class="php-comment">/**
</span></span><span id="686" class="l"><a class="l" href="#686">686: </a><span class="php-comment">     * Template method: allow items to be collapsed?
</span></span><span id="687" class="l"><a class="l" href="#687">687: </a><span class="php-comment">     *
</span></span><span id="688" class="l"><a class="l" href="#688">688: </a><span class="php-comment">     * @return bool
</span></span><span id="689" class="l"><a class="l" href="#689">689: </a><span class="php-comment">     *
</span></span><span id="690" class="l"><a class="l" href="#690">690: </a><span class="php-comment">     */</span>
</span><span id="691" class="l"><a class="l" href="#691">691: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="_allowCollapsedItems" href="#_allowCollapsedItems">allowCollapsedItems</a>() {
</span><span id="692" class="l"><a class="l" href="#692">692: </a>        <span class="php-keyword1">return</span> <span class="php-var">$this</span>-&gt;descriptionRows == <span class="php-num">0</span> &amp;&amp; !<span class="php-var">$this</span>-&gt;useTags &amp;&amp; !<span class="php-var">$this</span>-&gt;noCollapseItem;
</span><span id="693" class="l"><a class="l" href="#693">693: </a>    }
</span><span id="694" class="l"><a class="l" href="#694">694: </a>
</span><span id="695" class="l"><a class="l" href="#695">695: </a>    <span class="php-comment">/**
</span></span><span id="696" class="l"><a class="l" href="#696">696: </a><span class="php-comment">     * Configuration settings for InputfieldFile
</span></span><span id="697" class="l"><a class="l" href="#697">697: </a><span class="php-comment">     * 
</span></span><span id="698" class="l"><a class="l" href="#698">698: </a><span class="php-comment">     * @return InputfieldWrapper
</span></span><span id="699" class="l"><a class="l" href="#699">699: </a><span class="php-comment">     * 
</span></span><span id="700" class="l"><a class="l" href="#700">700: </a><span class="php-comment">     */</span>
</span><span id="701" class="l"><a class="l" href="#701">701: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="____getConfigInputfields" href="#____getConfigInputfields">___getConfigInputfields</a>() {
</span><span id="702" class="l"><a class="l" href="#702">702: </a>        <span class="php-var">$inputfields</span> = parent::___getConfigInputfields();
</span><span id="703" class="l"><a class="l" href="#703">703: </a>        
</span><span id="704" class="l"><a class="l" href="#704">704: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldCheckbox&quot;</span>); 
</span><span id="705" class="l"><a class="l" href="#705">705: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'unzip'</span>); 
</span><span id="706" class="l"><a class="l" href="#706">706: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-num">1</span>); 
</span><span id="707" class="l"><a class="l" href="#707">707: </a>        <span class="php-var">$f</span>-&gt;setAttribute(<span class="php-quote">'checked'</span>, <span class="php-var">$this</span>-&gt;unzip ? <span class="php-quote">'checked'</span> : <span class="php-quote">''</span>); 
</span><span id="708" class="l"><a class="l" href="#708">708: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Decompress ZIP files?'</span>);
</span><span id="709" class="l"><a class="l" href="#709">709: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;If checked, ZIP archives will be decompressed and all valid files added as uploads (if supported by the hosting environment). Max files must be set to 0 (no max) in order for ZIP uploads to be functional.&quot;</span>); <span class="php-comment">// Decompress ZIP files description</span>
</span><span id="710" class="l"><a class="l" href="#710">710: </a>        <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="711" class="l"><a class="l" href="#711">711: </a>        <span class="php-var">$inputfields</span>-&gt;append(<span class="php-var">$f</span>);
</span><span id="712" class="l"><a class="l" href="#712">712: </a>        
</span><span id="713" class="l"><a class="l" href="#713">713: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldCheckbox&quot;</span>);
</span><span id="714" class="l"><a class="l" href="#714">714: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'overwrite'</span>);
</span><span id="715" class="l"><a class="l" href="#715">715: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Overwrite existing files?'</span>);
</span><span id="716" class="l"><a class="l" href="#716">716: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'If checked, a file uploaded with the same name as an existing file will replace the existing file (description and tags will remain). If not checked, uploaded filenames will be renamed to be unique.'</span>); <span class="php-comment">// Overwrite description</span>
</span><span id="717" class="l"><a class="l" href="#717">717: </a>        <span class="php-var">$f</span>-&gt;notes = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Please note that when this option is enabled, AJAX-uploaded files are saved with the page immediately at upload, rather than when you click &quot;save&quot;. As a result, you may wish to leave this option unchecked unless you have a specific need for it.'</span>); <span class="php-comment">// Overwrite notes</span>
</span><span id="718" class="l"><a class="l" href="#718">718: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;overwrite) <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'checked'</span>, <span class="php-quote">'checked'</span>);
</span><span id="719" class="l"><a class="l" href="#719">719: </a>        <span class="php-var">$f</span>-&gt;collapsed = Inputfield::collapsedBlank;
</span><span id="720" class="l"><a class="l" href="#720">720: </a>        <span class="php-var">$inputfields</span>-&gt;append(<span class="php-var">$f</span>);
</span><span id="721" class="l"><a class="l" href="#721">721: </a>
</span><span id="722" class="l"><a class="l" href="#722">722: </a>        <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldInteger&quot;</span>); 
</span><span id="723" class="l"><a class="l" href="#723">723: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'descriptionRows'</span>); 
</span><span id="724" class="l"><a class="l" href="#724">724: </a>        <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-var">$this</span>-&gt;descriptionRows !== <span class="php-keyword1">null</span> ? (int) <span class="php-var">$this</span>-&gt;descriptionRows : <span class="php-num">1</span>); 
</span><span id="725" class="l"><a class="l" href="#725">725: </a>        <span class="php-comment">//$f-&gt;minValue = 0; </span>
</span><span id="726" class="l"><a class="l" href="#726">726: </a>        <span class="php-comment">//$f-&gt;maxValue = 30; </span>
</span><span id="727" class="l"><a class="l" href="#727">727: </a>        <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Number of rows for description field?'</span>);
</span><span id="728" class="l"><a class="l" href="#728">728: </a>        <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">&quot;Enter the number of rows available for the file description field, or enter 0 to not have a description field.&quot;</span>); <span class="php-comment">// Number of rows description</span>
</span><span id="729" class="l"><a class="l" href="#729">729: </a>        <span class="php-var">$inputfields</span>-&gt;append(<span class="php-var">$f</span>); 
</span><span id="730" class="l"><a class="l" href="#730">730: </a>        
</span><span id="731" class="l"><a class="l" href="#731">731: </a>        <span class="php-keyword1">if</span>(<span class="php-var">$this</span>-&gt;wire(<span class="php-quote">'languages'</span>) &amp;&amp; <span class="php-var">$this</span>-&gt;descriptionRows &gt;= <span class="php-num">1</span>) {
</span><span id="732" class="l"><a class="l" href="#732">732: </a>            <span class="php-var">$f</span> = <span class="php-var">$this</span>-&gt;modules-&gt;get(<span class="php-quote">&quot;InputfieldCheckbox&quot;</span>); 
</span><span id="733" class="l"><a class="l" href="#733">733: </a>            <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'name'</span>, <span class="php-quote">'noLang'</span>); 
</span><span id="734" class="l"><a class="l" href="#734">734: </a>            <span class="php-var">$f</span>-&gt;attr(<span class="php-quote">'value'</span>, <span class="php-num">1</span>); 
</span><span id="735" class="l"><a class="l" href="#735">735: </a>            <span class="php-var">$f</span>-&gt;setAttribute(<span class="php-quote">'checked'</span>, <span class="php-var">$this</span>-&gt;noLang ? <span class="php-quote">'checked'</span> : <span class="php-quote">''</span>); 
</span><span id="736" class="l"><a class="l" href="#736">736: </a>            <span class="php-var">$f</span>-&gt;label = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'Disable multi-language descriptions?'</span>);
</span><span id="737" class="l"><a class="l" href="#737">737: </a>            <span class="php-var">$f</span>-&gt;description = <span class="php-var">$this</span>-&gt;_(<span class="php-quote">'By default, descriptions are multi-language when you have Language Support installed. If you want to disable multi-language descriptions, check this box.'</span>); <span class="php-comment">// Disable multi-language description</span>
</span><span id="738" class="l"><a class="l" href="#738">738: </a>            <span class="php-var">$inputfields</span>-&gt;append(<span class="php-var">$f</span>); 
</span><span id="739" class="l"><a class="l" href="#739">739: </a>        }
</span><span id="740" class="l"><a class="l" href="#740">740: </a>        
</span><span id="741" class="l"><a class="l" href="#741">741: </a>        <span class="php-comment">// @todo make noAjax option configurable</span>
</span><span id="742" class="l"><a class="l" href="#742">742: </a>
</span><span id="743" class="l"><a class="l" href="#743">743: </a>        <span class="php-keyword1">return</span> <span class="php-var">$inputfields</span>;    
</span><span id="744" class="l"><a class="l" href="#744">744: </a>    }
</span><span id="745" class="l"><a class="l" href="#745">745: </a>
</span><span id="746" class="l"><a class="l" href="#746">746: </a>
</span><span id="747" class="l"><a class="l" href="#747">747: </a>
</span><span id="748" class="l"><a class="l" href="#748">748: </a>}
</span><span id="749" class="l"><a class="l" href="#749">749: </a></span></code></pre>

	<div id="footer">
		ProcessWire API (devns namespace branch) API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
